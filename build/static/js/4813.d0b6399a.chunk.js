"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4813],{4813:(A,e,l)=>{l.r(e),l.d(e,{default:()=>dA});var t=l(9950),n=l(25887),i=l(85657),s=l(48538),r=l(87094),d=l(41988),a=l(90650),o=(l(59690),l(20567)),c=l(99674),u=l(93124),v=l(41397),h=l(53271),p=l(47992),m=l(91854),x=l(51242),y=l(70030),j=l(53387),f=l(74623),b=l(28429),g=l(49348),_=l(85023),N=l(17491),w=l(44414);const E=A=>{let{form:e}=A;const{t:l}=(0,y.B)(),i=(0,m.wA)(),a=(0,b.Zp)(),{data:E}=(0,m.d4)((A=>A.order),m.bN),{currencies:B}=(0,m.d4)((A=>A.currency),m.bN),[S,q]=(0,t.useState)([]),[C,I]=(0,t.useState)(!1),[M,O]=(0,t.useState)(!1);(0,t.useEffect)((()=>{O(!0)}),[E.shop]);return console.log("refetchPayment",M),(0,w.jsx)(o.A,{title:l("customer.details"),children:(0,w.jsxs)(r.A,{gutter:12,children:[(0,w.jsx)(d.A,{span:16,children:(0,w.jsx)(n.A.Item,{label:l("client"),name:"user",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(p.G,{placeholder:l("select.client"),fetchOptions:async function(A){const e={search:A,perPage:10};return h.A.search(e).then((A=>{let{data:e}=A;return q(e),function(A){if(!A)return;return(0,v.isArray)(A)?A.map((A=>({label:`${A.firstname} ${A.lastname}`,value:A.id}))):{label:`${A.firstname} ${A.lastname}`,value:A.id}}(e)}))},onSelect:function(A){const l=S.find((e=>e.id===A.value));i((0,x.B_)({user:A,userUuid:l.uuid,userOBJ:l})),e.setFieldsValue({address:null}),I(!0)}})})}),(0,w.jsx)(d.A,{span:8,children:(0,w.jsx)(n.A.Item,{label:l("add"),className:"label-hidden",children:(0,w.jsx)(s.A,{icon:(0,w.jsx)(j.A,{}),onClick:()=>{i((0,f.X4)({url:"user/add",id:"user_add",name:l("add.user")})),a("/user/add")},children:l("add")})})}),(0,w.jsx)(d.A,{span:16,children:(0,w.jsx)(n.A.Item,{label:l("address"),name:"address",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(_.D,{fetchOptions:()=>async function(A){return A?(I(!1),h.A.getById(A).then((A=>{let{data:e}=A;return e.addresses.map((A=>({label:A.address,value:A.id})))}))):[]}(E.userUuid),onSelect:A=>i((0,x.B_)({address:A})),refetch:C,className:"w-100",placeholder:l("select.address")})})}),(0,w.jsx)(d.A,{span:8,children:(0,w.jsx)(n.A.Item,{label:l("add"),className:"label-hidden",children:(0,w.jsx)(s.A,{icon:(0,w.jsx)(j.A,{}),onClick:()=>{E.userUuid?(i((0,f.X4)({url:`user/${E.userUuid}`,id:"user_edit",name:l("edit.user")})),a(`/user/${E.userUuid}`)):g.oR.warning(l("please.select.client"))},children:l("add")})})}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(n.A.Item,{label:l("currency"),name:"currency_id",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(c.A,{placeholder:l("select.currency"),onSelect:function(A){const e=B.find((e=>e.id===A));i((0,x._9)(e))},children:B.map(((A,e)=>(0,w.jsxs)(c.A.Option,{value:A.id,children:[A.title," (",A.symbol,")"]},e)))})})}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(n.A.Item,{label:l("payment.type"),name:"payment_type",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(_.D,{refetch:M,fetchOptions:async function(){return N.A.getId(E.shop.value).then((A=>{let{data:e}=A;return e.filter((A=>"cash"===A.payment.tag||"wallet"===A.payment.tag)).map((A=>({label:A.payment.tag||"no name",value:A.id})))}))},className:"w-100",placeholder:l("select.payment.type"),onSelect:A=>i((0,x.B_)({paymentType:A}))})})}),(0,w.jsx)(d.A,{span:24,children:(0,w.jsx)(n.A.Item,{label:l("note"),name:"note",children:(0,w.jsx)(u.A,{})})})]})})};var B=l(37437),S=l(40202),q=l(55660),C=l(88986);function I(A,e){return e.length&&A?e.find((e=>e.id===A.value)):{}}var M=l(59051),O=l.n(M);const Y=()=>{const{t:A}=(0,y.B)(),e=(0,m.wA)(),{data:l}=(0,m.d4)((A=>A.order),m.bN),{allShops:i}=(0,m.d4)((A=>A.allShops),m.bN),[s,u]=(0,t.useState)(!1),v=I(l.shop,i);(0,C.A)((()=>{l.shop&&function(A){u(!0);const l={"shops[0]":A};q.A.getShopDeliveries(l).then((A=>{e((0,x.B_)({deliveries:A.data[0].deliveries}))})).finally((()=>u(!1)))}(l.shop.value)}),[null===l||void 0===l?void 0:l.shop]);return(0,w.jsxs)(o.A,{title:A("shipping.info"),children:[s&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(a.A,{})}),(0,w.jsxs)(r.A,{gutter:12,children:[(0,w.jsx)(d.A,{span:24,children:(0,w.jsx)(n.A.Item,{name:"delivery",label:A("delivery"),rules:[{required:!0,message:A("required")}],children:(0,w.jsx)(c.A,{options:(h=l.deliveries,null!==h&&void 0!==h&&h.length?h.map((A=>{var e;return{label:null===(e=A.translation)||void 0===e?void 0:e.title,value:A.id}})):[]),labelInValue:!0,onSelect:A=>{const t=l.deliveries.find((e=>e.id===A.value));e((0,x.B_)({delivery_fee:t.price}))}})})}),(0,w.jsx)(d.A,{span:24,children:(0,w.jsxs)(r.A,{gutter:12,children:[(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(n.A.Item,{name:"delivery_date",label:A("delivery.date"),rules:[{required:!0,message:A("required")}],children:(0,w.jsx)(B.A,{placeholder:A("delivery.date"),className:"w-100",disabledDate:A=>O()().add(-1,"days")>=A})})}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(n.A.Item,{label:`${A("delivery.time")} (${A("up.to")})`,name:"delivery_time",rules:[{required:!0,message:A("required")}],children:(0,w.jsx)(c.A,{options:function(A){var e,l;const t=[];let n=parseInt(null===A||void 0===A||null===(e=A.open_time)||void 0===e?void 0:e.slice(0,2)),i=parseInt(null===A||void 0===A||null===(l=A.close_time)||void 0===l?void 0:l.slice(0,2));for(;n<i;n++)t.push({id:`${n}:00-${n+1}:00`,value:`${n}:00 - ${n+1}:00`});return t}(v)})})}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(n.A.Item,{label:A("delivery.fee"),name:"delivery_fee",hidden:!0,children:(0,w.jsx)(S.A,{min:0,className:"w-100"})})})]})})]})]});var h};var D=l(80737),Q=l(90247),U=l(37963),z=l(62572),k=l(31526),T=l(69554),F=l(59334),P=l(45908),R=l(65472),J=l(23758),V=l(27741),G=l(34517),H=l(91524),Z=l(91348),K=l(53774),L=l(50630),W=l(50384);function $(A){var e,l,n,i,a,o;let{extrasModal:c,setExtrasModal:u}=A;const{t:v}=(0,y.B)(),[h,p]=(0,t.useState)(c.min_qty),{currency:j}=(0,m.d4)((A=>A.order.data),m.bN),f=(0,m.wA)();console.log("data => ",c);const b=()=>{u(!1)};return console.log(c),(0,w.jsxs)(V.A,{visible:!!c,title:null===(e=c.translation)||void 0===e?void 0:e.title,onOk:()=>{console.log("ok")},onCancel:b,footer:[(0,w.jsx)(s.A,{type:"primary",onClick:()=>{const A={...c,quantity:h};A.quantity>c.quantity?g.oR.warning(`${v("you.cannot.order.more.than")} ${c.quantity}`):(f((0,x.re)(A)),u(null))},children:v("add")}),(0,w.jsx)(s.A,{type:"default",onClick:b,children:v("cancel")})],children:[(0,w.jsxs)(r.A,{gutter:24,children:[(0,w.jsxs)(d.A,{span:8,className:"order",children:[(0,w.jsx)(G.A,{src:(0,T.A)(c.product.img),alt:null===(l=c.translation)||void 0===l?void 0:l.title,height:200,style:{objectFit:"contain"}}),(0,w.jsxs)("span",{className:c.bonus?"show-bonus":"d-none",children:[(0,w.jsx)(W.ob7,{})," ",null===(n=c.bonus)||void 0===n?void 0:n.shop_product_quantity,"+",null===(i=c.bonus)||void 0===i?void 0:i.bonus_quantity]})]}),(0,w.jsx)(d.A,{span:16,children:(0,w.jsxs)(H.A,{title:null===(a=c.translation)||void 0===a?void 0:a.title,children:[(0,w.jsxs)(H.A.Item,{label:v("price"),span:3,children:[(0,w.jsx)("div",{className:null!==c&&void 0!==c&&c.discount?"strike":"",children:(0,K.A)(null===c||void 0===c?void 0:c.price,null===j||void 0===j?void 0:j.symbol)}),null!==c&&void 0!==c&&c.discount?(0,w.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,K.A)(null===c||void 0===c?void 0:c.discount,null===j||void 0===j?void 0:j.symbol)}):""]}),(0,w.jsx)(H.A.Item,{label:v("in.stock"),span:3,children:(0,L.A)(null===c||void 0===c?void 0:c.quantity,null===c||void 0===c||null===(o=c.product)||void 0===o?void 0:o.unit)}),(0,w.jsx)(H.A.Item,{label:v("tax"),span:3,children:(0,K.A)(null===c||void 0===c?void 0:c.tax,null===j||void 0===j?void 0:j.symbol)})]})})]}),(0,w.jsx)(r.A,{gutter:12,className:"mt-3",children:(0,w.jsx)(d.A,{span:24,children:(0,w.jsxs)(D.A,{children:[(0,w.jsx)(s.A,{type:"primary",icon:(0,w.jsx)(Z.A,{}),onClick:function(){1!==h&&(h<=c.min_qty||p((A=>A-1)))}}),h,(0,w.jsx)(s.A,{type:"primary",icon:(0,w.jsx)(F.A,{}),onClick:function(){h!==(null===c||void 0===c?void 0:c.quantity)&&h!==c.max_qty&&p((A=>A+1))}})]})})})]})}var X=l(32801),AA=l(53992);function eA(){var A;const{t:e}=(0,y.B)(),l=(0,m.wA)(),n=(0,b.Zp)(),{orderItems:i,data:c,orderProducts:v,total:h,coupon:p}=(0,m.d4)((A=>A.order),m.bN),{allShops:j}=(0,m.d4)((A=>A.allShops),m.bN),g=I(c.shop,j),[_,N]=(0,t.useState)(!1),[E,B]=(0,t.useState)(null),[S,q]=(0,t.useState)(!1);(0,C.A)((()=>{var A;l((0,X.zv)({perPage:12,currency_id:c.currency.id,shop_id:null===(A=c.shop)||void 0===A?void 0:A.value}))}),[c.currency,c.shop]),(0,C.A)((()=>{i.length?function(){const A=function(A){const e=A.map(((A,e)=>({[`products[${e}][id]`]:null===A||void 0===A?void 0:A.id,[`products[${e}][quantity]`]:null===A||void 0===A?void 0:A.quantity})));return Object.assign({},...e)}(i),e={currency_id:c.currency.id,...A};N(!0),J.A.calculate(e).then((A=>{let{data:e}=A;const t=e.products.map((A=>({...i.find((e=>e.id===A.id)),...A})));l((0,x.JM)(t));const n={product_total:e.product_total,product_tax:e.product_tax,order_tax:e.order_tax,order_total:e.order_total};l((0,x.bX)(n))})).finally((()=>N(!1)))}():l((0,x.Ot)())}),[i,c.currency]);return(0,w.jsxs)("div",{className:"order-items",children:[_&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(a.A,{})}),(0,w.jsx)(r.A,{gutter:24,className:"mt-4",children:(0,w.jsx)(d.A,{span:24,children:(0,w.jsxs)(o.A,{className:"shop-card",children:[v.map((A=>{var t,i;return(0,w.jsxs)(o.A,{className:"position-relative",children:[(0,w.jsx)(P.A,{className:"close-order",onClick:()=>l((0,x.BZ)(A))}),(0,w.jsxs)(D.A,{className:"mr-3",children:[(0,w.jsx)("div",{className:"order-item-img",children:(0,w.jsx)("img",{src:(0,T.A)(A.product.img),alt:null===(t=A.translation)||void 0===t?void 0:t.title})}),(0,w.jsx)(k.A,{title:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"cursor-pointer white-space-wrap",onClick:()=>(A=>{l((0,f.X4)({id:`product-${A.uuid}`,url:`product/${A.uuid}`,name:e("edit.product")})),n(`/product/${A.uuid}`)})(A),children:null===(i=A.translation)||void 0===i?void 0:i.title}),(0,w.jsx)("div",{className:"product-price",children:(0,K.A)(A.price_without_tax,c.currency.symbol)})]}),description:(0,w.jsxs)("div",{children:[e("quantity"),": ",A.quantity]})})]})]},A.id)})),(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,w.jsxs)(D.A,{children:[(0,w.jsx)("img",{src:(0,T.A)(null===g||void 0===g?void 0:g.logo_img),alt:"shop logo",width:40,height:40,className:"rounded-circle"}),(0,w.jsx)("div",{children:null===g||void 0===g||null===(A=g.translation)||void 0===A?void 0:A.title})]}),(0,w.jsxs)(D.A,{children:[(0,w.jsx)(u.A,{placeholder:e("coupon"),addonAfter:p.verified?(0,w.jsx)(R.A,{style:{color:"#18a695"}}):null,defaultValue:p.coupon,onBlur:A=>{var e;return l((0,x._v)({coupon:A.target.value,user_id:null===(e=c.user)||void 0===e?void 0:e.value,shop_id:c.shop.value,verified:!1}))}}),(0,w.jsx)(s.A,{onClick:()=>(c.shop.id,void(p&&(q(!0),AA.A.checkCoupon(p).then((A=>l((0,x._T)({price:A.data.price,verified:!0})))).catch((()=>l((0,x._T)({price:0,verified:!1})))).finally((()=>q(!1)))))),loading:S,children:e("check.coupon")})]}),(0,w.jsxs)("div",{className:"mt-2 text-right shop-total",children:[(0,w.jsxs)(D.A,{children:[(0,w.jsxs)("p",{className:"font-weight-bold",children:[e("product.tax"),":"]}),(0,w.jsx)("p",{children:(0,K.A)(h.product_tax,c.currency.symbol)})]}),(0,w.jsx)("div",{}),(0,w.jsxs)(D.A,{children:[(0,w.jsxs)("p",{className:"font-weight-bold",children:[e("shop.tax"),":"]}),(0,w.jsx)("p",{children:(0,K.A)(h.order_tax,c.currency.symbol)})]}),(0,w.jsx)("div",{}),(0,w.jsxs)(D.A,{children:[(0,w.jsxs)("p",{className:"font-weight-bold",children:[e("delivery.fee"),":"]}),(0,w.jsx)("p",{children:(0,K.A)(c.delivery_fee,c.currency.symbol)})]}),(0,w.jsx)("div",{}),(0,w.jsxs)(D.A,{children:[(0,w.jsxs)("p",{className:"font-weight-bold",children:[e("total"),":"]}),(0,w.jsx)("p",{children:(0,K.A)(h.order_total+c.delivery_fee,c.currency.symbol)})]})]})]})]})})}),E&&(0,w.jsx)($,{extrasModal:E,setExtrasModal:B})]})}var lA=l(8297);const tA=A=>{let{form:e}=A;const{t:l}=(0,y.B)(),[n,i]=(0,t.useState)(null),[s,r]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[u,v]=(0,t.useState)(null),{id:h}=(0,b.g)(),j=(0,m.wA)(),{data:f}=(0,m.d4)((A=>A.order),m.bN),{products:_,loading:N}=(0,m.d4)((A=>A.product),m.bN);(0,C.A)((()=>{var A;const e={perPage:10,page:1,brand_id:null===n||void 0===n?void 0:n.value,category_id:null===s||void 0===s?void 0:s.value,search:d,shop_id:null===(A=f.shop)||void 0===A?void 0:A.value,active:1};j((0,X.zv)(e))}),[n,s,d]);return(0,w.jsxs)(o.A,{title:l("order.details"),extra:(0,w.jsxs)(D.A,{children:[(0,w.jsx)(p.G,{placeholder:l("select.shop"),fetchOptions:async function(A){const e={search:A,status:"approved"};return q.A.search(e).then((A=>{let{data:e}=A;return e.map((A=>{var e;return{label:null===(e=A.translation)||void 0===e?void 0:e.title,value:A.id}}))}))},style:{minWidth:150},onChange:A=>{j((0,x.qW)(A)),j((0,x.W7)()),e.setFieldsValue({delivery:null,delivery_date:null,delivery_time:null})},allowClear:!1,value:null===f||void 0===f?void 0:f.shop,disabled:h}),(0,w.jsx)(p.G,{placeholder:l("select.category"),fetchOptions:async function(A){var e;const l={search:A,shop_id:null===(e=f.shop)||void 0===e?void 0:e.value};return z.A.search(l).then((A=>{let{data:e}=A;return e.map((A=>{var e;return{label:null===(e=A.translation)||void 0===e?void 0:e.title,value:A.id}}))}))},style:{minWidth:150},onChange:A=>r(A),value:s}),(0,w.jsx)(p.G,{placeholder:l("select.brand"),fetchOptions:async function(A){return U.A.search(A).then((A=>{let{data:e}=A;return e.map((A=>({label:A.title,value:A.id})))}))},style:{minWidth:150},onChange:A=>i(A),value:n})]}),children:[(0,w.jsx)("div",{className:"d-flex justify-content-end mb-4",children:(0,w.jsx)(lA.A,{placeholder:l("search"),handleChange:c})}),(0,w.jsxs)("div",{className:"products-row order-items",children:[_.length?_.map((A=>{var e,t,n,i,s,r,d;return(0,w.jsxs)(o.A,{className:"products-col",cover:(0,w.jsx)("img",{alt:null===(e=A.product)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,src:(0,T.A)(null===A||void 0===A||null===(n=A.product)||void 0===n?void 0:n.img)}),onClick:()=>(A=>{f.currency?v(A):g.oR.warning(l("please.select.currency"))})(A),children:[(0,w.jsx)(k.A,{title:null===A||void 0===A||null===(i=A.product)||void 0===i||null===(s=i.translation)||void 0===s?void 0:s.title}),(0,w.jsx)("div",{className:"preview",children:(0,w.jsx)(F.A,{})}),(0,w.jsxs)("span",{className:A.bonus?"show-bonus":"d-none",children:[(0,w.jsx)(W.ob7,{})," ",null===(r=A.bonus)||void 0===r?void 0:r.shop_product_quantity,"+",null===(d=A.bonus)||void 0===d?void 0:d.bonus_quantity]})]},A.id)})):(0,w.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100",children:(0,w.jsx)(Q.A,{})}),N&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(a.A,{})})]}),u&&(0,w.jsx)($,{extrasModal:u,setExtrasModal:v}),(0,w.jsx)(eA,{form:e})]})};var nA=l(72772),iA=l(53177),sA=l(92270);function rA(A){let{form:e}=A;const{t:l}=(0,y.B)(),i=(0,m.wA)(),{data:s}=(0,m.d4)((A=>A.order),m.bN),u=(0,m.d4)((A=>A.menu.activeMenu),m.bN),{data:v}=u,[h,p]=(0,t.useState)(!1);return console.log(s.shop),(0,C.A)((()=>{var A;s?function(A){p(!0);const e={"shops[0]":A};q.A.getShopDeliveries(e).then((A=>i((0,f.Ok)({activeMenu:u,data:A.data})))).finally((()=>p(!1)))}(null===(A=s.shop)||void 0===A?void 0:A.value):e.setFieldsValue({deliveries:""})}),[s]),console.log("data",v),(0,w.jsxs)(o.A,{title:l("shipping.info"),children:[h&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(a.A,{})}),(0,w.jsx)("div",{children:(0,w.jsx)(r.A,{gutter:12,children:(0,w.jsx)(d.A,{span:24,children:(0,w.jsx)(n.A.Item,{name:"delivery",label:l("delivery"),rules:[{required:!0,message:l("required.field")}],children:(0,w.jsx)(c.A,{placeholder:l("select.delivery"),options:(x=v,null!==x&&void 0!==x&&x.length?x.map((A=>{var e;return{label:null===(e=A.translation)||void 0===e?void 0:e.title,value:A.id}})):[]),labelInValue:!0})})})})})]});var x}function dA(){const{t:A}=(0,y.B)(),[e]=n.A.useForm(),l=(0,m.wA)(),{id:o}=(0,b.g)(),c=(0,b.Zp)(),[u,v]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[j,g]=(0,t.useState)(!1),{data:_,total:N,coupon:B,orderProducts:S}=(0,m.d4)((A=>A.order),m.bN),{currencies:q}=(0,m.d4)((A=>A.currency),m.bN),{activeMenu:C}=(0,m.d4)((A=>A.menu),m.bN),{delivery:I}=(0,m.d4)((A=>A.globalSettings.settings),m.bN);function M(A){return{label:A.firstname+" "+A.lastname,value:A.id,uuid:A.uuid}}function D(A){var e;return A?{label:null===(e=A.translation)||void 0===e?void 0:e.title,value:A.id,open_time:A.open_time,close_time:A.close_time}:null}const Q=A=>{const e={payment_sys_id:_.payment_type};v(!0),J.A.update(o,A).then((A=>{!function(A,e){sA.A.create(A,e).then((A=>{p(A.data.id),l((0,x.Uy)())})).finally((()=>v(!1)))}(A.data.id,e)})).catch((()=>v(!1)))};return(0,t.useEffect)((()=>{C.refetch&&(g(!0),J.A.getById(o).then((A=>{var t,n,i,s,r,d,a,o,c;const u=A.data,v=u.details.flatMap((A=>({...A.shopProduct,quantity:A.quantity,img:A.shopProduct.product.img})));l((0,x._9)(u.currency)),l((0,x.F1)(v)),l((0,x.B_)({userUuid:u.user.uuid,shop:D(u.shop),delivery_time:u.delivery_time,delivery_fee:u.delivery_fee,payment_type:null===(t=u.transaction)||void 0===t?void 0:t.payment_system.id})),e.setFieldsValue({delivery_time:(null===_||void 0===_?void 0:_.delivery_time)||"9:00-10:00",user:M(u.user),currency_id:u.currency.id,address:{label:null===(n=u.delivery_address)||void 0===n?void 0:n.address,value:null===(i=u.delivery_address)||void 0===i?void 0:i.id},payment_type:{label:null===(s=u.transaction)||void 0===s||null===(r=s.payment_system)||void 0===r||null===(d=r.payment)||void 0===d||null===(a=d.translation)||void 0===a?void 0:a.title,value:null===(o=u.transaction)||void 0===o?void 0:o.payment_system.id},note:u.note,delivery_date:O()(_.delivery_date),delivery:{label:null===(c=u.delivery_type.translation)||void 0===c?void 0:c.title,value:u.delivery_type.id}})})).finally((()=>{g(!1),l((0,f.km)(C))})))}),[C.refetch]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{title:A("edit.order"),extra:(0,w.jsx)(s.A,{type:"primary",loading:u,onClick:()=>e.submit(),disabled:!(null!==S&&void 0!==S&&S.length),children:A("save")})}),(0,w.jsxs)(n.A,{name:"order-form",form:e,layout:"vertical",onFinish:A=>{var e,l;const t=_.delivery_fee+N.order_total,n={user_id:null===(e=A.user)||void 0===e?void 0:e.value,total:t,currency_id:A.currency_id,rate:null===(l=q.find((e=>e.id===A.currency_id)))||void 0===l?void 0:l.rate,shop_id:_.shop.value,delivery_id:A.delivery.value,delivery_fee:_.delivery_fee,coupon:B.coupon,tax:N.order_tax,commission_fee:1,payment_type:A.payment_type.value,delivery_time:A.delivery_time,note:A.note,delivery_date:O()(A.delivery_date).format("YYYY-MM-DD"),delivery_address_id:A.address.value,delivery_type_id:A.delivery.value,total_discount:S.reduce(((A,e)=>A+e.discount),0),products:S.map((A=>({shop_product_id:A.id,price:A.price,qty:A.qty,tax:A.tax,discount:A.discount,total_price:A.total_price})))};Q(n)},className:"order-add",initialValues:{user:_.user||null,address:_.address||null,currency_id:_.currency.id,payment_type:_.payment_type||null},children:[(0,w.jsxs)(r.A,{gutter:24,hidden:j,children:[(0,w.jsx)(d.A,{span:16,children:(0,w.jsx)(tA,{form:e})}),(0,w.jsxs)(d.A,{span:8,children:[(0,w.jsx)(E,{form:e}),"1"===I?(0,w.jsx)(Y,{form:e}):(0,w.jsx)(rA,{form:e})]})]}),j&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(a.A,{})})]}),h?(0,w.jsx)(nA.A,{orderId:h,handleClose:()=>{p(null);const A="orders-board";l((0,f.EK)({...C,nextUrl:A})),c(`/${A}`),l((0,iA.Gb)())}}):""]})}},8297:(A,e,l)=>{l.d(e,{A:()=>d});var t=l(9950),n=l(93124),i=l(41397),s=l(52786),r=l(44414);function d(A){let{handleChange:e,defaultValue:l,resetSearch:d,...a}=A;const[o,c]=(0,t.useState)(l),u=(0,t.useMemo)((()=>(0,i.debounce)((A=>{e(A)}),800)),[]);return(0,t.useEffect)((()=>{c(l)}),[d]),(0,r.jsx)(n.A,{value:o,onChange:A=>{const{value:e}=A.target;c(e.replace(/\s/g,"")),u(e.replace(/\s/g,""))},prefix:(0,r.jsx)(s.A,{}),...a})}},31526:(A,e,l)=>{var t=l(6305).default,n=l(24994).default;e.A=void 0;var i=n(l(94634)),s=n(l(48738)),r=t(l(9950)),d=l(78279),a=function(A,e){var l={};for(var t in A)Object.prototype.hasOwnProperty.call(A,t)&&e.indexOf(t)<0&&(l[t]=A[t]);if(null!=A&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(A);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(A,t[n])&&(l[t[n]]=A[t[n]])}return l},o=function(A){return r.createElement(d.ConfigConsumer,null,(function(e){var l=e.getPrefixCls,t=A.prefixCls,n=A.className,d=A.avatar,o=A.title,c=A.description,u=a(A,["prefixCls","className","avatar","title","description"]),v=l("card",t),h=(0,s.default)("".concat(v,"-meta"),n),p=d?r.createElement("div",{className:"".concat(v,"-meta-avatar")},d):null,m=o?r.createElement("div",{className:"".concat(v,"-meta-title")},o):null,x=c?r.createElement("div",{className:"".concat(v,"-meta-description")},c):null,y=m||x?r.createElement("div",{className:"".concat(v,"-meta-detail")},m,x):null;return r.createElement("div",(0,i.default)({},u,{className:h}),p,y)}))};e.A=o},47992:(A,e,l)=>{l.d(e,{G:()=>a});var t=l(9950),n=l(95491),i=l.n(n),s=l(99674),r=l(90650),d=l(44414);const a=A=>{let{fetchOptions:e,debounceTimeout:l=400,...n}=A;const[a,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)([]),v=(0,t.useMemo)((()=>i()((A=>{u([]),o(!0),e(A).then((A=>{u(A),o(!1)}))}),l)),[e,l]);return(0,d.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,notFoundContent:a?(0,d.jsx)(r.A,{size:"small"}):"no results",...n,options:c,onFocus:()=>{c.length||v("")}})}},50630:(A,e,l)=>{function t(A,e){var l;const t=(null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title)||"pcs";if(!A)return 0;switch(null===e||void 0===e?void 0:e.position){case"after":return A+" "+t;case"before":return t+" "+A}}l.d(e,{A:()=>t})},53387:(A,e,l)=>{l.d(e,{A:()=>d});var t=l(89379),n=l(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=l(16233),r=function(A,e){return n.createElement(s.A,(0,t.A)((0,t.A)({},A),{},{ref:e,icon:i}))};r.displayName="PlusCircleOutlined";const d=n.forwardRef(r)},53774:(A,e,l)=>{function t(A){if(!A)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(A).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(e,{A:()=>t})},53992:(A,e,l)=>{l.d(e,{A:()=>n});var t=l(82371);const n={checkCoupon:A=>t.A.post("rest/coupons/check",A),checkCashback:A=>t.A.post("rest/cashback/check",A)}},59690:()=>{},69554:(A,e,l)=>{l.d(e,{A:()=>n});l(63620);const t="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==";function n(A){return A||t}},72772:(A,e,l)=>{l.d(e,{A:()=>x});var t=l(9950),n=l(27741),i=l(48538),s=l(90650),r=l(20567),d=l(3754),a=l(12916),o=l(23758),c=l(86245),u=l(59051),v=l.n(u),h=l(53774),p=l(70030),m=l(44414);const x=A=>{var e,l,u,x,y,j,f,b,g,_,N,w,E;let{orderId:B,handleClose:S}=A;const{t:q}=(0,p.B)(),[C,I]=(0,t.useState)(!1),[M,O]=(0,t.useState)(null),[Y,D]=(0,t.useState)([]);return(0,t.useEffect)((()=>{B&&(I(!0),o.A.getById(B).then((A=>{O(A.data);const e=A.data.details.map((A=>({shop_id:A.shop_id,...A,product:A.shopProduct.product}))).flat();D(e)})).finally((()=>I(!1))))}),[B]),console.log(M),(0,m.jsx)(n.A,{visible:!!B,title:q("order.created.successfully"),onOk:S,onCancel:S,footer:[(0,m.jsx)(i.A,{onClick:S,children:q("back")})],style:{minWidth:"80vw"},children:(0,m.jsx)("div",{className:"py-4 order-preview",children:C?(0,m.jsx)("div",{className:"w-100 text-center",children:(0,m.jsx)(s.A,{})}):(0,m.jsxs)(r.A,{children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{className:"mb-1 font-weight-semibold",children:[q("invoice")," #",null===M||void 0===M?void 0:M.id]}),(0,m.jsx)("p",{children:v()(null===M||void 0===M?void 0:M.created_at).format("DD/M/YYYY")}),(0,m.jsx)("address",{children:(0,m.jsxs)("p",{children:[(0,m.jsxs)("span",{children:[q("delivery.type"),":"," ",null===M||void 0===M||null===(e=M.delivery_type)||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[q("delivery.address"),": ",null===M||void 0===M||null===(u=M.delivery_address)||void 0===u?void 0:u.address]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[q("delivery.date"),": ",null===M||void 0===M?void 0:M.delivery_date," ",null===M||void 0===M?void 0:M.delivery_time]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[q("note"),": ",null===M||void 0===M?void 0:M.note]})]})})]}),(0,m.jsx)("address",{children:(0,m.jsxs)("p",{children:[(0,m.jsxs)("span",{className:"font-weight-semibold text-dark font-size-md",children:[null===M||void 0===M||null===(x=M.user)||void 0===x?void 0:x.firstname," ",null===M||void 0===M||null===(y=M.user)||void 0===y?void 0:y.lastname]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[q("phone"),": ",null===M||void 0===M||null===(j=M.user)||void 0===j?void 0:j.phone]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[q("email"),": ",null===M||void 0===M||null===(f=M.user)||void 0===f?void 0:f.email]})]})})]}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsxs)(d.A,{dataSource:Y,rowKey:A=>A.id,pagination:!1,className:"mb-5",children:[(0,m.jsx)(c.A,{title:"No.",dataIndex:"id"},"id"),(0,m.jsx)(c.A,{title:q("product"),dataIndex:"product",render:A=>{var e;return null===A||void 0===A||null===(e=A.translation)||void 0===e?void 0:e.title}},"product"),(0,m.jsx)(c.A,{title:q("quantity"),dataIndex:"quantity"},"quantity"),(0,m.jsx)(c.A,{title:q("discount"),dataIndex:"discount",render:A=>{var e;return(0,h.A)(A,null===M||void 0===M||null===(e=M.currency)||void 0===e?void 0:e.symbol)}},"discount"),(0,m.jsx)(c.A,{title:q("origin_price"),dataIndex:"origin_price",render:A=>{var e;return(0,h.A)(A,null===M||void 0===M||null===(e=M.currency)||void 0===e?void 0:e.symbol)}},"origin_price"),(0,m.jsx)(c.A,{title:q("tax"),dataIndex:"tax",render:A=>{var e;return(0,h.A)(A,null===M||void 0===M||null===(e=M.currency)||void 0===e?void 0:e.symbol)}},"tax"),(0,m.jsx)(c.A,{title:q("price"),dataIndex:"total_price",render:A=>{var e;return(0,h.A)(A,null===M||void 0===M||null===(e=M.currency)||void 0===e?void 0:e.symbol)}},"total_price"),(0,m.jsx)(c.A,{title:q("is.bonus"),dataIndex:"data",render:(A,e)=>(0,m.jsx)(a.A,{children:Boolean(e.bonus)?q("true"):q("false")})},"is.bonus")]}),(0,m.jsx)("div",{className:"d-flex justify-content-end",children:(0,m.jsxs)("div",{className:"text-right ",children:[(0,m.jsxs)("div",{className:"border-bottom",children:[(0,m.jsxs)("p",{className:"mb-2",children:[(0,m.jsxs)("span",{children:[q("sub-total.amount"),": "]}),(0,h.A)(function(){var A;return null===M||void 0===M||null===(A=M.details)||void 0===A?void 0:A.filter((A=>!Boolean(A.bonus))).reduce(((A,e)=>A+e.origin_price),0)}(),null===M||void 0===M||null===(b=M.currency)||void 0===b?void 0:b.symbol)]}),(0,m.jsxs)("p",{children:[q("delivery.price")," :"," ",(0,h.A)(null===M||void 0===M?void 0:M.delivery_fee,null===M||void 0===M||null===(g=M.currency)||void 0===g?void 0:g.symbol)]}),(0,m.jsxs)("p",{children:[q("total.tax")," :"," ",(0,h.A)(null===M||void 0===M?void 0:M.tax,null===M||void 0===M||null===(_=M.currency)||void 0===_?void 0:_.symbol)]}),(0,m.jsxs)("p",{children:[q("coupon")," :"," ",(0,h.A)(null===M||void 0===M||null===(N=M.coupon)||void 0===N?void 0:N.price,null===M||void 0===M||null===(w=M.currency)||void 0===w?void 0:w.symbol)]})]}),(0,m.jsxs)("h2",{className:"font-weight-semibold mt-3",children:[(0,m.jsxs)("span",{className:"mr-1",children:[q("grand.total"),": "]}),(0,h.A)(null===M||void 0===M?void 0:M.price,null===M||void 0===M||null===(E=M.currency)||void 0===E?void 0:E.symbol)]})]})})]})]})})})}},85023:(A,e,l)=>{l.d(e,{D:()=>r});var t=l(9950),n=l(99674),i=l(90650),s=l(44414);const r=A=>{let{fetchOptions:e,refetch:l=!1,...r}=A;const[d,a]=(0,t.useState)(!1),[o,c]=(0,t.useState)([]);return(0,s.jsx)(n.A,{filterOption:!1,labelInValue:!0,notFoundContent:d?(0,s.jsx)(i.A,{size:"small"}):"no results",...r,options:d?[]:o,onFocus:()=>{o.length&&!l||(a(!0),e().then((A=>{c(A),a(!1)})))}})}},86245:(A,e)=>{e.A=void 0;var l=function(A){return null};e.A=l},91348:(A,e,l)=>{l.d(e,{A:()=>d});var t=l(89379),n=l(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var s=l(16233),r=function(A,e){return n.createElement(s.A,(0,t.A)((0,t.A)({},A),{},{ref:e,icon:i}))};r.displayName="MinusOutlined";const d=n.forwardRef(r)}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[282],{17456:(e,l,a)=>{a.d(l,{A:()=>s});a(9950);const s=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},40282:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});var s=a(9950),r=a(28429),i=a(49348),n=a(87827),t=a(20567),d=a(87094),c=a(41988),u=a(99674),p=a(90650),m=a(55902),o=a(25933),x=a(48538),h=a(91854),j=a(74623),A=a(70030),y=a(17456),b=a(54826),v=a(70283),g=a(77380),q=a(85023),f=a(13567),_=a(87822),k=a(46984),I=(a(5436),a(44414));const N=()=>{var e;const{t:l}=(0,A.B)(),{activeMenu:a}=(0,h.d4)((e=>e.menu),h.bN),N=(0,h.wA)(),[z]=n.A.useForm(),F=(0,r.Zp)(),{id:w}=(0,r.g)(),[V,O]=(0,s.useState)(!1),[P,C]=(0,s.useState)(!1),{languages:S}=(0,h.d4)((e=>e.formLang),h.bN),[D,$]=(0,s.useState)(null),{defaultCurrency:B}=(0,h.d4)((e=>e.currency),h.bN);console.log("activePayment",D),(0,s.useEffect)((()=>()=>{const e=z.getFieldsValue(!0);N((0,j.Ok)({activeMenu:a,data:e}))}),[]);(0,s.useEffect)((()=>{a.refetch&&(e=>{C(!0),g.C.getById(e).then((e=>{let{data:l}=e;$({label:l.payment.tag,value:l.payment.id}),z.setFieldsValue({...l.payload,payment_id:l.payment.tag,paypal_validate_ssl:Boolean(l.payload.paypal_validate_ssl)})})).finally((()=>{C(!1),N((0,j.km)(a))}))})(w)}),[a.refetch]);return(0,I.jsx)(t.A,{title:l("edit.payment.payloads"),className:"h-100",children:P?(0,I.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,I.jsx)(p.A,{size:"large",className:"py-5"})}):(0,I.jsxs)(n.A,{name:"edit.payment",layout:"vertical",onFinish:e=>{delete e.payment_id,O(!0);const s={payment_id:D.value,payload:{...e,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(e.paypal_validate_ssl):void 0}};g.C.update(w,s).then((()=>{const e="payment-payloads";i.oR.success(l("successfully.updated")),N((0,j.EK)({...a,nextUrl:e})),F(`/${e}`),N((0,k.i)())})).finally((()=>O(!1)))},form:z,initialValues:{...a.data},className:"d-flex flex-column h-100",children:[(0,I.jsxs)(d.A,{gutter:12,children:[(0,I.jsx)(c.A,{span:"cash"===(null===D||void 0===D?void 0:D.label)||"wallet"===(null===D||void 0===D?void 0:D.label)?12:24,children:(0,I.jsx)(n.A.Item,{label:l("payment"),name:"payment_id",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(u.A,{notFoundContent:P?(0,I.jsx)(p.A,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"cash"===(null===D||void 0===D?void 0:D.label)||"wallet"===(null===D||void 0===D?void 0:D.label)?"":(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:24,offset:10,children:(0,I.jsx)(I.Fragment,{children:(e=>{switch(e){case"Paypal":return(0,I.jsx)(b.SnG,{size:80});case"Stripe":return(0,I.jsx)(v.kDV,{size:80});case"Razorpay":return(0,I.jsx)(v.NVb,{size:80});case"Paystack":return(0,I.jsx)("img",{src:y.A,alt:"img",width:"80",height:"80"});default:return null}})(null===D||void 0===D?void 0:D.label)})}),"paystack"===(null===D||void 0===D?void 0:D.label)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})})," ",(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("currency"),name:"currency",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(q.D,{placeholder:l("select.currency"),valuePropName:"label",defaultValue:{value:B.id,label:B.title},fetchOptions:()=>f.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"paypal"===(null===D||void 0===D?void 0:D.label)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(u.A,{options:[{value:"live",label:l("live")},{value:"sandbox",label:l("sandbox")}]})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.sandbox.app.id"),name:"paypal_sandbox_app_id",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.live.app.id"),name:"paypal_live_app_id",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.payment.action"),name:"paypal_payment_action",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(u.A,{options:[{value:"Sale",label:l("sale")},{value:"Order",label:l("order")},{value:"Authorization",label:l("authorization")}]})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(q.D,{placeholder:l("select.currency"),fetchOptions:()=>f.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title} (${e.symbol||""})`,key:e.id})))}))})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.locale"),name:"paypal_locale",rules:[{required:!0,message:l("required")}],valuePropName:"value",children:(0,I.jsx)(u.A,{placeholder:l("select.locale"),defaultValue:{label:null===(e=S.find((e=>e.locale===_.A.language)))||void 0===e?void 0:e.title,value:_.A.language},options:null===S||void 0===S?void 0:S.map((e=>({value:e.locale,label:e.title})))})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("paypal.validate.ssl"),name:"paypal_validate_ssl",valuePropName:"checked",children:(0,I.jsx)(o.A,{})})})]}):"stripe"===(null===D||void 0===D?void 0:D.label)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})})," ",(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("currency"),name:"currency",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(q.D,{placeholder:l("select.currency"),valuePropName:"label",defaultValue:{value:B.id,label:B.title},fetchOptions:()=>f.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"razorpay"===(null===D||void 0===D?void 0:D.label)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})})," ",(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("currency"),name:"currency",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(q.D,{placeholder:l("select.currency"),valuePropName:"label",defaultValue:{value:B.id,label:B.title},fetchOptions:()=>f.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"flutterWave"===(null===D||void 0===D?void 0:D.label)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("payload.title"),name:"title",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("payload.description"),name:"description",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("flw_pk"),name:"flw_pk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("flw_sk"),name:"flw_sk",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("key"),name:"key",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(m.A,{})})}),(0,I.jsx)(c.A,{span:12,children:(0,I.jsx)(n.A.Item,{label:l("currency"),name:"currency",rules:[{required:!0,message:l("required")}],children:(0,I.jsx)(q.D,{placeholder:l("select.currency"),valuePropName:"label",defaultValue:{value:B.id,label:B.title},fetchOptions:()=>f.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):null]})]}),(0,I.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,I.jsx)("div",{className:"pb-5",children:(0,I.jsx)(x.A,{type:"primary",htmlType:"submit",loading:V,disabled:V,children:l("submit")})})})]})})}},85023:(e,l,a)=>{a.d(l,{D:()=>t});var s=a(9950),r=a(99674),i=a(90650),n=a(44414);const t=e=>{let{fetchOptions:l,refetch:a=!1,...t}=e;const[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)([]);return(0,n.jsx)(r.A,{filterOption:!1,labelInValue:!0,notFoundContent:d?(0,n.jsx)(i.A,{size:"small"}):"no results",...t,options:d?[]:u,onFocus:()=>{u.length&&!a||(c(!0),l().then((e=>{p(e),c(!1)})))}})}}}]);
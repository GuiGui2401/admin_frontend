"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2451],{34422:(e,s,t)=>{t.d(s,{Q:()=>a});const a=[{title:"monday",disabled:!1},{title:"tuesday",disabled:!1},{title:"wednesday",disabled:!1},{title:"thursday",disabled:!1},{title:"friday",disabled:!1},{title:"saturday",disabled:!1},{title:"sunday",disabled:!1}]},51359:(e,s,t)=>{e.exports=t.p+"static/media/map.f2e0b3013d676ba09c88.gif"},54311:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(87827),l=(t(9950),t(56713)),n=t(70030),i=t(91854),r=t(63620),d=t(44414);function o(e){let{setLocation:s,form:t,item:o,idx:c,defaultLang:u}=e;const{t:m}=(0,n.B)(),{google_map_key:h}=(0,i.d4)((e=>e.globalSettings.settings),i.bN),{ref:p}=(0,l.usePlacesWidget)({apiKey:h||r.CJ,onPlaceSelected:e=>{const a={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};s(a),t.setFieldsValue({[`address[${u}]`]:null===e||void 0===e?void 0:e.formatted_address})}});return(0,d.jsx)(a.A.Item,{label:m("address"),name:`address[${null===o||void 0===o?void 0:o.locale}]`,rules:[{required:(null===o||void 0===o?void 0:o.locale)===u,message:m("required")}],hidden:(null===o||void 0===o?void 0:o.locale)!==u,children:(0,d.jsx)("input",{className:"address-input",ref:p,placeholder:""})},"address"+c)}},62983:(e,s,t)=>{t.d(s,{A:()=>d});var a=t(97239),l=t(9950),n=t(63620),i=t(39174),r=t(44414);const d=(0,a.GoogleApiWrapper)({apiKey:n.CJ,libraries:["places"]})((e=>{var s,t;const[n,d]=(0,l.useState)({lat:38.58799374569842,lng:-98.47949767583457}),[o,c]=(0,l.useState)([]),[u,m]=(0,l.useState)(!!e.triangleCoords),[h,p]=(0,l.useState)(null);e.setMerge(u);(0,l.useEffect)((()=>(p(!0),u&&c(e.triangleCoords),()=>{c([])})),[e.triangleCoords]);const g=e.triangleCoords.map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));for(var x=new e.google.maps.LatLngBounds,v=0;v<g.length;v++)x.extend(g[v]);return(0,r.jsxs)("div",{className:"map-container",style:{height:500,width:"100%"},children:[(0,r.jsx)("button",{className:"map-button",type:"button",onClick:()=>{navigator.geolocation.getCurrentPosition((function(e){d({lat:e.coords.latitude,lng:e.coords.longitude})}))},children:(0,r.jsx)(i.uFi,{})}),(0,r.jsxs)(a.Map,{options:{minZoom:15,maxZoom:15},cursor:"pointer",onClick:(s,t,a)=>{p(!1);const{latLng:l}=a,n=l.lat(),i=l.lng();u?(c([]),e.settriangleCoords([{lat:n,lng:i}]),d({lat:n,lng:i}),m(!1)):e.settriangleCoords((e=>[...e,{lat:n,lng:i}]))},maxZoom:16,minZoom:2,google:e.google,initialCenter:n,center:n,onReady:function(e,s){s.setOptions({draggableCursor:"crosshair",draggingCursor:"grab"})},bounds:h&&x,className:"clickable",children:[null===(s=e.triangleCoords)||void 0===s?void 0:s.map(((s,t)=>(0,r.jsx)(a.Marker,{onClick:s=>(s=>{var t,a;m(!!e.triangleCoords),(null===(t=e.triangleCoords[0])||void 0===t?void 0:t.lat)===(null===(a=s.position)||void 0===a?void 0:a.lat)&&e.triangleCoords.length>1&&(c(e.triangleCoords),e.setLocation(e.triangleCoords),m(!0),p(!0))})(s),position:s,icon:{url:"https://upload.wikimedia.org/wikipedia/commons/9/94/Circle-image.svg",scaledSize:new e.google.maps.Size(10,10)},className:"marker"},t))),null!==o&&void 0!==o&&o.length?(0,r.jsx)(a.Polygon,{path:e.triangleCoords,strokeColor:"black",strokeOpacity:.8,strokeWeight:3,fillColor:"black",fillOpacity:.35},null===o||void 0===o?void 0:o.length):(0,r.jsx)(a.Polyline,{path:e.triangleCoords,strokeColor:"black",strokeOpacity:.8,strokeWeight:3,fillColor:"black",fillOpacity:.35},null===(t=e.triangleCoords)||void 0===t?void 0:t.length)]})]})}))},71999:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(9950),l=t(17811),n=t(12437),i=t(91854),r=t(82406),d=t(44414);const o=()=>{const e=(0,i.wA)(),{languages:s,defaultLang:t}=(0,i.d4)((e=>e.formLang),i.bN);(0,a.useEffect)((()=>{s.length||n.A.getAllActive().then((s=>{let{data:t}=s;e((0,r.Nn)(t))}))}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.Ay.Group,{value:t,onChange:s=>{let{target:{value:t}}=s;e((0,r.Qq)(t))},className:"float-right",buttonStyle:"solid",children:s.map((e=>(0,d.jsx)(l.Ay.Button,{value:e.locale,children:e.title},e.id)))})})}},72451:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ce,steps:()=>oe});var a=t(9950),l=t(45359),n=t(20567),i=t(91854),r=t(71999),d=t(70030),o=t(87827),c=t(87094),u=t(12916),m=t(41988),h=t(80737),p=t(48538),g=t(57796),x=t(25933),v=t(81446),A=t(59051),j=t.n(A),f=t(82371);const b={getById:e=>f.A.get(`dashboard/admin/shop-working-days/${e}`),create:e=>f.A.post("dashboard/admin/shop-working-day",e,{}),update:(e,s)=>f.A.put(`dashboard/admin/shop-working-days/${e}`,s,{}),delete:e=>f.A.delete("dashboard/admin/shop-working-days",{params:e})},y={getById:e=>f.A.get(`dashboard/admin/shop-closed-dates/${e}`),create:e=>f.A.post("dashboard/admin/shop-closed-dates",e,{}),update:(e,s)=>f.A.put(`dashboard/admin/shop-closed-dates/${e}`,s,{}),delete:e=>f.A.delete("dashboard/seller/shop-closed-dates/delete",{params:e})};var k=t(34422),_=t(9213),w=t(13239),N=t(94118),I=t(50384),C=t(44414);const S=e=>{let{next:s,prev:t}=e;const[l]=o.A.useForm(),{t:r}=(0,d.B)(),[A,f]=(0,a.useState)([]),[S,q]=(0,a.useState)(new Array(7).fill(!1)),[F,L]=(0,a.useState)(!1),[B,O]=(0,a.useState)(!1),M=[{from:new Date(1900,4,18),to:new Date}],[$,z]=(0,a.useState)(!0),[D,Y]=(0,a.useState)(null),[H,T]=(0,a.useState)(null),{activeMenu:V}=(0,i.d4)((e=>e.menu),i.bN),{uuid:E}=null===V||void 0===V?void 0:V.data;(0,a.useEffect)((()=>{l.setFieldsValue({working_days:k.Q}),E&&(O(!0),y.getById(E).then((e=>{f(e.data.closed_dates.filter((e=>e.day>j()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(e.day))))})),b.getById(E).then((e=>{q(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&l.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:j()(e.from,"HH:mm:ss"),to:j()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>O(!1))))}),[]);const P=A&&A.length>0?(0,C.jsxs)(c.A,{children:[(0,C.jsx)(u.A,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:r("Your.existing.vacations")}),(0,C.jsxs)(m.A,{span:24,className:"mt-2",children:[A.slice(0,$?1:A.length).map(((e,s)=>(0,C.jsxs)(h.A,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,C.jsx)(m.A,{span:24,style:{fontSize:14,marginTop:"8px"},children:j()(e).format("YYYY-MM-DD")}),(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(u.A,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return s=e,f(A.filter((e=>e!==s)));var s},children:r("remove")})})]},s))),(0,C.jsx)(p.A,{className:"mt-3 w-100",onClick:()=>{z(!$)},children:$?(0,C.jsx)(I.U29,{}):(0,C.jsx)(I.ZXT,{})})]})]}):(0,C.jsx)(u.A,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),Z=(e,s)=>{Y(e),H&&e&&e.isAfter(H)&&T(null)},Q=e=>{T(e)},R=()=>{if(D){const e=D.hours(),s=[],t=[];for(let a=0;a<e;a++)s.push(a);return{disabledHours:()=>s,disabledMinutes:()=>t}}return{disabledHours:()=>[],disabledMinutes:()=>[]}};return(0,C.jsx)(C.Fragment,{children:B?(0,C.jsx)(v.A,{}):(0,C.jsx)(o.A,{form:l,layout:"vertical",onFinish:e=>{L(!0);const t={dates:A?A.map((e=>j()(e).format("YYYY-MM-DD"))):void 0},a={dates:e.working_days.map((e=>({day:e.title,from:j()(e.from?e.from:"00").format("HH-mm"),to:j()(e.to?e.to:"00").format("HH-mm"),disabled:e.disabled})))};y.update(E,t).then((()=>{s()})).finally((()=>L(!1))),0!==e.working_days.length&&b.update(E,a).then((()=>{s()})).finally((()=>L(!1)))},children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(n.A,{title:r("restaurant.working.days"),children:(0,C.jsx)(c.A,{gutter:8,children:(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(o.A.List,{name:"working_days",children:e=>(0,C.jsx)("div",{children:e.map(((e,s)=>(0,C.jsxs)(c.A,{gutter:12,align:"center",children:[(0,C.jsx)(m.A,{span:7,children:(0,C.jsx)(o.A.Item,{name:[s,"day"],children:(0,C.jsx)("span",{children:r(k.Q[s].title)})})}),S[e.key]?(0,C.jsx)(m.A,{span:13,className:"mt-2",children:(0,C.jsx)("span",{children:r("shop.closed")})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.A,{span:7,children:(0,C.jsx)(o.A.Item,{rules:[{required:!1===S[e.key]}],name:[s,"from"],children:(0,C.jsx)(g.A,{picker:"time",placeholder:r("start.time"),onChange:Z})})}),(0,C.jsx)(m.A,{span:6,children:(0,C.jsx)(o.A.Item,{rules:[{required:!1===S[e.key]}],name:[s,"to"],children:(0,C.jsx)(g.A,{picker:"time",placeholder:r("end.time"),onChange:Q,disabledTime:R})})})]}),(0,C.jsx)(m.A,{span:4,children:(0,C.jsx)(o.A.Item,{name:[s,"disabled"],valuePropName:"checked",children:(0,C.jsx)(x.A,{checkedChildren:(0,C.jsx)(w.A,{}),unCheckedChildren:(0,C.jsx)(N.A,{}),checked:S[e.key],onChange:()=>(e=>{const s=[...S];s[e]=!S[e],q(s)})(e.key)})})})]},e.key)))})})})})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsxs)(n.A,{title:r("restaurant.closed.days"),children:[(0,C.jsx)("p",{children:r("restaurant.closed.days.text")}),(0,C.jsx)(o.A.Item,{rules:[{required:!1,message:r("required")}],children:(0,C.jsx)(_.hv,{className:"datepicker",mode:"multiple",disabled:M,min:1,selected:A,onSelect:f,footer:P,showOutsideDays:!0})})]})}),(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(h.A,{children:(0,C.jsx)(p.A,{type:"primary",htmlType:"submit",loading:F,children:r("next")})})})]})})})};var q=t(62983),F=t(51359);const L={getById:e=>f.A.get(`rest/shop/delivery-zone/${e}`),create:e=>f.A.post("dashboard/admin/delivery-zones",e,{})};var B=t(49348);const O=e=>{let{next:s,prev:t}=e;const{t:l}=(0,d.B)(),[r]=o.A.useForm(),[u,g]=(0,a.useState)([]),[x,A]=(0,a.useState)(!1),[j,f]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),{activeMenu:k}=(0,i.d4)((e=>e.menu),i.bN);return(0,a.useEffect)((()=>{var e,s,t;null!==(e=k.data)&&void 0!==e&&e.id&&(t=null===(s=k.data)||void 0===s?void 0:s.id,y(!0),L.getById(t).then((e=>{var s,t;g(void 0!==e.data?null===(s=e.data)||void 0===s||null===(t=s.address)||void 0===t?void 0:t.map((e=>({lat:e[0],lng:e[1]}))):[])})).finally((()=>y(!1))))}),[k.data]),(0,C.jsx)(o.A,{form:r,name:"map",layout:"vertical",onFinish:()=>{if(u.length<3)return void B.oR.warning(l("place.selected.map"));if(!j)return void B.oR.warning(l("place.selected.map"));A(!0);const e={shop_id:k.data.id,address:u.map((e=>({0:e.lat,1:e.lng})))};L.create(e).then((()=>{s()})).finally((()=>A(!1)))},children:b?(0,C.jsx)(v.A,{}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.A,{children:(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(n.A,{title:(0,C.jsx)("h3",{className:"p-0 m-0",children:l("delivery.zone")}),children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsxs)(m.A,{span:24,className:"mb-3",children:[(0,C.jsx)("h4",{children:"Instructions"}),"Create zone by click on map and connect the dots together"]}),(0,C.jsx)(m.A,{span:24,className:"mb-3",children:(0,C.jsxs)(h.A,{children:[(0,C.jsx)(I.h6Q,{size:25}),(0,C.jsx)("p",{children:l("delivery.zone.text")})]})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)("img",{src:F,alt:"map gif",style:{object:"contain"}})}),(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(q.A,{triangleCoords:u,settriangleCoords:g,setMerge:f})})]})})})}),(0,C.jsx)(h.A,{children:(0,C.jsx)(p.A,{type:"primary",htmlType:"submit",loading:x,children:l("next")})})]})})};var M=t(28429),$=t(99674),z=t(55902),D=t(56952),Y=t(47992),H=t(98591),T=t(53271),V=t(54311),E=t(85023),P=t(53237),Z=t(2777),Q=t(78498),R=t(79406),W=t(58974),J=t(4119);const G=e=>{let{logoImage:s,setLogoImage:t,backImage:l,setBackImage:r,form:u,location:h,setLocation:p}=e;const{t:g}=(0,d.B)(),{defaultLang:v,languages:A}=(0,i.d4)((e=>e.formLang),i.bN),[j,f]=(0,a.useState)(null);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.A,{children:(0,C.jsxs)(c.A,{gutter:24,children:[(0,C.jsx)(m.A,{span:4,children:(0,C.jsx)(o.A.Item,{label:g("logo.image"),children:(0,C.jsx)(Z.A,{type:"shops/logo",imageList:s,setImageList:t,form:u,multiple:!1,name:"logo_img"})})}),(0,C.jsx)(m.A,{span:4,children:(0,C.jsx)(o.A.Item,{label:g("background.image"),children:(0,C.jsx)(Z.A,{type:"shops/background",imageList:l,setImageList:r,form:u,multiple:!1,name:"background_img"})})}),(0,C.jsx)(m.A,{span:4,children:(0,C.jsx)(o.A.Item,{name:"status",label:g("status"),children:(0,C.jsxs)($.A,{disabled:!0,children:[(0,C.jsx)($.A.Option,{value:"new",children:g("new")}),(0,C.jsx)($.A.Option,{value:"edited",children:g("edited")}),(0,C.jsx)($.A.Option,{value:"approved",children:g("approved")}),(0,C.jsx)($.A.Option,{value:"rejected",children:g("rejected")})]})})}),(0,C.jsx)(m.A,{span:8,children:(0,C.jsx)(o.A.Item,{label:g("status.note"),name:"status_note",children:(0,C.jsx)(H.A,{rows:4})})}),(0,C.jsx)(m.A,{span:4,children:(0,C.jsx)(o.A.Item,{label:g("open"),name:"open",valuePropName:"checked",children:(0,C.jsx)(x.A,{disabled:!0})})})]})}),(0,C.jsx)(n.A,{title:g("general"),children:(0,C.jsxs)(c.A,{gutter:24,children:[(0,C.jsx)(m.A,{span:12,children:A.map(((e,s)=>(0,C.jsx)(o.A.Item,{label:g("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===v,message:g("required")},{min:2,message:g("title.requared")}],hidden:e.locale!==v,children:(0,C.jsx)(z.A,{})},"title"+s)))}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("seller"),name:"user",rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(Y.G,{fetchOptions:async function(e){const s={search:e,"roles[0]":"user"};return T.A.search(s).then((e=>e.data.map((e=>({label:e.firstname||" "+e.lastname||0,value:e.id})))))}})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("group"),name:"group_id",rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(E.D,{fetchOptions:async function(){return P.A.getActive().then((e=>{let{data:s}=e;return s.map((e=>{var s;return{label:(null===(s=e.translation)||void 0===s?void 0:s.title)||"no name",value:e.id}}))}))},className:"w-100"})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("shop.tags"),name:"tags",rules:[{required:!1,message:g("required")}],children:(0,C.jsx)(R.a,{mode:"multiple",fetchOptions:async function(e){f(!1);const s={search:e};return W.A.getAll(s).then((e=>{let{data:s}=e;return s.map((e=>{var s;return{label:(null===(s=e.translation)||void 0===s?void 0:s.title)||"no name",value:e.id}}))}))},refetch:j})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(J.A,{label:g("phone"),name:"phone"})}),(0,C.jsx)(m.A,{span:12,children:A.map(((e,s)=>(0,C.jsx)(o.A.Item,{label:g("description"),name:`description[${e.locale}]`,rules:[{required:e.locale===v,message:g("required")},{min:2,message:g("title.requared")}],hidden:e.locale!==v,children:(0,C.jsx)(H.A,{rows:4})},"desc"+s)))})]})}),(0,C.jsxs)(c.A,{gutter:24,children:[(0,C.jsx)(m.A,{span:8,children:(0,C.jsx)(n.A,{title:g("delivery"),children:(0,C.jsxs)(c.A,{gutter:8,children:[(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{name:"price",label:g("min.price"),rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{className:"w-100",min:0})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{name:"price_per_km",label:g("price.per.km"),rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{className:"w-100",min:0})})})]})})}),(0,C.jsx)(m.A,{span:8,children:(0,C.jsx)(n.A,{title:g("delivery.time"),children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{name:"delivery_time_type",label:g("delivery_time_type"),rules:[{required:!0,message:g("required")}],children:(0,C.jsxs)($.A,{className:"w-100",children:[(0,C.jsx)($.A.Option,{value:"minute",label:g("minutes")}),(0,C.jsx)($.A.Option,{value:"hour",label:g("hour")})]})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{name:"delivery_time_from",label:g("delivery_time_from"),rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{className:"w-100",min:0})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{name:"delivery_time_to",label:g("delivery_time_to"),rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{className:"w-100",min:0})})})]})})}),(0,C.jsx)(m.A,{span:8,children:(0,C.jsx)(n.A,{title:g("order.info"),children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("min.amount"),name:"min_amount",rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{min:0,className:"w-100"})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("tax"),name:"tax",rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{min:0,addonAfter:"%",className:"w-100"})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:g("admin.comission"),name:"percentage",rules:[{required:!0,message:g("required")}],children:(0,C.jsx)(D.A,{min:0,className:"w-100",addonAfter:"%"})})})]})})})]}),(0,C.jsx)(n.A,{title:g("address"),children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsx)(m.A,{span:12,children:A.map(((e,s)=>(0,C.jsx)(V.A,{setLocation:p,form:u,item:e,idx:s,defaultLang:v},s)))}),(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(Q.A,{location:h,setLocation:p,setAddress:e=>u.setFieldsValue({[`address[${v}]`]:e})})})]})})]})};var K=t(74623),U=t(55660),X=t(63620),ee=t(29597);const se=e=>{var s,t,l,n;let{next:r}=e;const{t:c}=(0,d.B)(),[u]=o.A.useForm(),m=(0,M.Zp)(),g=(0,i.wA)(),x=(0,M.zy)(),{uuid:A}=(0,M.g)(),{activeMenu:j}=(0,i.d4)((e=>e.menu),i.bN),{languages:f}=(0,i.d4)((e=>e.formLang),i.bN),{settings:b}=(0,i.d4)((e=>e.globalSettings),i.bN),[y,k]=(0,a.useState)((0,ee.A)(b)),[_,w]=(0,a.useState)(!1),[N,I]=(0,a.useState)(!1),[S,q]=(0,a.useState)(null!==j&&void 0!==j&&null!==(s=j.data)&&void 0!==s&&s.logo_img?[null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.logo_img]:[]),[F,L]=(0,a.useState)(null!==j&&void 0!==j&&null!==(l=j.data)&&void 0!==l&&l.background_img?[null===j||void 0===j||null===(n=j.data)||void 0===n?void 0:n.background_img]:[]),O=null===x||void 0===x?void 0:x.pathname.includes("shop-clone");function $(e){if(!e)return{};const{translations:s}=e,t=f.map((e=>{var t,a,l;return{[`title[${e.locale}]`]:null===(t=s.find((s=>s.locale===e.locale)))||void 0===t?void 0:t.title,[`description[${e.locale}]`]:null===(a=s.find((s=>s.locale===e.locale)))||void 0===a?void 0:a.description,[`address[${e.locale}]`]:null===(l=s.find((s=>s.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...t)}(0,a.useEffect)((()=>()=>{const e=u.getFieldsValue(!0);e.open_time=JSON.stringify(null===e||void 0===e?void 0:e.open_time),e.close_time=JSON.stringify(null===e||void 0===e?void 0:e.close_time),g((0,K.Ok)({activeMenu:j,data:e}))}),[]);const z=e=>({name:e,url:X.sE+e});(0,a.useEffect)((()=>{null!==j&&void 0!==j&&j.refetch&&A&&(e=>{w(!0),U.A.getById(e).then((e=>{var s,t,a,l,n,i,r,d;let{data:o}=e;u.setFieldsValue({...o,...$(o),logo_image:z(o.logo_img),background_img:z(o.background_img),delivery_time_type:null===(s=o.delivery_time)||void 0===s?void 0:s.type,delivery_time_from:null===(t=o.delivery_time)||void 0===t?void 0:t.from,delivery_time_to:null===(a=o.delivery_time)||void 0===a?void 0:a.to,user:{value:o.seller.id,label:o.seller.firstname+" "+o.seller.lastname},group_id:{value:null===(l=o.group)||void 0===l?void 0:l.id,label:null===(n=o.group)||void 0===n?void 0:n.translation.title},tags:null===(i=o.tags)||void 0===i?void 0:i.map((e=>{var s;return{label:(null===(s=e.translation)||void 0===s?void 0:s.title)||"no name",value:e.id}}))}),L([z(o.background_img)]),q([z(o.logo_img)]),k({lat:Number(null===(r=o.location)||void 0===r?void 0:r.latitude),lng:Number(null===(d=o.location)||void 0===d?void 0:d.longitude)})})).finally((()=>{w(!1),g((0,K.km)(j))}))})(A)}),[null===j||void 0===j?void 0:j.refetch]);return(0,C.jsxs)(o.A,{form:u,name:"basic",layout:"vertical",onFinish:e=>{var s,t;I(!0);const a=e.tags,l={};if(a)for(let i=0;i<a.length;i++)l[`tags[${i}]`]=a[i].value;const n={...e,"images[0]":null===(s=S[0])||void 0===s?void 0:s.name,"images[1]":null===(t=F[0])||void 0===t?void 0:t.name,user_id:e.user.value,visibility:1,location:y.lat+","+y.lng,group_id:e.group_id.value,user:void 0,...l};delete n.tags,!A||O?U.A.create(n).then((e=>{let{data:s}=e;g((0,K.W6)({id:`shop-${s.uuid}`,url:`shop/${s.uuid}`,name:c("add.shop"),data:s,refetch:!1})),r()})).catch((e=>console.log(e))).finally((()=>I(!1))):U.A.update(A,n).then((()=>{B.oR.success("Successfully created"),m(`/shop/${A}`),r()})).catch((e=>console.error(e))).finally((()=>I(!1)))},initialValues:{visibility:!0,status:"new",...j.data},children:[_?(0,C.jsx)(v.A,{}):(0,C.jsx)(G,{logoImage:S,setLogoImage:q,backImage:F,setBackImage:L,form:u,location:y,setLocation:k}),(0,C.jsx)(h.A,{children:(0,C.jsx)(p.A,{type:"primary",htmlType:"submit",loading:N,children:c("next")})})]})};var te=t(99856),ae=t(693),le=t(95524),ne=t(5436);function ie(e){let{prev:s}=e;const{t:t}=(0,d.B)(),{activeMenu:l}=(0,i.d4)((e=>e.menu),i.bN),n=(0,i.wA)(),r=(0,M.Zp)(),[u,g]=(0,a.useState)(null),[x,A]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[b]=o.A.useForm(),{params:y}=(0,i.d4)((e=>e.shop),i.bN);return(0,a.useEffect)((()=>{var e,s,t;null!==l&&void 0!==l&&l.data.seller&&(t=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(s=e.seller)||void 0===s?void 0:s.uuid,f(!0),T.A.getById(t).then((e=>{const s=e.data;b.setFieldsValue({firstname:s.firstname,lastname:s.lastname,email:s.email,phone:s.phone,password_confirmation:s.password_confirmation,password:s.password})})).finally((()=>f(!1))))}),[]),(0,C.jsx)(C.Fragment,{children:j?(0,C.jsx)(v.A,{}):(0,C.jsx)(o.A,{form:b,layout:"vertical",initialValues:{...l.data},onFinish:e=>{var s,a;A(!0);const i={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},d={...y,status:l.data.status?l.data.status:void 0},o="shops";T.A.update(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(a=s.seller)||void 0===a?void 0:a.uuid,i).then((()=>{B.oR.success(t("successfully.updated")),n((0,K.EK)({...l,nextUrl:o})),r(`/${o}`),n((0,te._u)(d))})).catch((e=>g(e.response.data.params))).finally((()=>A(!1)))},className:"py-4",children:(0,C.jsxs)(c.A,{gutter:12,children:[(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:t("firstname"),name:"firstname",help:null!==u&&void 0!==u&&u.firstname?u.firstname[0]:null,validateStatus:null!==u&&void 0!==u&&u.firstname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,C.jsx)(z.A,{className:"w-100"})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(o.A.Item,{label:t("lastname"),name:"lastname",help:null!==u&&void 0!==u&&u.lastname?u.lastname[0]:null,validateStatus:null!==u&&void 0!==u&&u.lastname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,C.jsx)(z.A,{className:"w-100"})})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(J.A,{label:t("phone"),name:"phone",error:u})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(ne.A,{label:t("email"),name:"email",error:u})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(ae.A,{label:t("password"),name:"password",error:u})}),(0,C.jsx)(m.A,{span:12,children:(0,C.jsx)(le.A,{label:t("password.confirmation"),name:"password_confirmation",dependencies:["password"],error:u})}),(0,C.jsx)(m.A,{span:24,children:(0,C.jsx)(h.A,{children:(0,C.jsx)(p.A,{type:"primary",htmlType:"submit",loading:x,children:t("save")})})})]})})})}var re=t(65820);const{Step:de}=l.A,oe=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}],ce=()=>{var e,s,t,a;const{t:o}=(0,d.B)(),{activeMenu:c}=(0,i.d4)((e=>e.menu),i.bN),u=(0,re.s)(),m=Number((null===(e=u.values)||void 0===e?void 0:e.step)||0),h=(0,i.wA)(),p=()=>{const e=m+1;u.set("step",e)},g=()=>{const e=m-1;u.set("step",e)};return(0,C.jsxs)(n.A,{title:o("add.shop"),extra:(0,C.jsx)(r.A,{}),children:[(0,C.jsx)(l.A,{current:m,onChange:e=>{h((0,K.Ok)({activeMenu:c,data:{...c.data,step:e}})),u.set("step",e)},children:oe.map((e=>(0,C.jsx)(de,{title:o(e.title)},e.title)))}),(0,C.jsxs)("div",{className:"steps-content",children:["First-content"===(null===(s=oe[m])||void 0===s?void 0:s.content)&&(0,C.jsx)(se,{next:p,user:!0}),"Second-content"===(null===(t=oe[m])||void 0===t?void 0:t.content)&&(0,C.jsx)(O,{next:p,prev:g}),"Third-content"===(null===(a=oe[m])||void 0===a?void 0:a.content)&&(0,C.jsx)(S,{next:p,prev:g}),"Four-content"===oe[m].content&&(0,C.jsx)(ie,{next:p,prev:g})]})]})}},85023:(e,s,t)=>{t.d(s,{D:()=>r});var a=t(9950),l=t(99674),n=t(90650),i=t(44414);const r=e=>{let{fetchOptions:s,refetch:t=!1,...r}=e;const[d,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)([]);return(0,i.jsx)(l.A,{filterOption:!1,labelInValue:!0,notFoundContent:d?(0,i.jsx)(n.A,{size:"small"}):"no results",...r,options:d?[]:c,onFocus:()=>{c.length&&!t||(o(!0),s().then((e=>{u(e),o(!1)})))}})}}}]);
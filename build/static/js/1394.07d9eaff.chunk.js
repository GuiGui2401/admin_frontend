"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1394],{31394:(A,e,t)=>{t.r(e),t.d(e,{default:()=>Q});var n=t(9950),i=t(52911),l=t(87094),d=t(41988),a=t(20567),r=t(91524),s=t(80737),u=t(12916),o=t(73092),c=t(28429),v=t(72521),x=t(69554),h=t(91854),m=t(74623),p=t(87827),j=t(27741),b=t(48538),E=t(99674),y=t(70030),w=t(44414);function Y(A){let{orderDetails:e,handleCancel:t}=A;const{activeMenu:i}=(0,h.d4)((A=>A.menu),h.bN),[a]=p.A.useForm(),r=(0,h.wA)(),{t:s}=(0,y.B)(),[u,o]=(0,n.useState)(!1);return(0,w.jsx)(j.A,{visible:!!e,title:e.title,onOk:()=>{console.log("ok")},onCancel:t,footer:[(0,w.jsx)(b.A,{type:"primary",onClick:()=>a.submit(),loading:u,children:s("save")}),(0,w.jsx)(b.A,{type:"default",onClick:t,children:s("cancel")})],children:(0,w.jsx)(p.A,{form:a,layout:"vertical",onFinish:A=>{o(!0);const n={...A};v.A.updateStatus(e.id,n).then((()=>{t(),r((0,m.Ms)(i))})).finally((()=>o(!1)))},initialValues:{status:e.status},children:(0,w.jsx)(l.A,{gutter:12,children:(0,w.jsx)(d.A,{span:24,children:(0,w.jsx)(p.A.Item,{label:s("status"),name:"status",rules:[{required:!0,message:s("required")}],children:(0,w.jsxs)(E.A,{children:[(0,w.jsx)(E.A.Option,{value:e.status,children:s(e.status)}),"ready"===e.status&&(0,w.jsx)(E.A.Option,{value:"on_a_way",children:s("on_a_way")}),"on_a_way"===e.status&&(0,w.jsx)(E.A.Option,{value:"delivered",children:s("delivered")})]})})})})})})}var B=t(53774);function Q(){var A,e,t,p,j,b,E,Q,g,D,I,M;const{activeMenu:T}=(0,h.d4)((A=>A.menu),h.bN),{defaultCurrency:U}=(0,h.d4)((A=>A.currency),h.bN),f=T.data,{t:z}=(0,y.B)(),{id:O}=(0,c.g)(),C=(0,h.wA)(),[F,q]=(0,n.useState)(!1),[R,J]=(0,n.useState)(null),k=[{title:z("id"),dataIndex:"id",key:"id",render:(A,e)=>{var t;return null===(t=e.shopProduct)||void 0===t?void 0:t.product.id}},{title:z("product.name"),dataIndex:"product",key:"product",render:(A,e)=>{var t,n;return null===(t=e.shopProduct)||void 0===t||null===(n=t.product.translation)||void 0===n?void 0:n.title}},{title:z("image"),dataIndex:"img",key:"img",render:(A,e)=>{var t;return(0,w.jsx)(i.A,{src:(0,x.A)(null===(t=e.shopProduct)||void 0===t?void 0:t.product.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:z("price"),dataIndex:"origin_price",key:"origin_price",render:A=>(0,B.A)(A,U.symbol)},{title:z("quantity"),dataIndex:"quantity",key:"quantity"},{title:z("discount"),dataIndex:"discount",key:"discount",render:function(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return(0,B.A)(A/e.quantity,U.symbol)}},{title:z("tax"),dataIndex:"tax",key:"tax",render:(A,e)=>(0,B.A)(A/e.quantity,U.symbol)},{title:z("total.price"),dataIndex:"total_price",key:"total_price",render:A=>(0,B.A)(A,U.symbol)}];return(0,n.useEffect)((()=>{T.refetch&&(q(!0),v.A.getById(O).then((A=>{let{data:e}=A;const t=e.currency,n=e.user,i=e.id,l=e.price,d=e.created_at,a=e.transaction,r=e.status,s=e.details.map((A=>{var e,t;return{...A,title:null===(e=A.shop)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title}}));C((0,m.Ok)({activeMenu:T,data:{details:s,currency:t,user:n,id:i,createdAt:d,price:l,transaction:a,status:r}}))})).finally((()=>{q(!1),C((0,m.km)(T))})))}),[T.refetch]),(0,w.jsxs)(n.Fragment,{children:[(0,w.jsxs)(l.A,{gutter:24,children:[(0,w.jsx)(d.A,{span:6,children:(0,w.jsx)(a.A,{title:z("client"),style:{height:"95%"},children:(0,w.jsxs)(r.A,{children:[(0,w.jsxs)(r.A.Item,{label:z("full.name"),span:3,children:[null===f||void 0===f||null===(A=f.user)||void 0===A?void 0:A.firstname," ",null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.lastname]}),(0,w.jsx)(r.A.Item,{label:z("phone"),span:3,children:null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.phone}),(0,w.jsx)(r.A.Item,{label:z("email"),span:3,children:null===f||void 0===f||null===(p=f.user)||void 0===p?void 0:p.email}),(0,w.jsx)(r.A.Item,{label:z("address"),span:3,children:null===f||void 0===f||null===(j=f.delivery_address)||void 0===j?void 0:j.address})]})})}),(0,w.jsx)(d.A,{span:6,children:(0,w.jsx)(a.A,{title:z("order"),style:{height:"95%"},children:(0,w.jsxs)(r.A,{children:[(0,w.jsx)(r.A.Item,{label:z("created.at"),span:3,children:null===f||void 0===f?void 0:f.createdAt}),(0,w.jsx)(r.A.Item,{label:z("status"),span:3,children:(0,w.jsx)(s.A,{children:"new"===(null===f||void 0===f?void 0:f.status)?(0,w.jsx)(u.A,{color:"blue",children:z(null===f||void 0===f?void 0:f.status)}):"canceled"===(null===f||void 0===f?void 0:f.status)?(0,w.jsx)(u.A,{color:"error",children:z(null===f||void 0===f?void 0:f.status)}):(0,w.jsx)(u.A,{color:"cyan",children:z(null===f||void 0===f?void 0:f.status)})})}),(0,w.jsx)(r.A.Item,{label:z("review"),span:3,children:null===f||void 0===f?void 0:f.note})]})})}),(0,w.jsx)(d.A,{span:6,children:(0,w.jsx)(a.A,{title:z("payment"),style:{height:"95%"},children:(0,w.jsxs)(r.A,{children:[(0,w.jsx)(r.A.Item,{label:z("payment.type"),span:3,children:z(null===f||void 0===f||null===(b=f.transaction)||void 0===b||null===(E=b.payment_system)||void 0===E||null===(Q=E.payment)||void 0===Q?void 0:Q.tag)}),(0,w.jsx)(r.A.Item,{label:z("amount"),span:3,children:(0,B.A)(null===f||void 0===f||null===(g=f.transaction)||void 0===g?void 0:g.price,U.symbol)}),(0,w.jsx)(r.A.Item,{label:z("description"),span:3,children:null===f||void 0===f||null===(D=f.transaction)||void 0===D?void 0:D.status_description}),(0,w.jsx)(r.A.Item,{label:z("status"),span:3,children:(0,w.jsx)(u.A,{children:null===f||void 0===f||null===(I=f.transaction)||void 0===I?void 0:I.status})})]})})})]}),(0,w.jsxs)(a.A,{title:`${z("order.details")} ${null!==f&&void 0!==f&&f.id?`#${null===f||void 0===f?void 0:f.id}`:""}`,children:[(0,w.jsx)(o.A,{columns:k,dataSource:(null===(M=T.data)||void 0===M?void 0:M.details)||[],loading:F,rowKey:A=>A.id,pagination:!1}),R&&(0,w.jsx)(Y,{orderDetails:R,handleCancel:()=>{J(null)}})]})]})}},53774:(A,e,t)=>{function n(A){if(!A)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(A).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}t.d(e,{A:()=>n})},69554:(A,e,t)=>{t.d(e,{A:()=>i});t(63620);const n="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==";function i(A){return A||n}}}]);
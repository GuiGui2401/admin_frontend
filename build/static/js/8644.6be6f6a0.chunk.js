"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8644],{8168:(e,t,a)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>n})},8297:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(9950),l=a(93124),d=a(41397),r=a(52786),o=a(44414);function s(e){let{handleChange:t,defaultValue:a,resetSearch:s,...i}=e;const[c,u]=(0,n.useState)(a),p=(0,n.useMemo)((()=>(0,d.debounce)((e=>{t(e)}),800)),[]);return(0,n.useEffect)((()=>{u(a)}),[s]),(0,o.jsx)(l.A,{value:c,onChange:e=>{const{value:t}=e.target;u(t.replace(/\s/g,"")),p(t.replace(/\s/g,""))},prefix:(0,o.jsx)(r.A,{}),...i})}},13435:()=>{},23222:(e,t,a)=>{a.d(t,{A:()=>v});var n=a(9950),l=a(25887),d=a(27741),r=a(48538),o=a(70030),s=a(47992),i=a(28429),c=a(67231),u=a(74623),p=a(91854),h=a(49348),g=a(44414);function v(e){let{isModalOpen:t,handleCancel:a,isGiftCard:v}=e;const{t:A}=(0,o.B)(),[f]=l.A.useForm(),m=(0,i.Zp)(),x=(0,p.wA)(),[y,j]=(0,n.useState)(!1),b=e=>{v?(x((0,u.X4)({url:`/seller/gift-card/add/${e}`,id:"seller-gift-card-add",name:A("seller.gift.card.add")})),m(`/seller/gift-card/add/${e}`)):(x((0,u.X4)({url:`/seller/product/add/${e}`,id:"seller-product-add",name:A("seller.product.add")})),m(`/seller/product/add/${e}`))};return(0,g.jsx)(d.A,{visible:t,title:A(v?"add.gift.card":"add.product"),onCancel:a,footer:[v?(0,g.jsx)(r.A,{type:"primary",onClick:()=>(()=>{const e="/seller/gift-card/add";x((0,u.X4)({url:e,id:"seller-new-gift-card-add",name:A("add.new.gift.card")})),m(e)})(),children:A("add.new.gift.card")},"newSaveBtn"):(0,g.jsx)(r.A,{type:"primary",onClick:()=>(()=>{const e="seller/product/add";x((0,u.X4)({url:`/${e}`,id:"seller-new-product-add",name:A("add.new.product")})),m(`/${e}`)})(),children:A("add.new.product")},"newSaveBtn"),(0,g.jsx)(r.A,{type:"primary",onClick:()=>f.submit(),children:A("create")},"saveBtn"),(0,g.jsx)(r.A,{type:"default",onClick:a,children:A("cancel")},"cancelBtn")],children:(0,g.jsxs)(l.A,{layout:"vertical",name:"add-product",form:f,onFinish:e=>{if(e.title)b(e.title.value);else{if(!e.qr_code)return h.oR.error(A("please.select.one.option"));b(e.qr_code.value)}a()},children:[(0,g.jsx)(l.A.Item,{name:"title",label:A(v?"search.gift.card.title":"search.product.title"),children:(0,g.jsx)(s.G,{fetchOptions:async function(e){j(!0);const t={search:e,perPage:10,gift:v?1:void 0};return c.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.uuid}}))})).catch((e=>console.error(e))).finally((()=>j(!1)))},style:{minWidth:150},loading:y})}),(0,g.jsx)(l.A.Item,{name:"qr_code",label:A(v?"search.gift.card.qr_code":"search.product.qr_code"),children:(0,g.jsx)(s.G,{fetchOptions:async function(e){const t={qr_code:e,perPage:10,gift:v?1:void 0};return c.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.qr_code,value:null===e||void 0===e?void 0:e.uuid})))})).catch((e=>console.error(e))).finally((()=>j(!1)))},style:{minWidth:150},loading:y})})]})})}},28645:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(9950),l=a(30377),d=a(69216),r=a(80737),o=a(25933),s=a(57811),i=a(72906),c=a(70030),u=a(44414);const{Text:p}=l.A,h=e=>{let{columns:t=[],setColumns:a}=e;const{t:l}=(0,c.B)(),[h,g]=(0,n.useState)(!1),v=(0,u.jsx)(d.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,u.jsx)(d.A.Item,{children:(0,u.jsxs)(r.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(p,{children:e.title}),(0,u.jsx)(o.A,{defaultChecked:!0,onClick:()=>{!function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(n)}(e)}})]})},n)))});return(0,u.jsx)(s.A,{overlay:v,trigger:["click"],onVisibleChange:e=>{g(e)},visible:h,children:(0,u.jsx)(i.A,{style:{fontSize:"26px"}})})}},35116:(e,t,a)=>{a.d(t,{A:()=>i});a(9950);var n=a(48538),l=a(78433),d=a(49348),r=a(70030),o=a(13311),s=a(44414);function i(e){let{onClick:t,type:a="default",...i}=e;const{t:c}=(0,r.B)(),{isDemo:u}=(0,o.A)();return(0,s.jsx)(n.A,{icon:(0,s.jsx)(l.A,{}),onClick:()=>{console.log(u),u?d.oR.warning(c("cannot.work.demo")):t()},type:a,...i})}},47992:(e,t,a)=>{a.d(t,{G:()=>i});var n=a(9950),l=a(95491),d=a.n(l),r=a(99674),o=a(90650),s=a(44414);const i=e=>{let{fetchOptions:t,debounceTimeout:a=400,...l}=e;const[i,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)([]),h=(0,n.useMemo)((()=>d()((e=>{p([]),c(!0),t(e).then((e=>{p(e),c(!1)}))}),a)),[t,a]);return(0,s.jsx)(r.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,notFoundContent:i?(0,s.jsx)(o.A,{size:"small"}):"no results",...l,options:u,onFocus:()=>{u.length||h("")}})}},68644:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(9950),l=(a(13435),a(90582)),d=a(78433),r=a(34517),o=a(25933),s=a(80737),i=a(48538),c=a(20567),u=a(3754),p=a(28429),h=a(49348),g=a(63620),v=a(55386),A=a(76083),f=a(91854),m=a(74623),x=a(67231),y=a(32801),j=a(70030),b=a(8168),w=a(88986),C=a(8297),k=a(47992),S=a(74827),_=a(78457),I=a(23222),O=a(35116),B=a(28645),E=a(44414);const N=()=>{var e,t,a,N;const{t:M}=(0,j.B)(),R=(0,f.wA)(),$=(0,p.Zp)(),[P,q]=(0,n.useState)(!1),{setIsModalVisible:z}=(0,n.useContext)(v.o),[G,X]=(0,n.useState)(!1),[F,V]=(0,n.useState)(!1),[W,D]=(0,n.useState)(!1),{activeMenu:K}=(0,f.d4)((e=>e.menu),f.bN),[T,Z]=(0,n.useState)([]),[H,J]=(0,n.useState)(!1),{products:L,meta:Q,loading:U,params:Y}=(0,f.d4)((e=>e.product),f.bN),[ee,te]=(0,n.useState)([{title:M("id"),is_show:!0,dataIndex:"id",sorter:!0},{title:M("image"),is_show:!0,dataIndex:"img",render:e=>(0,E.jsx)(r.A,{width:100,src:g.sE+e,placeholder:!0,style:{borderRadius:4}})},{title:M("name"),is_show:!0,dataIndex:"name"},{title:M("category"),is_show:!0,dataIndex:"category_name"},{title:M("active"),is_show:!0,dataIndex:"active",render:(e,t)=>(0,E.jsx)(o.A,{onChange:()=>{z(!0),q(t.uuid),V(!1)},checked:e})},{title:M("options"),is_show:!0,dataIndex:"options",render:(e,t)=>(0,E.jsxs)(s.A,{children:[(0,E.jsx)(i.A,{type:"primary",icon:(0,E.jsx)(l.A,{}),onClick:()=>(e=>{R((0,m.X4)({id:"product-edit",url:`seller/product/edit/${e}`,name:M("edit.product")})),$(`/seller/product/edit/${e}`)})(t.id)}),(0,E.jsx)(O.A,{icon:(0,E.jsx)(d.A,{}),onClick:()=>{z(!0),q(t.id),V(!0)}})]})}]);(0,w.A)((()=>{var e,t;const a=K.data,n={search:null===a||void 0===a?void 0:a.search,brand_id:null===a||void 0===a||null===(e=a.brand)||void 0===e?void 0:e.value,category_id:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.value,sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};R((0,y.EN)(n))}),[K.data]),(0,n.useEffect)((()=>{if(K.refetch){const e=K.data,t={perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};R((0,y.EN)(t)),R((0,m.km)(K))}}),[K.refetch]);const ae=(e,t)=>{R((0,m.Ok)({activeMenu:K,data:{...K.data,[t]:e}}))},ne={selectedRowKeys:T,onChange:e=>{Z(e)}};return(0,E.jsxs)(c.A,{title:M("products"),extra:(0,E.jsxs)(s.A,{children:[(0,E.jsx)(C.A,{placeholder:M("search"),handleChange:e=>ae(e,"search")}),(0,E.jsx)(k.G,{placeholder:M("select.category"),fetchOptions:async function(e){const t={search:e};return _.A.getChild(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>ae(e,"category"),value:null===(e=K.data)||void 0===e?void 0:e.category}),(0,E.jsx)(k.G,{placeholder:M("select.brand"),fetchOptions:async function(e){const t={search:e};return S.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.brand.title,value:e.brand.id})))}))},style:{minWidth:150},onChange:e=>ae(e,"brand"),value:null===(t=K.data)||void 0===t?void 0:t.brand}),(0,E.jsx)(i.A,{type:"primary",onClick:()=>X(!0),children:M("add.product")}),(0,E.jsx)(i.A,{className:"",type:"danger",onClick:()=>{D(!0),x.A.deleteAll({ids:T}).then((()=>{z(!1),h.oR.success(M("successfully.deleted")),R((0,y.EN)(Y))})).finally((()=>D(!1)))},disabled:Boolean(!(null!==T&&void 0!==T&&T.length)),children:M("delete.all")}),(0,E.jsx)(i.A,{onClick:()=>{J(!0),x.A.export().then((e=>{const t=g.bb+e.data.file_name;window.location.href=t})).finally((()=>J(!1)))},loading:H,children:M("export")}),(0,E.jsx)(i.A,{onClick:()=>{R((0,m.X4)({id:"seller-product-import",url:"seller/product/import",name:M("product.import")})),$("/seller/product/import")},children:M("import")}),(0,E.jsx)(B.A,{setColumns:te,columns:ee})]}),children:[(0,E.jsx)(u.A,{rowSelection:ne,loading:U,columns:null===ee||void 0===ee?void 0:ee.filter((e=>e.is_show)),dataSource:L,pagination:{pageSize:Y.perPage,page:(null===(a=K.data)||void 0===a?void 0:a.page)||1,total:Q.total,defaultCurrent:null===(N=K.data)||void 0===N?void 0:N.page},onChange:function(e,t){const{pageSize:a,current:n}=e,{field:l,order:d}=t,r=(0,b.A)(d);R((0,m.Ok)({activeMenu:K,data:{...K.data,perPage:a,page:n,column:l,sort:r}}))},rowKey:e=>e.id}),(0,E.jsx)(A.A,{click:F?()=>{D(!0),x.A.delete({ids:[P]}).then((()=>{z(!1),h.oR.success(M("successfully.deleted")),R((0,y.EN)(Y))})).finally((()=>D(!1)))}:()=>{D(!0),x.A.setActive(P).then((()=>{z(!1),R((0,y.EN)(Y)),h.oR.success(M("successfully.updated"))})).finally((()=>D(!1)))},text:M(F?"delete.product":"set.active.product"),loading:W}),(0,E.jsx)(I.A,{isModalOpen:G,handleCancel:()=>X(!1)})]})}},72906:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(89379),l=a(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var r=a(16233),o=function(e,t){return l.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:d}))};o.displayName="MoreOutlined";const s=l.forwardRef(o)},74827:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(82371);const l={getAll:e=>n.A.get("rest/brands/paginate",{params:e}),getById:(e,t)=>n.A.get(`rest/brands/${e}`,{params:t}),search:e=>n.A.get("rest/brands/paginate",{params:e})}},78433:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(89379),l=a(9950),d=a(18042),r=a(16233),o=function(e,t){return l.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:d.A}))};o.displayName="DeleteOutlined";const s=l.forwardRef(o)},78457:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(82371);const l={getChild:e=>n.A.get("dashboard/seller/categories/paginate/children",{params:e}),getAll:e=>n.A.get("rest/categories/paginate",{params:e}),getById:(e,t)=>n.A.get(`rest/categories/${e}`,{params:t}),search:e=>n.A.get("rest/categories/parent",{params:e})}},90582:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(89379),l=a(9950),d=a(42701),r=a(16233),o=function(e,t){return l.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:d.A}))};o.displayName="EditOutlined";const s=l.forwardRef(o)}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8891],{8168:(e,s,a)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(s,{A:()=>n})},28645:(e,s,a)=>{a.d(s,{A:()=>h});var n=a(9950),t=a(66362),l=a(69216),i=a(80737),r=a(25933),d=a(57811),c=a(72906),o=a(70030),u=a(44414);const{Text:m}=t.A,h=e=>{let{columns:s=[],setColumns:a}=e;const{t:t}=(0,o.B)(),[h,p]=(0,n.useState)(!1),A=(0,u.jsx)(l.A,{children:null===s||void 0===s?void 0:s.map(((e,n)=>(0,u.jsx)(l.A.Item,{children:(0,u.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(m,{children:e.title}),(0,u.jsx)(r.A,{defaultChecked:!0,onClick:()=>{!function(e){const n=null===s||void 0===s?void 0:s.map((s=>(s.dataIndex===e.dataIndex&&(s.is_show=!(null!==s&&void 0!==s&&s.is_show)),s)));a(n)}(e)}})]})},n)))});return(0,u.jsx)(d.A,{overlay:A,trigger:["click"],onVisibleChange:e=>{p(e)},visible:h,children:(0,u.jsx)(c.A,{style:{fontSize:"26px"}})})}},53387:(e,s,a)=>{a.d(s,{A:()=>d});var n=a(89379),t=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=a(25085),r=function(e,s){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:s,icon:l}))};const d=t.forwardRef(r)},72906:(e,s,a)=>{a.d(s,{A:()=>d});var n=a(89379),t=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var i=a(25085),r=function(e,s){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:s,icon:l}))};const d=t.forwardRef(r)},88891:(e,s,a)=>{a.r(s),a.d(s,{default:()=>G});var n=a(9950),t=a(24513),l=a(53387),i=a(25933),r=a(80737),d=a(48538),c=a(20567),o=a(73092),u=a(49348),m=a(76083),h=a(55386),p=a(91854),A=a(28429),v=a(74623),x=a(29514),f=a(88986),j=a(8168),g=a(53271),y=a(70030),b=a(87827),w=a(27741),k=a(87094),C=a(41988),S=a(55902),I=a(99674),_=a(4119),z=a(693),N=a(95524),q=a(5689),M=a(44414);function X(e){let{visibility:s,handleCancel:a}=e;const{t:t}=(0,y.B)(),[l,i]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[o,m]=(0,n.useState)(null),[h]=b.A.useForm(),A=(0,p.wA)();return(0,M.jsx)(w.A,{visible:s,title:t("add.deliveryman"),onCancel:a,footer:[(0,M.jsx)(d.A,{type:"primary",onClick:()=>h.submit(),loading:l,children:t("save")}),(0,M.jsx)(d.A,{type:"default",onClick:a,children:t("cancel")})],className:"large-modal",children:(0,M.jsx)(b.A,{form:h,layout:"vertical",initialValues:{gender:"male"},onFinish:e=>{const s={...e,role:"deliveryman",birthday:o};i(!0),g.A.create(s).then((()=>{a(),u.oR.success(t("successfully.created")),A((0,x.GX)())})).catch((e=>c(e.response.data.params))).finally((()=>i(!1)))},children:(0,M.jsxs)(k.A,{gutter:12,children:[(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("firstname"),name:"firstname",help:null!==r&&void 0!==r&&r.firstname?r.firstname[0]:null,validateStatus:null!==r&&void 0!==r&&r.firstname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("lastname"),name:"lastname",help:null!==r&&void 0!==r&&r.lastname?r.lastname[0]:null,validateStatus:null!==r&&void 0!==r&&r.lastname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(_.A,{label:t("phone"),name:"phone",error:r})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(q.A,{label:t("birthday"),name:"birthday",valuePropName:"data",onChange:(e,s)=>m(s)})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("gender"),name:"gender",rules:[{required:!0,message:t("required")}],children:(0,M.jsxs)(I.A,{picker:"dayTime",className:"w-100",children:[(0,M.jsx)(I.A.Option,{value:"male",children:t("male")}),(0,M.jsx)(I.A.Option,{value:"female",children:t("female")})]})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("email"),name:"user_email",help:null!==r&&void 0!==r&&r.email?r.email[0]:null,validateStatus:null!==r&&void 0!==r&&r.email?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{type:"email",className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(z.A,{label:t("password"),name:"password",error:r})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(N.A,{label:t("password.confirmation"),name:"password_confirmation",dependencies:["password"],error:r})})]})})})}var B=a(28645);function G(){const e=(0,p.wA)(),s=(0,A.Zp)(),{t:a}=(0,y.B)(),[b,w]=(0,n.useState)([{title:a("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:a("name"),is_show:!0,dataIndex:"firstname",key:"firstname",render:(e,s)=>(0,M.jsxs)("div",{children:[e," ",s.lastname]})},{title:a("phone"),is_show:!0,dataIndex:"phone",key:"phone"},{title:a("active"),is_show:!0,dataIndex:"active",key:"active",render:(e,s)=>(0,M.jsx)(i.A,{checked:e,onChange:()=>{S(s.uuid),_(!1),k(!0)}})},{title:a("options"),is_show:!0,key:"options",dataIndex:"options",render:(n,l)=>(0,M.jsx)(r.A,{children:(0,M.jsx)(d.A,{type:"primary",icon:(0,M.jsx)(t.A,{}),onClick:()=>(n=>{e((0,v.X4)({url:`user/${n.uuid}`,id:"user_edit",name:a("edit.user")})),s(`/user/${n.uuid}`)})(l)})})}]),{setIsModalVisible:k}=(0,n.useContext)(h.o),[C,S]=(0,n.useState)(null),[I,_]=(0,n.useState)(!1),[z,N]=(0,n.useState)(!1),[q,G]=(0,n.useState)(!1),{activeMenu:P}=(0,p.d4)((e=>e.menu),p.bN),{deliverymans:R,meta:V,loading:E,params:O}=(0,p.d4)((e=>e.deliveryman),p.bN);return(0,n.useEffect)((()=>{P.refetch&&(e((0,x.GX)()),e((0,v.km)(P)))}),[P.refetch]),(0,f.A)((()=>{const s=P.data,a={sort:null===s||void 0===s?void 0:s.sort,column:null===s||void 0===s?void 0:s.column,perPage:null===s||void 0===s?void 0:s.perPage,page:null===s||void 0===s?void 0:s.page};e((0,x.GX)(a))}),[P.data]),(0,M.jsxs)(c.A,{title:a("deliverymans"),extra:(0,M.jsxs)(r.A,{children:[(0,M.jsx)(d.A,{icon:(0,M.jsx)(l.A,{}),type:"primary",onClick:()=>G(!0),children:a("add.deliveryman")}),(0,M.jsx)(B.A,{setColumns:w,columns:b})]}),children:[(0,M.jsx)(o.A,{columns:null===b||void 0===b?void 0:b.filter((e=>e.is_show)),dataSource:R,pagination:{pageSize:O.perPage,page:O.page,total:V.total,defaultCurrent:O.page},rowKey:e=>e.id,onChange:function(s,a,n){const{pageSize:t,current:l}=s,{field:i,order:r}=n,d=(0,j.A)(r);e((0,v.Ok)({activeMenu:P,data:{perPage:t,page:l,column:i,sort:d}}))},loading:E}),(0,M.jsx)(X,{visibility:q,handleCancel:()=>G(!1)}),(0,M.jsx)(m.A,{click:I?()=>{N(!0),g.A.delete(C).then((()=>{u.oR.success(a("successfully.deleted")),e((0,x.GX)()),k(!1)})).finally((()=>N(!1)))}:()=>{N(!0),g.A.setActive(C).then((()=>{u.oR.success(a("successfully.updated")),e((0,x.GX)()),k(!1)})).finally((()=>N(!1)))},text:a(I?"delete.user":"set.active.user"),loading:z})]})}}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8382],{9494:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(89379),o=a(9950),n=a(68681),s=a(16233),i=function(e,t){return o.createElement(s.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:n.A}))};i.displayName="InfoCircleOutlined";const d=o.forwardRef(i)},47992:(e,t,a)=>{a.d(t,{G:()=>r});var l=a(9950),o=a(95491),n=a.n(o),s=a(99674),i=a(90650),d=a(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:a=400,...o}=e;const[r,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)([]),h=(0,l.useMemo)((()=>n()((e=>{p([]),c(!0),t(e).then((e=>{p(e),c(!1)}))}),a)),[t,a]);return(0,d.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,notFoundContent:r?(0,d.jsx)(i.A,{size:"small"}):"no results",...o,options:u,onFocus:()=>{u.length||h("")}})}},58382:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var l=a(9950),o=a(20567),n=a(80737),s=a(48538),i=a(91854),d=a(70030),r=a(72540),c=a(9494),u=a(88349),p=a(49348),h=a(47933),m=a(74623),f=a(32801),x=a(63620),b=a(55660),v=a(47992),j=a(44414);function w(){var e;const{t:t}=(0,d.B)(),a=(0,i.wA)(),[w,A]=(0,l.useState)(null),{activeMenu:k}=(0,i.d4)((e=>e.menu),i.bN),y=e=>({uid:e.name,name:e.name,status:"done",url:e.name,created:!0});return(0,j.jsxs)(o.A,{title:t("import"),children:[(0,j.jsxs)("div",{className:"alert",role:"alert",children:[(0,j.jsxs)("div",{className:"alert-header",children:[(0,j.jsx)(c.A,{className:"alert-icon"}),(0,j.jsx)("p",{children:"Info"})]}),"1. Download the skeleton file and fill it with proper data.",(0,j.jsx)("br",{}),"2. You can download the example file to understand how the data must be filled.",(0,j.jsx)("br",{}),"3. Once you have downloaded and filled the skeleton file, upload it in the form below and submit.",(0,j.jsx)("br",{}),"4. After uploading products you need to edit them and set product's images and choices.",(0,j.jsx)("br",{})]}),(0,j.jsxs)(n.A,{className:"mb-4",children:[(0,j.jsx)(s.A,{type:"primary",onClick:()=>{const e=x.bb+"import-example/product_import.xlsx";window.location.href=e},children:t("all.shop.example")}),(0,j.jsx)(s.A,{type:"primary",onClick:()=>{const e=x.bb+"import-example/shop_product_import.xlsx";window.location.href=e},children:t("single.shop.example")}),(0,j.jsx)(v.G,{placeholder:t("select.shop"),fetchOptions:async function(e){const t={search:e};return b.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>A((null===e||void 0===e?void 0:e.value)||null),value:null===(e=k.data)||void 0===e?void 0:e.shop})]}),(0,j.jsxs)(r.A,{name:"file",multiple:!1,maxCount:1,customRequest:e=>{let{file:l,onSuccess:o}=e;const n=new FormData;n.append("file",l),w&&n.append("shop_id",w),h.A.import(n).then((e=>{p.oR.success(t("successfully.import")),a((0,m.Ok)({activeMenu:k,data:y(l)})),o("ok"),a((0,f.j0)())}))},defaultFileList:null!==k&&void 0!==k&&k.data?[null===k||void 0===k?void 0:k.data]:null,beforeUpload:e=>{if(!("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type))return p.oR.error(`${e.name} is not valid file`),!1},children:[(0,j.jsx)("p",{className:"ant-upload-drag-icon",children:(0,j.jsx)(u.A,{})}),(0,j.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,j.jsx)("p",{className:"ant-upload-hint",children:"Using this file, it is possible to create a database of new products. You need to click the button above to update"})]})]})}}}]);
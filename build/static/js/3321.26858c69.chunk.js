"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3321],{29597:(e,t,l)=>{function a(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=e.location.split(", ");return{lat:Number(t[0]),lng:Number(t[1])}}l.d(t,{A:()=>a})},31281:(e,t,l)=>{function a(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const a=e.filter((e=>t[`${l}[${e.locale}]`])).map((e=>({[e.locale]:t[`${l}[${e.locale}]`]})));return Object.assign({},...a)}l.d(t,{A:()=>a})},54311:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(25887),n=(l(9950),l(56713)),s=l(70030),o=l(91854),i=l(63620),d=l(44414);function c(e){let{setLocation:t,form:l,item:c,idx:r,defaultLang:u}=e;const{t:g}=(0,s.B)(),{google_map_key:m}=(0,o.d4)((e=>e.globalSettings.settings),o.bN),{ref:h}=(0,n.usePlacesWidget)({apiKey:m||i.CJ,onPlaceSelected:e=>{const a={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};t(a),l.setFieldsValue({[`address[${u}]`]:null===e||void 0===e?void 0:e.formatted_address})}});return(0,d.jsx)(a.A.Item,{label:g("address"),name:`address[${null===c||void 0===c?void 0:c.locale}]`,rules:[{required:(null===c||void 0===c?void 0:c.locale)===u,message:g("required")}],hidden:(null===c||void 0===c?void 0:c.locale)!==u,children:(0,d.jsx)("input",{className:"address-input",ref:h,placeholder:""})},"address"+r)}},71999:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(9950),n=l(17811),s=l(12437),o=l(91854),i=l(82406),d=l(44414);const c=()=>{const e=(0,o.wA)(),{languages:t,defaultLang:l}=(0,o.d4)((e=>e.formLang),o.bN);(0,a.useEffect)((()=>{t.length||s.A.getAllActive().then((t=>{let{data:l}=t;e((0,i.Nn)(l))}))}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(n.Ay.Group,{value:l,onChange:t=>{let{target:{value:l}}=t;e((0,i.Qq)(l))},className:"float-right",buttonStyle:"solid",children:t.map((e=>(0,d.jsx)(n.Ay.Button,{value:e.locale,children:e.title},e.id)))})})}},78498:(e,t,l)=>{l.d(t,{A:()=>h});var a=l(9950),n=l(97239),s=l(63620);const o=l.p+"static/media/pin.0e41858db80c699cd8a2.png";var i=l(96011),d=l.n(i),c=l(46125);const{formLang:{defaultLang:r}}=c.M.getState();async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AIzaSyDZQUsmwnkCmD3HMNFCABo8YSE54FCTFYo",l={language:r||"en",latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:t};return d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((e=>{var t;let{data:l}=e;return null===(t=l.results[0])||void 0===t?void 0:t.formatted_address})).catch((e=>(console.log(e),"not found")))}var g=l(39174),m=l(44414);const h=(0,n.GoogleApiWrapper)({apiKey:s.CJ})((function(e){const[t,l]=(0,a.useState)(),i=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const t={lat:e.coords.latitude,lng:e.coords.longitude};l(t)}))};(0,a.useEffect)((()=>{i()}),[]);const d=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var c=new e.google.maps.LatLngBounds,r=0;r<d.length;r++)c.extend(d[r]);return(0,m.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,m.jsx)("button",{className:"map-button",type:"button",onClick:()=>{i(),(async t=>{const l={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng};e.setLocation(l);const a=await u(l,s.CJ);e.setAddress(a)})(t)},children:(0,m.jsx)(g.uFi,{})}),(0,m.jsx)(n.Map,{cursor:"pointer",onClick:async(t,l,a)=>{const{latLng:n}=a,o={lat:n.lat(),lng:n.lng()};e.setLocation(o);const i=await u(o,s.CJ);e.setAddress(i)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,m.jsx)(n.Marker,{position:e.location,icon:{url:o,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},80978:(e,t,l)=>{l.r(t),l.d(t,{default:()=>N});var a=l(9950),n=l(28429),s=l(49348),o=l(25887),i=l(20567),d=l(87094),c=l(41988),r=l(93124),u=l(48538),g=l(91854),m=l(74623),h=l(70030),f=l(31281),v=l(71999),p=l(78498),A=l(29597),b=l(37332),x=l(58962),j=l(54311),y=l(44414);const N=()=>{const{t:e}=(0,h.B)(),{settings:t}=(0,g.d4)((e=>e.globalSettings),g.bN),[l,N]=(0,a.useState)((0,A.A)(t)),{activeMenu:L}=(0,g.d4)((e=>e.menu),g.bN),k=(0,g.wA)(),[C]=o.A.useForm(),w=(0,n.Zp)(),[S,$]=(0,a.useState)(!1),{languages:F,defaultLang:M}=(0,g.d4)((e=>e.formLang),g.bN);(0,a.useEffect)((()=>()=>{const e=C.getFieldsValue(!0);k((0,m.Ok)({activeMenu:L,data:e}))}),[]);return(0,y.jsx)(i.A,{title:e("add.branch"),className:"h-100",extra:(0,y.jsx)(v.A,{}),children:(0,y.jsxs)(o.A,{name:"branch-add",layout:"vertical",onFinish:t=>{const a={title:(0,f.A)(F,t,"title"),address:(0,f.A)(F,t,"address"),longitude:l.lng,latitude:l.lat};$(!0);const n="seller/branch";x.A.create(a).then((()=>{s.oR.success(e("successfully.created")),k((0,m.EK)({...L,nextUrl:n})),w(`/${n}`),k((0,b.D)())})).finally((()=>$(!1))),console.log("body",a)},form:C,initialValues:{clickable:!0,...L.data},className:"d-flex flex-column h-100",children:[(0,y.jsxs)(d.A,{gutter:12,children:[(0,y.jsx)(c.A,{span:12,children:F.map(((t,l)=>(0,y.jsx)(o.A.Item,{label:e("title"),name:`title[${t.locale}]`,rules:[{required:t.locale===M,message:e("required")}],hidden:t.locale!==M,children:(0,y.jsx)(r.A,{})},"title"+l)))}),(0,y.jsx)(c.A,{span:12,children:F.map(((e,t)=>(0,y.jsx)(j.A,{setLocation:N,form:C,item:e,idx:t,defaultLang:M})))}),(0,y.jsx)(c.A,{span:24,children:(0,y.jsx)(p.A,{location:l,setLocation:N,setAddress:e=>C.setFieldsValue({[`address[${M}]`]:e})})})]}),(0,y.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,y.jsx)("div",{className:"pb-5",children:(0,y.jsx)(u.A,{type:"primary",htmlType:"submit",loading:S,children:e("submit")})})})]})})}}}]);
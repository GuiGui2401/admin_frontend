"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7700],{28645:(e,t,n)=>{n.d(t,{A:()=>A});var s=n(9950),a=n(66362),i=n(69216),l=n(80737),c=n(25933),r=n(57811),o=n(72906),d=n(70030),u=n(44414);const{Text:h}=a.A,A=e=>{let{columns:t=[],setColumns:n}=e;const{t:a}=(0,d.B)(),[A,x]=(0,s.useState)(!1),m=(0,u.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,s)=>(0,u.jsx)(i.A.Item,{children:(0,u.jsxs)(l.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(c.A,{defaultChecked:!0,onClick:()=>{!function(e){const s=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(s)}(e)}})]})},s)))});return(0,u.jsx)(r.A,{overlay:m,trigger:["click"],onVisibleChange:e=>{x(e)},visible:A,children:(0,u.jsx)(o.A,{style:{fontSize:"26px"}})})}},35116:(e,t,n)=>{n.d(t,{A:()=>o});n(9950);var s=n(48538),a=n(44070),i=n(49348),l=n(70030),c=n(13311),r=n(44414);function o(e){let{onClick:t,type:n="default",...o}=e;const{t:d}=(0,l.B)(),{isDemo:u}=(0,c.A)();return(0,r.jsx)(s.A,{icon:(0,r.jsx)(a.A,{}),onClick:()=>{console.log(u),u?i.oR.warning(d("cannot.work.demo")):t()},type:n,...o})}},37700:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var s=n(24513),a=n(44070),i=n(25933),l=n(80737),c=n(48538),r=n(20567),o=n(73092),d=n(9950),u=n(70030),h=n(91854),A=n(49348),x=n(35116),m=n(28645),p=n(76083),j=n(55386),v=n(53774),b=n(74623),f=n(58244),k=n(21127),y=n(87827),g=n(27741),C=n(87094),w=n(41988),S=n(56952),I=n(81446),_=n(44414);function N(e){let{visibility:t,handleCancel:n}=e;const[s]=y.A.useForm(),{t:a}=(0,u.B)(),{activeMenu:i}=(0,h.d4)((e=>e.menu),h.bN),l=(0,h.wA)(),[r,o]=(0,d.useState)(!1),[A,x]=(0,d.useState)(!1);(0,d.useEffect)((()=>{o(!0),k.A.getById(t).then((e=>{let{data:t}=e;return s.setFieldsValue(t)})).finally((()=>o(!1)))}),[t]);return(0,_.jsx)(g.A,{visible:!!t,title:a("edit.cashback"),onOk:()=>{console.log("ok")},onCancel:n,footer:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>s.submit(),loading:A,children:a("save")},"save-cashback"),(0,_.jsx)(c.A,{type:"default",onClick:n,children:a("cancel")},"cancel-cashback")],children:r?(0,_.jsx)(I.A,{}):(0,_.jsx)(y.A,{form:s,layout:"vertical",onFinish:e=>{console.log("values => ",e),x(!0);const s={...e,type:"percent"};k.A.update(t,s).then((()=>{n(),l((0,b.Ms)(i))})).finally((()=>x(!1)))},children:(0,_.jsxs)(C.A,{gutter:12,children:[(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(y.A.Item,{label:a("cashback"),name:"price",rules:[{required:!0,message:a("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100",addonAfter:"%"})})}),(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(y.A.Item,{label:a("min.amount"),name:"value",rules:[{required:!0,message:a("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100"})})})]})})})}function q(e){let{visibility:t,handleCancel:n}=e;const[s]=y.A.useForm(),{t:a}=(0,u.B)(),{activeMenu:i}=(0,h.d4)((e=>e.menu),h.bN),l=(0,h.wA)(),[r,o]=(0,d.useState)(!1);return(0,_.jsx)(g.A,{visible:t,title:a("add.cashback"),onOk:()=>{console.log("ok")},onCancel:n,footer:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>s.submit(),loading:r,children:a("save")},"save-cashback"),(0,_.jsx)(c.A,{type:"default",onClick:n,children:a("cancel")},"cancel-cashback")],children:(0,_.jsx)(y.A,{form:s,layout:"vertical",onFinish:e=>{console.log("values => ",e),o(!0);const t={...e,type:"percent"};k.A.create(t).then((()=>{n(),l((0,b.Ms)(i))})).finally((()=>o(!1)))},children:(0,_.jsxs)(C.A,{gutter:12,children:[(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(y.A.Item,{label:a("cashback"),name:"price",rules:[{required:!0,message:a("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100",addonAfter:"%"})})}),(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(y.A.Item,{label:a("min.amount"),name:"value",rules:[{required:!0,message:a("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100"})})})]})})})}function B(){const{t:e}=(0,u.B)(),t=(0,h.wA)(),{defaultCurrency:n}=(0,h.d4)((e=>e.currency),h.bN),{setIsModalVisible:y}=(0,d.useContext)(j.o),[g,C]=(0,d.useState)(null),[w,S]=(0,d.useState)(null),[I,B]=(0,d.useState)(!1),[M,z]=(0,d.useState)(!1),[F,R]=(0,d.useState)(null),[Y,E]=(0,d.useState)([]),[V,$]=(0,d.useState)([{title:e("id"),is_show:!0,dataIndex:"id",key:"id"},{title:e("cashback"),is_show:!0,dataIndex:"price",key:"price",render:e=>`${e} %`},{title:e("min.amount"),is_show:!0,dataIndex:"value",key:"value",render:e=>(0,v.A)(e,null===n||void 0===n?void 0:n.symbol)},{title:e("active"),is_show:!0,dataIndex:"active",key:"active",render:(e,t)=>(0,_.jsx)(i.A,{onChange:()=>{y(!0),C(t.id),S(!0)},checked:e},t.id+e)},{title:e("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:e("options"),is_show:!0,key:"options",dataIndex:"options",render:(e,t)=>(0,_.jsxs)(l.A,{children:[(0,_.jsx)(c.A,{type:"primary",icon:(0,_.jsx)(s.A,{}),onClick:()=>R(t.id)}),(0,_.jsx)(x.A,{icon:(0,_.jsx)(a.A,{}),onClick:()=>{y(!0),E([t.id]),S(!1)}})]})}]),{activeMenu:O}=(0,h.d4)((e=>e.menu),h.bN),{points:D,meta:K,loading:P}=(0,h.d4)((e=>e.point),h.bN),T=()=>{B(!0),k.A.delete({ids:Y}).then((()=>{t((0,f.Y)()),A.oR.success(e("successfully.deleted"))})).finally((()=>{y(!1),B(!1)}))};(0,d.useEffect)((()=>{O.refetch&&(t((0,f.Y)()),t((0,b.km)(O)))}),[O.refetch]);const G={onChange:(e,t)=>{E(e)}};return(0,_.jsxs)(r.A,{title:e("cashback"),extra:(0,_.jsxs)(l.A,{children:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>z(!0),children:e("add.cashback")}),(0,_.jsx)(x.A,{type:"danger",onClick:T,disabled:Boolean(!(null!==Y&&void 0!==Y&&Y.length)),children:e("delete.all")}),(0,_.jsx)(m.A,{setColumns:$,columns:V})]}),children:[(0,_.jsx)(o.A,{rowSelection:G,columns:null===V||void 0===V?void 0:V.filter((e=>e.is_show)),dataSource:D,pagination:{pageSize:K.per_page,page:K.current_page,total:K.total},rowKey:e=>e.id,loading:P,onChange:e=>{const{pageSize:n,current:s}=e;t((0,f.Y)({perPage:n,page:s}))}}),(0,_.jsx)(p.A,{click:w?()=>{B(!0),k.A.setActive(g).then((()=>{y(!1),t((0,f.Y)()),A.oR.success(e("successfully.updated"))})).finally((()=>B(!1)))}:T,text:e(w?"set.active.banner":"delete.banner"),loading:I}),M&&(0,_.jsx)(q,{visibility:M,handleCancel:()=>z(!1)}),F&&(0,_.jsx)(N,{visibility:F,handleCancel:()=>R(null)})]})}},53774:(e,t,n)=>{function s(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(t,{A:()=>s})},72906:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(89379),a=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var l=n(25085),c=function(e,t){return a.createElement(l.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:i}))};const r=a.forwardRef(c)}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7700],{28645:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(9950),s=n(30377),i=n(69216),l=n(80737),c=n(25933),r=n(57811),o=n(72906),d=n(70030),u=n(44414);const{Text:h}=s.A,A=e=>{let{columns:t=[],setColumns:n}=e;const{t:s}=(0,d.B)(),[A,m]=(0,a.useState)(!1),x=(0,u.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,u.jsx)(i.A.Item,{children:(0,u.jsxs)(l.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(c.A,{defaultChecked:!0,onClick:()=>{!function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(a)}(e)}})]})},a)))});return(0,u.jsx)(r.A,{overlay:x,trigger:["click"],onVisibleChange:e=>{m(e)},visible:A,children:(0,u.jsx)(o.A,{style:{fontSize:"26px"}})})}},35116:(e,t,n)=>{n.d(t,{A:()=>o});n(9950);var a=n(48538),s=n(78433),i=n(49348),l=n(70030),c=n(13311),r=n(44414);function o(e){let{onClick:t,type:n="default",...o}=e;const{t:d}=(0,l.B)(),{isDemo:u}=(0,c.A)();return(0,r.jsx)(a.A,{icon:(0,r.jsx)(s.A,{}),onClick:()=>{console.log(u),u?i.oR.warning(d("cannot.work.demo")):t()},type:n,...o})}},37700:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(90582),s=n(78433),i=n(25933),l=n(80737),c=n(48538),r=n(20567),o=n(3754),d=n(9950),u=n(70030),h=n(91854),A=n(49348),m=n(35116),x=n(28645),f=n(76083),p=n(55386),j=n(53774),v=n(74623),y=n(58244),b=n(21127),k=n(25887),g=n(27741),C=n(87094),w=n(41988),S=n(40202),I=n(81446),_=n(44414);function N(e){let{visibility:t,handleCancel:n}=e;const[a]=k.A.useForm(),{t:s}=(0,u.B)(),{activeMenu:i}=(0,h.d4)((e=>e.menu),h.bN),l=(0,h.wA)(),[r,o]=(0,d.useState)(!1),[A,m]=(0,d.useState)(!1);(0,d.useEffect)((()=>{o(!0),b.A.getById(t).then((e=>{let{data:t}=e;return a.setFieldsValue(t)})).finally((()=>o(!1)))}),[t]);return(0,_.jsx)(g.A,{visible:!!t,title:s("edit.cashback"),onOk:()=>{console.log("ok")},onCancel:n,footer:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>a.submit(),loading:A,children:s("save")},"save-cashback"),(0,_.jsx)(c.A,{type:"default",onClick:n,children:s("cancel")},"cancel-cashback")],children:r?(0,_.jsx)(I.A,{}):(0,_.jsx)(k.A,{form:a,layout:"vertical",onFinish:e=>{console.log("values => ",e),m(!0);const a={...e,type:"percent"};b.A.update(t,a).then((()=>{n(),l((0,v.Ms)(i))})).finally((()=>m(!1)))},children:(0,_.jsxs)(C.A,{gutter:12,children:[(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(k.A.Item,{label:s("cashback"),name:"price",rules:[{required:!0,message:s("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100",addonAfter:"%"})})}),(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(k.A.Item,{label:s("min.amount"),name:"value",rules:[{required:!0,message:s("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100"})})})]})})})}function q(e){let{visibility:t,handleCancel:n}=e;const[a]=k.A.useForm(),{t:s}=(0,u.B)(),{activeMenu:i}=(0,h.d4)((e=>e.menu),h.bN),l=(0,h.wA)(),[r,o]=(0,d.useState)(!1);return(0,_.jsx)(g.A,{visible:t,title:s("add.cashback"),onOk:()=>{console.log("ok")},onCancel:n,footer:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>a.submit(),loading:r,children:s("save")},"save-cashback"),(0,_.jsx)(c.A,{type:"default",onClick:n,children:s("cancel")},"cancel-cashback")],children:(0,_.jsx)(k.A,{form:a,layout:"vertical",onFinish:e=>{console.log("values => ",e),o(!0);const t={...e,type:"percent"};b.A.create(t).then((()=>{n(),l((0,v.Ms)(i))})).finally((()=>o(!1)))},children:(0,_.jsxs)(C.A,{gutter:12,children:[(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(k.A.Item,{label:s("cashback"),name:"price",rules:[{required:!0,message:s("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100",addonAfter:"%"})})}),(0,_.jsx)(w.A,{span:24,children:(0,_.jsx)(k.A.Item,{label:s("min.amount"),name:"value",rules:[{required:!0,message:s("required")}],children:(0,_.jsx)(S.A,{min:0,className:"w-100"})})})]})})})}function B(){const{t:e}=(0,u.B)(),t=(0,h.wA)(),{defaultCurrency:n}=(0,h.d4)((e=>e.currency),h.bN),{setIsModalVisible:k}=(0,d.useContext)(p.o),[g,C]=(0,d.useState)(null),[w,S]=(0,d.useState)(null),[I,B]=(0,d.useState)(!1),[M,z]=(0,d.useState)(!1),[E,F]=(0,d.useState)(null),[R,O]=(0,d.useState)([]),[Y,V]=(0,d.useState)([{title:e("id"),is_show:!0,dataIndex:"id",key:"id"},{title:e("cashback"),is_show:!0,dataIndex:"price",key:"price",render:e=>`${e} %`},{title:e("min.amount"),is_show:!0,dataIndex:"value",key:"value",render:e=>(0,j.A)(e,null===n||void 0===n?void 0:n.symbol)},{title:e("active"),is_show:!0,dataIndex:"active",key:"active",render:(e,t)=>(0,_.jsx)(i.A,{onChange:()=>{k(!0),C(t.id),S(!0)},checked:e},t.id+e)},{title:e("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:e("options"),is_show:!0,key:"options",dataIndex:"options",render:(e,t)=>(0,_.jsxs)(l.A,{children:[(0,_.jsx)(c.A,{type:"primary",icon:(0,_.jsx)(a.A,{}),onClick:()=>F(t.id)}),(0,_.jsx)(m.A,{icon:(0,_.jsx)(s.A,{}),onClick:()=>{k(!0),O([t.id]),S(!1)}})]})}]),{activeMenu:$}=(0,h.d4)((e=>e.menu),h.bN),{points:D,meta:K,loading:P}=(0,h.d4)((e=>e.point),h.bN),T=()=>{B(!0),b.A.delete({ids:R}).then((()=>{t((0,y.Y)()),A.oR.success(e("successfully.deleted"))})).finally((()=>{k(!1),B(!1)}))};(0,d.useEffect)((()=>{$.refetch&&(t((0,y.Y)()),t((0,v.km)($)))}),[$.refetch]);const G={onChange:(e,t)=>{O(e)}};return(0,_.jsxs)(r.A,{title:e("cashback"),extra:(0,_.jsxs)(l.A,{children:[(0,_.jsx)(c.A,{type:"primary",onClick:()=>z(!0),children:e("add.cashback")}),(0,_.jsx)(m.A,{type:"danger",onClick:T,disabled:Boolean(!(null!==R&&void 0!==R&&R.length)),children:e("delete.all")}),(0,_.jsx)(x.A,{setColumns:V,columns:Y})]}),children:[(0,_.jsx)(o.A,{rowSelection:G,columns:null===Y||void 0===Y?void 0:Y.filter((e=>e.is_show)),dataSource:D,pagination:{pageSize:K.per_page,page:K.current_page,total:K.total},rowKey:e=>e.id,loading:P,onChange:e=>{const{pageSize:n,current:a}=e;t((0,y.Y)({perPage:n,page:a}))}}),(0,_.jsx)(f.A,{click:w?()=>{B(!0),b.A.setActive(g).then((()=>{k(!1),t((0,y.Y)()),A.oR.success(e("successfully.updated"))})).finally((()=>B(!1)))}:T,text:e(w?"set.active.banner":"delete.banner"),loading:I}),M&&(0,_.jsx)(q,{visibility:M,handleCancel:()=>z(!1)}),E&&(0,_.jsx)(N,{visibility:E,handleCancel:()=>F(null)})]})}},53774:(e,t,n)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(t,{A:()=>a})},72906:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),s=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var l=n(16233),c=function(e,t){return s.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};c.displayName="MoreOutlined";const r=s.forwardRef(c)},78433:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),s=n(9950),i=n(18042),l=n(16233),c=function(e,t){return s.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i.A}))};c.displayName="DeleteOutlined";const r=s.forwardRef(c)},90582:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),s=n(9950),i=n(42701),l=n(16233),c=function(e,t){return s.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i.A}))};c.displayName="EditOutlined";const r=s.forwardRef(c)}}]);
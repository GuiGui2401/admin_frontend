"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1432],{21432:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var l=n(9950),a=n(25933),i=n(80737),s=n(48538),c=n(73092),r=n(55386),d=n(84509),o=n(76083),u=n(91854),h=n(53496),A=n(74623),m=n(34996),x=n(70030),f=n(24513),g=n(87827),j=n(27741),v=n(87094),p=n(41988),b=n(55902),y=n(81446),C=n(71999),k=n(31281),w=n(41064),_=n(44414);function N(e){let{modal:t,handleCancel:n}=e;const{activeMenu:a}=(0,u.d4)((e=>e.menu),u.bN),{languages:i,defaultLang:c}=(0,u.d4)((e=>e.formLang),u.bN),{settings:{payment_type:r}}=(0,u.d4)((e=>e.globalSettings),u.bN),[d]=g.A.useForm(),o=(0,u.wA)(),{t:h}=(0,x.B)(),[f,N]=(0,l.useState)(!1),[S,I]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var e;t&&(e=t.id,N(!0),m.A.getById(e).then((e=>{let{data:t}=e;const n=(0,w.A)(i,t,["title","client_title","secret_title"]);d.setFieldsValue({...t,...n})})).finally((()=>N(!1))))}),[t]);return(0,_.jsx)(j.A,{visible:!!t,title:h("edit.payment"),onOk:()=>{console.log("ok")},onCancel:n,footer:[(0,_.jsx)(s.A,{type:"primary",onClick:()=>d.submit(),loading:S,children:h("save")},"save-btn"),(0,_.jsx)(s.A,{type:"default",onClick:n,children:h("cancel")},"cancel-btn")],children:f?(0,_.jsx)(y.A,{}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"d-flex justify-content-end",children:(0,_.jsx)(C.A,{})}),(0,_.jsx)(g.A,{form:d,layout:"vertical",onFinish:e=>{let l={};l=Boolean("admin"===r)?{client_id:e.client_id,secret_id:e.secret_id,title:(0,k.A)(i,e,"title")}:{title:(0,k.A)(i,e,"title")},I(!0),m.A.update(t.id,l).then((()=>{n(),o((0,A.Ms)(a))})).finally((()=>I(!1)))},children:(0,_.jsxs)(v.A,{gutter:12,children:[(0,_.jsx)(p.A,{span:24,children:i.map((e=>(0,_.jsx)(g.A.Item,{label:h("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===c,message:h("required")}],hidden:e.locale!==c,children:(0,_.jsx)(b.A,{})})))}),Boolean("admin"===r)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(p.A,{span:24,children:(0,_.jsx)(g.A.Item,{label:h("client.id"),name:"client_id",rules:[{required:!0,message:h("required")}],children:(0,_.jsx)(b.A,{})})}),(0,_.jsx)(p.A,{span:24,children:(0,_.jsx)(g.A.Item,{label:h("secret.id"),name:"secret_id",rules:[{required:!0,message:h("required")}],children:(0,_.jsx)(b.A,{})})})]})]})})]})})}function S(){const{t:e}=(0,x.B)(),[t,n]=(0,l.useState)(null),[g,j]=(0,l.useState)(null),[v,p]=(0,l.useState)(!1),{setIsModalVisible:b}=(0,l.useContext)(r.o),{payments:y,loading:C}=(0,u.d4)((e=>e.payment),u.bN),{activeMenu:k}=(0,u.d4)((e=>e.menu),u.bN),w=(0,u.wA)(),[S,I]=(0,l.useState)([{title:e("title"),is_show:!0,dataIndex:"translation",key:"translation",render:e=>null===e||void 0===e?void 0:e.title},{title:e("active"),is_show:!0,dataIndex:"active",key:"active",render:(e,t)=>(0,_.jsx)(a.A,{onChange:()=>{b(!0),n(t.id)},checked:e})},{title:e("options"),is_show:!0,key:"options",render:(e,t)=>(0,_.jsx)(i.A,{children:(0,_.jsx)(s.A,{type:"primary",icon:(0,_.jsx)(f.A,{}),onClick:()=>j(t),disabled:"wallet"===t.tag||"cash"===t.tag})})}]);return(0,l.useEffect)((()=>{k.refetch&&(w((0,h.CK)()),w((0,A.km)(k)))}),[k.refetch]),(0,_.jsxs)(d.A,{headerTitle:e("payments"),children:[(0,_.jsx)(c.A,{columns:null===S||void 0===S?void 0:S.filter((e=>e.is_show)),dataSource:y,rowKey:e=>e.id,loading:C,pagination:!1}),(0,_.jsx)(o.A,{click:function(){p(!0),m.A.setActive(t).then((()=>{b(!1),n(null),w((0,h.CK)())})).finally((()=>p(!1)))},text:e("set.active.payment"),loading:v}),g&&(0,_.jsx)(N,{modal:g,handleCancel:()=>j(null)})]})}},28645:(e,t,n)=>{n.d(t,{A:()=>A});var l=n(9950),a=n(66362),i=n(69216),s=n(80737),c=n(25933),r=n(57811),d=n(72906),o=n(70030),u=n(44414);const{Text:h}=a.A,A=e=>{let{columns:t=[],setColumns:n}=e;const{t:a}=(0,o.B)(),[A,m]=(0,l.useState)(!1),x=(0,u.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,u.jsx)(i.A.Item,{children:(0,u.jsxs)(s.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(c.A,{defaultChecked:!0,onClick:()=>{!function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e)}})]})},l)))});return(0,u.jsx)(r.A,{overlay:x,trigger:["click"],onVisibleChange:e=>{m(e)},visible:A,children:(0,u.jsx)(d.A,{style:{fontSize:"26px"}})})}},31281:(e,t,n)=>{function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const l=e.filter((e=>t[`${n}[${e.locale}]`])).map((e=>({[e.locale]:t[`${n}[${e.locale}]`]})));return Object.assign({},...l)}n.d(t,{A:()=>l})},41064:(e,t,n)=>{function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(!t)return{};const{translations:l}=t,a=(e,t)=>{const n=l.find((t=>t.locale===e.locale));return n||{[t]:""}},i=e.flatMap((e=>n.flatMap((t=>({[`${t}[${e.locale}]`]:a(e,t)[t]})))));return Object.assign({},...i)}n.d(t,{A:()=>l})},53387:(e,t,n)=>{n.d(t,{A:()=>r});var l=n(89379),a=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=n(25085),c=function(e,t){return a.createElement(s.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:i}))};const r=a.forwardRef(c)},71999:(e,t,n)=>{n.d(t,{A:()=>d});var l=n(9950),a=n(17811),i=n(12437),s=n(91854),c=n(82406),r=n(44414);const d=()=>{const e=(0,s.wA)(),{languages:t,defaultLang:n}=(0,s.d4)((e=>e.formLang),s.bN);(0,l.useEffect)((()=>{t.length||i.A.getAllActive().then((t=>{let{data:n}=t;e((0,c.Nn)(n))}))}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Ay.Group,{value:n,onChange:t=>{let{target:{value:n}}=t;e((0,c.Qq)(n))},className:"float-right",buttonStyle:"solid",children:t.map((e=>(0,r.jsx)(a.Ay.Button,{value:e.locale,children:e.title},e.id)))})})}},72906:(e,t,n)=>{n.d(t,{A:()=>r});var l=n(89379),a=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var s=n(25085),c=function(e,t){return a.createElement(s.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:i}))};const r=a.forwardRef(c)},84509:(e,t,n)=>{n.d(t,{A:()=>h});n(9950);var l=n(28429),a=n(20567),i=n(80737),s=n(48538),c=n(91854),r=n(74623),d=n(53387),o=n(28645),u=n(44414);const h=e=>{let{children:t,containerName:n,headerTitle:h,navLInkTo:A,buttonTitle:m,setColumns:x,columns:f=[]}=e;const g=(0,c.wA)(),j=(0,l.Zp)();return(0,u.jsx)("div",{className:n,children:(0,u.jsx)(a.A,{title:h,extra:(0,u.jsxs)(i.A,{children:[m?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.A,{type:"primary",style:{marginRight:"15px"},icon:(0,u.jsx)(d.A,{}),onClick:()=>{let e="";const t=A.split("");"/"===t[0]&&t.shift(),e=t.join("");const n={id:e,url:e,name:m};g((0,r.X4)(n)),j(A)},children:m})}):null,(0,u.jsx)(o.A,{setColumns:x,columns:f})]}),children:t})})}}}]);
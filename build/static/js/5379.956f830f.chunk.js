(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5379],{4587:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var r=s(9950),a=s(20567),i=s(39452),n=s(94116),l=s(53439),o=s(44414);const c={position:"absolute",zIndex:"1"},d={position:"absolute",zIndex:"1",right:"0",top:"-2px"},u=e=>{let{title:t,series:s,width:u,height:h,xAxis:x,customOptions:p,card:m,type:v,extra:f,direction:y,bodyClass:g}=e,A=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return l.V3;case"bar":return l.ck;case"area":return l.cZ}})(v)));const j=window.innerWidth<768,_=(0,r.useRef)(null),b=(0,r.useRef)(),w=()=>{if(b.current){var e;const t=b.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight=`${j?0:null===(e=_.current)||void 0===e?void 0:e.offsetWidth}px`,"rtl"===y&&(t.style.right="auto",t.style.left="0"),j&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,r.useEffect)((()=>{w()}),[]),A.xaxis.categories=x,p&&(A={...A,...p});const C=()=>(0,o.jsx)(n.Ay,{onResize:void setTimeout((()=>{w()}),600),children:(0,o.jsx)("div",{style:"rtl"===y?{direction:"ltr"}:{},className:"chartRef",ref:b,children:(0,o.jsx)(i.A,{options:A,type:v,series:s,width:u,height:h})})});return(0,o.jsx)(o.Fragment,{children:m?(0,o.jsx)(a.A,{children:(0,o.jsxs)("div",{className:`position-relative ${g}`,children:[(0,o.jsx)("div",{style:j?{}:c,children:t})&&(0,o.jsx)("h4",{className:"font-weight-bold",style:j?{}:c,children:t}),f&&(0,o.jsx)("div",{ref:_,style:j?{}:d,children:f}),C()]})}):C()})};u.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const h=u},27109:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(89379),a=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"};var n=s(16233),l=function(e,t){return a.createElement(n.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:i}))};l.displayName="LineChartOutlined";const o=a.forwardRef(l)},28645:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var r=s(9950),a=s(30377),i=s(69216),n=s(80737),l=s(25933),o=s(57811),c=s(72906),d=s(70030),u=s(44414);const{Text:h}=a.A,x=e=>{let{columns:t=[],setColumns:s}=e;const{t:a}=(0,d.B)(),[x,p]=(0,r.useState)(!1),m=(0,u.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,r)=>(0,u.jsx)(i.A.Item,{children:(0,u.jsxs)(n.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(l.A,{defaultChecked:!0,onClick:()=>{!function(e){const r=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));s(r)}(e)}})]})},r)))});return(0,u.jsx)(o.A,{overlay:m,trigger:["click"],onVisibleChange:e=>{p(e)},visible:x,children:(0,u.jsx)(c.A,{style:{fontSize:"26px"}})})}},31397:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var r=s(30377),a=s(87094),i=s(41988),n=s(20567),l=s(80737),o=s(99674),c=s(40895),d=s(9950),u=s(27109),h=s(31598),x=s(4587),p=s(53439),m=s(70030),v=s(71795),f=s(44414);const{Title:y}=r.A,g=e=>{let{reportData:t={}}=e;const{by_time:s,options:r,handleByTime:g,chart_type:A,setChartType:j}=(0,d.useContext)(v.M),{t:_}=(0,m.B)(),b=(0,d.useMemo)((()=>{var e;return null===t||void 0===t||null===(e=t.chart)||void 0===e?void 0:e.map((e=>e.time))}),[null===t||void 0===t?void 0:t.chart]),w=(0,d.useMemo)((()=>{var e;return Boolean(t.charts)?t.charts.map((e=>{var t;return{name:e.translation.title,data:null===(t=e.stocks)||void 0===t?void 0:t.map((e=>e.total_order_quantity||e.avg_quantity||e.quantity||e.count||e.price||e.order_details_sum_quantity||0))}})):[{name:_("orders"),data:null===t||void 0===t||null===(e=t.chart)||void 0===e?void 0:e.map((e=>parseInt(e.count||e.total_price||e.quantity||e.price||e.products_count||e.order_details_avg_quantity||e.order_details_avg_total_price||e.order_details_sum_quantity||e.avg_price||e.avg_quantity||0,10)))}]}),[null===t||void 0===t?void 0:t.chart]);return(0,f.jsx)(a.A,{gutter:24,children:(0,f.jsx)(i.A,{span:24,children:(0,f.jsxs)(n.A,{children:[(0,f.jsx)(a.A,{gutter:24,className:"w-100",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,f.jsx)(l.A,{size:"large",className:"d-flex",children:(0,f.jsx)(y,{level:3,className:"mb-0",children:_("item.sold")})}),(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsx)(o.A,{style:{width:100},onChange:g,options:r,defaultValue:s}),(0,f.jsx)(c.A,{type:"vertical",style:{height:"100%"}}),(0,f.jsxs)(l.A,{children:[(0,f.jsx)(u.A,{style:{fontSize:"22px",cursor:"pointer",color:"area"===A?"green":""},onClick:()=>j("area")}),(0,f.jsx)(h.A,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===A?"green":""},onClick:()=>j("bar")})]})]})]})}),(0,f.jsx)(c.A,{}),(0,f.jsx)(x.A,{type:A,card:!1,series:w,xAxis:b,height:280,customOptions:{colors:[p.lm[1],p.lm[2],p.lm[3],p.lm[4],p.lm[5],p.lm[6],p.lm[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}}})]})})})}},40841:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(89379),a=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};var n=s(16233),l=function(e,t){return a.createElement(n.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:i}))};l.displayName="CloudDownloadOutlined";const o=a.forwardRef(l)},42634:()=>{},53439:(e,t,s)=>{"use strict";s.d(t,{V3:()=>a,cZ:()=>i,ck:()=>n,lm:()=>r});const r=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],a={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...r],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},i={...a},n={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...r],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>`${e}`}}}},53774:(e,t,s)=>{"use strict";function r(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}s.d(t,{A:()=>r})},72906:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(89379),a=s(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var n=s(16233),l=function(e,t){return a.createElement(n.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:i}))};l.displayName="MoreOutlined";const o=a.forwardRef(l)},86214:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(30377),a=s(37437),i=s(90650),n=s(87094),l=s(41988),o=s(80737),c=s(20567),d=s(48538),u=s(3754),h=s(9950),x=s(40841),p=s(71795),m=s(91854),v=s(74453),f=s(88986),y=s(21215),g=s.n(y),A=s(28429),j=s(74623),_=s(59051),b=s.n(_),w=s(19973),C=s(28645),k=s(53774),N=s(31397),z=s(44414);const{Title:q,Text:I}=r.A,{RangePicker:S}=a.A,M=()=>{const e=(0,A.zy)(),t=g().parse(e.search,[])["?category_id"],s=g().parse(e.search,[])["?product_id"],{date_from:r,date_to:a,by_time:y,chart:_,handleDateRange:M,handleChart:R}=(0,h.useContext)(p.M),O=(0,m.wA)(),[T,B]=(0,h.useState)(!1),{activeMenu:D}=(0,m.d4)((e=>e.menu),m.bN),{defaultCurrency:L}=(0,m.d4)((e=>e.currency),m.bN),{loading:V,revenueList:E,chartData:H}=(0,m.d4)((e=>e.revenueReport),m.bN),[$,F]=(0,h.useState)([{title:"Date",dataIndex:"time",key:"time",is_show:!0,sorter:(e,t)=>b()(e.time).unix()-b()(t.time).unix()},{title:"Orders",dataIndex:"count",key:"count",is_show:!0,sorter:(e,t)=>e.count-t.count},{title:"Items sold",dataIndex:"total_quantity",key:"total_quantity",is_show:!0,sorter:(e,t)=>e.total_quantity-t.total_quantity},{title:"Shipping",key:"delivery_fee",dataIndex:"delivery_fee",render:(e,t)=>(0,k.A)(t.delivery_fee,L.symbol),is_show:!0,sorter:(e,t)=>e.delivery_fee-t.delivery_fee},{title:"Tax",key:"tax",dataIndex:"tax",render:(e,t)=>(0,k.A)(t.tax,L.symbol),is_show:!0,sorter:(e,t)=>e.tax-t.tax},{title:"Total price",key:"price",dataIndex:"price",render:(e,t)=>(0,k.A)(t.price,L.symbol),is_show:!0,sorter:(e,t)=>e.price-t.price}]),P=()=>{const e={date_from:r,date_to:a,type:y,chart:_};t&&(e.categories=[t]),s&&(e.products=[s]),J.find((e=>e.value===_))&&O((0,v.zn)(e))},W=()=>{const e={date_from:r,date_to:a,type:y};t&&(e.categories=[t]),s&&(e.products=[s]),O((0,v.t5)(e))},J=(0,h.useMemo)((()=>[{label:"Items sold",value:"avg_quantity",qty:"quantity",price:!1},{label:"Net sales",value:"price",qty:"price",price:!0},{label:"Average order price",value:"avg_price",qty:"avg_price",price:!0},{label:"Orders",value:"count",qty:"count",price:!1}]),[]);return(0,h.useEffect)((()=>{J.every((e=>e.value!==_))&&R(J[0].value)}),[]),(0,h.useEffect)((()=>{D.refetch&&(W(),P(),O((0,j.km)(D)))}),[D.refetch]),(0,f.A)((()=>{W()}),[a,y,_,t,s,r]),(0,f.A)((()=>{P()}),[a,y,_,r]),(0,z.jsxs)(i.A,{size:"large",spinning:V,children:[(0,z.jsx)(n.A,{gutter:24,className:"mb-4",children:(0,z.jsx)(l.A,{span:12,children:(0,z.jsx)(o.A,{size:"large",children:(0,z.jsx)(S,{defaultValue:[b()(r),b()(a)],onChange:M})})})}),(0,z.jsx)(n.A,{gutter:24,className:"report-products",children:null===J||void 0===J?void 0:J.map(((e,t)=>(0,z.jsx)(l.A,{span:6,onClick:()=>R(e.value),children:(0,z.jsxs)(c.A,{className:_===e.value&&"active",children:[(0,z.jsx)(n.A,{className:"mb-5",children:(0,z.jsx)(l.A,{children:(0,z.jsx)(I,{children:e.label})})}),(0,z.jsx)(n.A,{gutter:24,children:(0,z.jsx)(l.A,{span:18,children:(0,z.jsx)(q,{level:2,style:{whiteSpace:"nowrap"},children:e.price?(0,k.A)(H[e.qty],L.symbol):H[e.qty]})})})]})},e.label)))}),(0,z.jsx)(N.A,{reportData:H,chart_data:"quantities_sum"}),(0,z.jsx)(n.A,{gutter:24,children:(0,z.jsx)(l.A,{span:24,children:(0,z.jsxs)(c.A,{children:[(0,z.jsx)(n.A,{gutter:24,className:"align-items-center mb-2",children:(0,z.jsxs)(o.A,{className:"w-100 mr-16 ml-16 justify-content-between",children:[(0,z.jsx)(q,{level:2,className:"mb-0",children:"Revenue"}),(0,z.jsxs)(o.A,{align:"end",children:[(0,z.jsx)(d.A,{onClick:()=>{B(!0),w.A.getRevenueReport({date_from:r,date_to:a,type:y,export:"excel"}).then((e=>{const t=e.data.link;t&&(window.location.href=t)})).finally((()=>B(!1)))},loading:T,icon:(0,z.jsx)(x.A,{}),children:"Download"}),(0,z.jsx)(C.A,{columns:$,setColumns:F})]})]})}),(0,z.jsx)(u.A,{columns:null===$||void 0===$?void 0:$.filter((e=>e.is_show)),loading:V,dataSource:null===E||void 0===E?void 0:E.paginate})]})})})]})}}}]);
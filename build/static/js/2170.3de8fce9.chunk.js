"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2170],{47992:(e,t,s)=>{s.d(t,{G:()=>u});var a=s(9950),n=s(95491),r=s.n(n),i=s(99674),d=s(90650),l=s(44414);const u=e=>{let{fetchOptions:t,debounceTimeout:s=400,...n}=e;const[u,c]=(0,a.useState)(!1),[o,h]=(0,a.useState)([]),m=(0,a.useMemo)((()=>r()((e=>{h([]),c(!0),t(e).then((e=>{h(e),c(!1)}))}),s)),[t,s]);return(0,l.jsx)(i.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:u?(0,l.jsx)(d.A,{size:"small"}):"no results",...n,options:o,onFocus:()=>{o.length||m("")}})}},72170:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(9950),n=s(55902),r=s(87827),i=s(20567),d=s(87094),l=s(41988),u=s(48538),c=s(41397),o=s(53271),h=s(82371);const m={getAll:e=>h.A.get("dashboard/admin/tickets/paginate",{params:e}),getById:(e,t)=>h.A.get(`dashboard/admin/tickets/${e}`,{params:t}),create:e=>h.A.post("dashboard/admin/tickets",e),update:(e,t)=>h.A.put(`dashboard/admin/tickets/${e}`,t),delete:e=>h.A.delete(`dashboard/admin/tickets/${e}`),setStatus:(e,t)=>h.A.post(`dashboard/admin/tickets/${e}/status`,t),getStatus:e=>h.A.get("dashboard/admin/tickets/statuses",{params:e})};var b=s(91854),A=s(28429),p=s(74623),j=s(49348),x=s(47992),g=s(44414);const{TextArea:f}=n.A;function k(){const[e]=r.A.useForm(),t=(0,A.Zp)(),s=(0,b.wA)(),[h,k]=(0,a.useState)(!1),{activeMenu:y}=(0,b.d4)((e=>e.menu),b.bN),{user:S}=(0,b.d4)((e=>e.auth),b.bN);return(0,g.jsx)(i.A,{title:"Ticket add",children:(0,g.jsxs)(r.A,{name:"basic",layout:"vertical",onFinish:e=>{k(!0);const a="tickets",n={...e,created_by:S.id,user_id:e.user_id.value};m.create(n).then((()=>{j.oR.success("Successfully created"),s((0,p.EK)({...y,nextUrl:a})),t(`/${a}`)})).finally((()=>k(!1)))},form:e,children:[(0,g.jsxs)(d.A,{gutter:12,children:[(0,g.jsx)(l.A,{span:12,children:(0,g.jsx)(r.A.Item,{name:"subject",label:"Subject",rules:[{required:!0,message:""}],children:(0,g.jsx)(n.A,{})})}),(0,g.jsx)(l.A,{span:12,children:(0,g.jsx)(r.A.Item,{name:"user_id",label:"User",rules:[{required:!0,message:""}],children:(0,g.jsx)(x.G,{fetchOptions:async function(e){const t={search:e,perPage:10};return o.A.search(t).then((e=>{let{data:t}=e;return function(e){if(!e)return;return(0,c.isArray)(e)?e.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id}))):{label:`${e.firstname} ${e.lastname}`,value:e.id}}(t)}))}})})}),(0,g.jsx)(l.A,{span:12,children:(0,g.jsx)(r.A.Item,{name:"content",label:"Content",rules:[{required:!0,message:""}],children:(0,g.jsx)(f,{rows:4})})})]}),(0,g.jsx)(u.A,{type:"primary",htmlType:"submit",loading:h,children:"Submit"})]})})}}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4912],{31594:(e,n,t)=>{t.d(n,{A:()=>d});t(9950);var a=t(25887),r=t(70030),l=t(36455),s=t(19181),i=t.n(s),o=t(63620),u=t(64924),c=t(44414);function d(e){let{form:n,lang:t,languages:s}=e;const{t:d}=(0,r.B)();return(0,c.jsx)("div",{className:"textEditor",children:(0,c.jsx)(a.A.Item,{label:d("body"),name:"body",valuePropName:"data",getValueFromEvent:(e,n)=>n.getData(),rules:[{required:!0,message:d("required")}],className:"description-editor",children:(0,c.jsx)(l.CKEditor,{editor:i(),config:{extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=e=>function(e){return{upload:()=>new Promise(((n,t)=>{const a=new FormData;e.file.then((e=>{a.append("image",e),a.append("type","blogs"),u.A.upload(a).then((e=>{let{data:t}=e;n({default:`${o.sE+t.title}`})})).catch((e=>{t(e)}))}))}))}}(e)}]},onChange:(e,n)=>{n.getData()},onBlur:(e,t)=>{const a=t.getData();n.setFieldsValue({body:a})}})})})}},47992:(e,n,t)=>{t.d(n,{G:()=>u});var a=t(9950),r=t(95491),l=t.n(r),s=t(99674),i=t(90650),o=t(44414);const u=e=>{let{fetchOptions:n,debounceTimeout:t=400,...r}=e;const[u,c]=(0,a.useState)(!1),[d,f]=(0,a.useState)([]),m=(0,a.useMemo)((()=>l()((e=>{f([]),c(!0),n(e).then((e=>{f(e),c(!1)}))}),t)),[n,t]);return(0,o.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:u?(0,o.jsx)(i.A,{size:"small"}):"no results",...r,options:d,onFocus:()=>{d.length||m("")}})}},52765:(e,n,t)=>{t.d(n,{A:()=>C});var a=t(64467),r=t(58168),l=t(48738),s=t.n(l),i=t(14691),o=t(9950),u=t(5741),c=t(77643),d=t(60436),f=t(5544),m=t(15207),p=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},v=o.createContext(null),h=function(e,n){var t=e.defaultValue,l=e.children,i=e.options,c=void 0===i?[]:i,h=e.prefixCls,b=e.className,g=e.style,x=e.onChange,A=p(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),y=o.useContext(u.QO),O=y.getPrefixCls,C=y.direction,w=o.useState(A.value||t||[]),E=(0,f.A)(w,2),N=E[0],k=E[1],_=o.useState([]),I=(0,f.A)(_,2),P=I[0],S=I[1];o.useEffect((function(){"value"in A&&k(A.value||[])}),[A.value]);var V=function(){return c.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},q=O("checkbox",h),F="".concat(q,"-group"),M=(0,m.A)(A,["value","disabled"]);c&&c.length>0&&(l=V().map((function(e){return o.createElement(j,{prefixCls:q,key:e.value.toString(),disabled:"disabled"in e?e.disabled:A.disabled,value:e.value,checked:N.includes(e.value),onChange:e.onChange,className:"".concat(F,"-item"),style:e.style},e.label)})));var D={toggleOption:function(e){var n=N.indexOf(e.value),t=(0,d.A)(N);-1===n?t.push(e.value):t.splice(n,1),"value"in A||k(t);var a=V();null===x||void 0===x||x(t.filter((function(e){return P.includes(e)})).sort((function(e,n){return a.findIndex((function(n){return n.value===e}))-a.findIndex((function(e){return e.value===n}))})))},value:N,disabled:A.disabled,name:A.name,registerValue:function(e){S((function(n){return[].concat((0,d.A)(n),[e])}))},cancelValue:function(e){S((function(n){return n.filter((function(n){return n!==e}))}))}},G=s()(F,(0,a.A)({},"".concat(F,"-rtl"),"rtl"===C),b);return o.createElement("div",(0,r.A)({className:G,style:g},M,{ref:n}),o.createElement(v.Provider,{value:D},l))},b=o.forwardRef(h);const g=o.memo(b);var x=t(19389),A=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},y=function(e,n){var t,l,d=e.prefixCls,f=e.className,m=e.children,p=e.indeterminate,h=void 0!==p&&p,b=e.style,g=e.onMouseEnter,y=e.onMouseLeave,j=e.skipGroup,O=void 0!==j&&j,C=e.disabled,w=A(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),E=o.useContext(u.QO),N=E.getPrefixCls,k=E.direction,_=o.useContext(v),I=(0,o.useContext)(c.$W).isFormItemInput,P=(0,o.useContext)(x.A),S=null!==(l=(null===_||void 0===_?void 0:_.disabled)||C)&&void 0!==l?l:P,V=o.useRef(w.value);o.useEffect((function(){null===_||void 0===_||_.registerValue(w.value)}),[]),o.useEffect((function(){if(!O)return w.value!==V.current&&(null===_||void 0===_||_.cancelValue(V.current),null===_||void 0===_||_.registerValue(w.value),V.current=w.value),function(){return null===_||void 0===_?void 0:_.cancelValue(w.value)}}),[w.value]);var q=N("checkbox",d),F=(0,r.A)({},w);_&&!O&&(F.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),_.toggleOption&&_.toggleOption({label:m,value:w.value})},F.name=_.name,F.checked=_.value.includes(w.value));var M=s()((t={},(0,a.A)(t,"".concat(q,"-wrapper"),!0),(0,a.A)(t,"".concat(q,"-rtl"),"rtl"===k),(0,a.A)(t,"".concat(q,"-wrapper-checked"),F.checked),(0,a.A)(t,"".concat(q,"-wrapper-disabled"),S),(0,a.A)(t,"".concat(q,"-wrapper-in-form-item"),I),t),f),D=s()((0,a.A)({},"".concat(q,"-indeterminate"),h)),G=h?"mixed":void 0;return o.createElement("label",{className:M,style:b,onMouseEnter:g,onMouseLeave:y},o.createElement(i.A,(0,r.A)({"aria-checked":G},F,{prefixCls:q,className:D,disabled:S,ref:n})),void 0!==m&&o.createElement("span",null,m))};const j=o.forwardRef(y);var O=j;O.Group=g,O.__ANT_CHECKBOX=!0;const C=O},54912:(e,n,t)=>{t.r(n),t.d(n,{default:()=>N});var a=t(9950),r=t(28429),l=t(49348),s=t(25887),i=t(20567),o=t(87094),u=t(41988),c=t(93124),d=t(99674),f=t(81541),m=t(52765),p=t(37437),v=t(48538),h=t(91854),b=t(74623),g=t(70030),x=t(31594),A=t(59051),y=t.n(A),j=t(24611),O=t(81499),C=t(7843),w=t(47992),E=t(44414);const N=()=>{var e;const{t:n}=(0,g.B)(),{activeMenu:t}=(0,h.d4)((e=>e.menu),h.bN),A=(0,h.wA)(),[N]=s.A.useForm(),k=(0,r.Zp)(),[_,I]=(0,a.useState)(null===(e=t.data)||void 0===e?void 0:e.has_date),[P,S]=(0,a.useState)(!1),{defaultLang:V,languages:q}=(0,h.d4)((e=>e.formLang),h.bN);(0,a.useEffect)((()=>()=>{const e=N.getFieldsValue(!0);A((0,b.Ok)({activeMenu:t,data:e}))}),[]);return(0,E.jsx)(i.A,{title:n("add.subscriber"),className:"h-100",children:(0,E.jsxs)(s.A,{name:"subscriber-add",layout:"vertical",onFinish:e=>{const a={...e,email_setting_id:e.email_setting_id.value,send_to:y()(e.send_to).format("YYYY-MM-DD HH:mm:ss")};S(!0);const r="message/subscriber";j.A.create(a).then((()=>{l.oR.success(n("successfully.created")),A((0,b.EK)({...t,nextUrl:r})),k(`/${r}`),A((0,O.e)())})).finally((()=>S(!1)))},form:N,initialValues:{type:"order",...t.data},className:"d-flex flex-column h-100",children:[(0,E.jsxs)(o.A,{gutter:12,children:[(0,E.jsx)(u.A,{span:12,children:(0,E.jsx)(s.A.Item,{label:n("subject"),name:"subject",rules:[{required:!0,message:n("required")}],children:(0,E.jsx)(c.A,{})})}),(0,E.jsx)(u.A,{span:12,children:(0,E.jsx)(s.A.Item,{label:n("type"),name:"type",rules:[{required:!0,message:n("required")}],children:(0,E.jsxs)(d.A,{children:[(0,E.jsx)(d.A.Option,{value:"order",children:(0,E.jsx)(f.A,{title:n("order.information"),children:n("order")})}),(0,E.jsx)(d.A.Option,{value:"subscribe",children:(0,E.jsx)(f.A,{title:n("subscribe.information"),children:n("subscribe")})}),(0,E.jsx)(d.A.Option,{value:"verify",children:(0,E.jsx)(f.A,{title:n("verify.information"),children:n("verify")})})]})})}),(0,E.jsx)(u.A,{span:12,children:(0,E.jsx)(s.A.Item,{label:n("email.provider"),name:"email_setting_id",rules:[{required:!0,message:n("required")}],children:(0,E.jsx)(w.G,{fetchOptions:()=>C.A.get().then((e=>{let{data:n}=e;return n.map((e=>({label:e.host,value:e.id})))})),className:"w-100",placeholder:n("email.provider")})})}),(0,E.jsx)(u.A,{span:24,children:(0,E.jsx)(x.A,{languages:q,form:N,lang:V})}),(0,E.jsx)(u.A,{span:12,children:(0,E.jsx)(s.A.Item,{label:n("alt.body"),name:"alt_body",rules:[{required:!0,message:n("required")}],children:(0,E.jsx)(c.A,{})})}),(0,E.jsx)(u.A,{span:12,children:(0,E.jsx)(s.A.Item,{name:"has_date",valuePropName:"checked",children:(0,E.jsx)(m.A,{checked:_,onChange:e=>I(e.target.checked),children:n("choose.discount.date")})})}),_&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(u.A,{span:6,children:(0,E.jsx)(s.A.Item,{label:n("send.to"),name:"send_to",rules:[{required:!0,message:n("required")}],children:(0,E.jsx)(p.A,{showTime:!0,className:"w-100",disabledDate:e=>y()().add(-1,"days")>=e})})})})]}),(0,E.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,E.jsx)("div",{className:"pb-5",children:(0,E.jsx)(v.A,{type:"primary",htmlType:"submit",loading:P,children:n("send")})})})]})})}}}]);
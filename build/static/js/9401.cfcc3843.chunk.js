"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9401],{78433:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(89379),i=a(9950),n=a(18042),r=a(16233),l=function(e,s){return i.createElement(r.A,(0,t.A)((0,t.A)({},e),{},{ref:s,icon:n.A}))};l.displayName="DeleteOutlined";const d=i.forwardRef(l)},78777:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(9950),i=a(45359),n=a(20567),r=a(71999),l=a(26405),d=a(70030),c=a(91854),u=a(22353),m=a(62425),o=a(25887),x=a(87094),A=a(41988),h=a(93124),j=a(40202),p=a(25933),q=a(48538),v=a(98591),g=a(74623),y=a(31281),b=a(67231),f=a(2777),w=a(44414);function _(e){var s,a,i;let{next:n,setUuid:r}=e;const{t:l}=(0,d.B)(),[u]=o.A.useForm(),m=(0,c.wA)(),{activeMenu:_}=(0,c.d4)((e=>e.menu),c.bN),[I,N]=(0,t.useState)(null),{defaultLang:k,languages:C}=(0,c.d4)((e=>e.formLang),c.bN),[S,F]=(0,t.useState)((null===(s=_.data)||void 0===s?void 0:s.images)||[]),[L,M]=(0,t.useState)(!1);(0,t.useEffect)((()=>()=>{const e=u.getFieldsValue(!0);m((0,g.Ok)({activeMenu:_,data:{..._.data,...e}}))}),[]);return(0,w.jsxs)(o.A,{layout:"vertical",form:u,initialValues:{active:!0,..._.data},onFinish:e=>{M(!0);const s={title:(0,y.A)(C,e,"title"),description:(0,y.A)(C,e,"description"),images:[...S.flatMap((e=>e.name))],active:e.active,keywords:e.keywords,max_qty:e.max_qty,min_qty:e.min_qty,price:e.price,qr_code:e.qr_code,quantity:e.quantity,tax:e.tax,gift:1};b.A.newCreate(s).then((e=>{n(),r(e.data.uuid)})).catch((e=>N(e.response.data.params))).finally((()=>M(!1)))},children:[(0,w.jsxs)(x.A,{gutter:12,children:[(0,w.jsx)(A.A,{span:12,children:C.map((e=>(0,w.jsx)(o.A.Item,{label:l("name"),name:`title[${e.locale}]`,rules:[{required:e.locale===k,message:l("required")}],hidden:e.locale!==k,children:(0,w.jsx)(h.A,{})},"name"+e.id)))}),(0,w.jsx)(A.A,{span:12,children:C.map((e=>(0,w.jsx)(o.A.Item,{label:l("description"),name:`description[${e.locale}]`,rules:[{required:e.locale===k,message:l("required")}],hidden:e.locale!==k,children:(0,w.jsx)(v.A,{rows:3})},"description"+e.id)))}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("qr_code"),name:"qr_code",rules:[{required:!0,message:l("required")}],help:(null===I||void 0===I||null===(a=I.qr_code)||void 0===a?void 0:a[0])||null,validateStatus:null!==I&&void 0!==I&&null!==(i=I.qr_code)&&void 0!==i&&i[0]?"error":"success",children:(0,w.jsx)(h.A,{})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("keywords"),name:"keywords",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(h.A,{})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("tax"),name:"tax",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(j.A,{min:0,className:"w-100",addonAfter:"%"})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("min.qty"),name:"min_qty",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(j.A,{min:1,className:"w-100"})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("max.qty"),name:"max_qty",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(j.A,{min:1,className:"w-100"})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("price"),name:"price",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(j.A,{min:0,className:"w-100"})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("quantity"),name:"quantity",rules:[{required:!0,message:l("required")}],children:(0,w.jsx)(j.A,{min:0,className:"w-100"})})}),(0,w.jsx)(A.A,{span:8,children:(0,w.jsx)(o.A.Item,{label:l("active"),name:"active",valuePropName:"checked",children:(0,w.jsx)(p.A,{})})}),(0,w.jsx)(A.A,{span:24,children:(0,w.jsx)(o.A.Item,{label:l("images"),name:"images",children:(0,w.jsx)(f.A,{type:"products",imageList:S,setImageList:F,form:u})})})]}),(0,w.jsx)(q.A,{type:"primary",htmlType:"submit",loading:L,disabled:L,children:l("next")})]})}const{Step:I}=i.A,N=()=>{var e;const{t:s}=(0,d.B)(),{activeMenu:a}=(0,c.d4)((e=>e.menu),c.bN),[o,x]=(0,t.useState)((null===(e=a.data)||void 0===e?void 0:e.step)||0),[A,h]=(0,t.useState)(null),j=()=>{x(o+1)},p=()=>{x(o-1)};return(0,w.jsxs)(n.A,{title:s("add.gift.card"),extra:(0,w.jsx)(r.A,{}),children:[(0,w.jsx)(i.A,{current:o,children:l.C.map((e=>(0,w.jsx)(I,{title:s(e.title)},e.title)))}),(0,w.jsxs)("div",{className:"steps-content",children:["First-content"===l.C[o].content&&(0,w.jsx)(_,{next:j,setUuid:h}),"Second-content"===l.C[o].content&&(0,w.jsx)(u.A,{next:j,prev:p,uuid:A}),"Third-content"===l.C[o].content&&(0,w.jsx)(m.A,{isGiftCard:!0,prev:p})]})]})}}}]);
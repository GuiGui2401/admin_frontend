"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8983],{8297:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(9950),s=a(93124),n=a(41397),r=a(52786),i=a(44414);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...d}=e;const[c,u]=(0,l.useState)(a),h=(0,l.useMemo)((()=>(0,n.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(a)}),[o]),(0,i.jsx)(s.A,{value:c,onChange:e=>{const{value:t}=e.target;u(t.replace(/\s/g,"")),h(t.replace(/\s/g,""))},prefix:(0,i.jsx)(r.A,{}),...d})}},28645:(e,t,a)=>{a.d(t,{A:()=>x});var l=a(9950),s=a(30377),n=a(69216),r=a(80737),i=a(25933),o=a(57811),d=a(72906),c=a(70030),u=a(44414);const{Text:h}=s.A,x=e=>{let{columns:t=[],setColumns:a}=e;const{t:s}=(0,c.B)(),[x,m]=(0,l.useState)(!1),p=(0,u.jsx)(n.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,u.jsx)(n.A.Item,{children:(0,u.jsxs)(r.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(i.A,{defaultChecked:!0,onClick:()=>{!function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(l)}(e)}})]})},l)))});return(0,u.jsx)(o.A,{overlay:p,trigger:["click"],onVisibleChange:e=>{m(e)},visible:x,children:(0,u.jsx)(d.A,{style:{fontSize:"26px"}})})}},38983:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var l=a(9950),s=a(25887),n=a(93124),r=a(20567),i=a(80737),o=a(99674),d=a(48538),c=a(3754),u=a(82371);const h={getAll:e=>u.A.get("dashboard/admin/translations/paginate",{params:e}),delete:e=>u.A.delete(`dashboard/admin/translations/${e}`),getById:(e,t)=>u.A.get(`dashboard/admin/translations/${e}`,{params:t}),create:e=>u.A.post("dashboard/admin/translations",{},{params:e}),update:(e,t)=>u.A.put(`dashboard/admin/translations/${e}`,{},{params:t})};var x=a(49348),m=a(90582),p=a(27741),A=a(87094),g=a(41988),f=a(70030),v=a(44414);function j(e){let{visible:t,setVisible:a,languages:r,refetch:i}=e;const{t:c}=(0,f.B)(),[u,m]=(0,l.useState)(!1),[j]=s.A.useForm(),b=()=>{a(!1)};return(0,v.jsx)(p.A,{visible:t,title:c("add.translation"),onOk:()=>{console.log("ok")},onCancel:b,footer:[(0,v.jsx)(d.A,{type:"primary",form:"translation-form",htmlType:"submit",loading:u,children:c("create")},"create-translation"),(0,v.jsx)(d.A,{type:"default",onClick:b,children:c("cancel")},"create-translation-cancel")],children:(0,v.jsx)(s.A,{id:"translation-form",name:"translation",layout:"vertical",onFinish:e=>{m(!0),h.create(e).then((()=>{x.oR.success(c("successfully.created")),a(!1),i()})).finally((()=>m(!1)))},form:j,initialValues:{group:"web"},children:(0,v.jsxs)(A.A,{gutter:12,children:[(0,v.jsx)(g.A,{span:24,children:(0,v.jsx)(s.A.Item,{label:c("name"),name:"key",rules:[{required:!0,message:""}],children:(0,v.jsx)(n.A,{})})}),(0,v.jsx)(g.A,{span:24,children:(0,v.jsx)(s.A.Item,{label:c("group"),name:"group",rules:[{required:!0,message:""}],children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(o.A.Option,{value:"web",children:c("web")}),(0,v.jsx)(o.A.Option,{value:"mobile",children:c("mobile")}),(0,v.jsx)(o.A.Option,{value:"errors",children:c("errors")})]})})}),r.map(((e,t)=>(0,v.jsx)(g.A,{span:24,children:(0,v.jsx)(s.A.Item,{label:`${c("translation")} (${e.locale})`,name:`value[${e.locale}]`,rules:[{required:!0,message:""}],children:(0,v.jsx)(n.A,{})})},t)))]})})})}var b=a(91854),y=a(8297),w=a(28645);const S=l.createContext(null),k=e=>{let{index:t,...a}=e;const[l]=s.A.useForm();return(0,v.jsx)(s.A,{form:l,component:!1,children:(0,v.jsx)(S.Provider,{value:l,children:(0,v.jsx)("tr",{...a})})})},C=e=>{let{title:t,editable:a,children:r,dataIndex:i,record:o,handleSave:d,...c}=e;const{t:u}=(0,f.B)(),[h,x]=(0,l.useState)(!1),p=(0,l.useRef)(null),A=(0,l.useContext)(S);(0,l.useEffect)((()=>{h&&p.current.focus()}),[h]);const g=()=>{x(!h),A.setFieldsValue({[i]:o[i]})},j=async()=>{try{const e=await A.validateFields();g(),d({...o,...e,dataIndex:i})}catch(e){console.log("Save failed:",e)}};let b=r;return a&&(b=h?(0,v.jsx)(s.A.Item,{style:{margin:0},name:i,rules:[{required:!0,message:u("required")}],children:(0,v.jsx)(n.A,{ref:p,onPressEnter:j,onBlur:j})}):(0,v.jsxs)("div",{className:"editable-cell-value-wrap cursor-pointer d-flex justify-content-between align-items-center",style:{paddingRight:24},onClick:g,children:[(0,v.jsx)("div",{className:"w-100",children:r}),(0,v.jsx)(m.A,{})]})),(0,v.jsx)("td",{...c,children:b})};function I(){const{t:e}=(0,f.B)(),[t,a]=(0,l.useState)([]),[s,n]=(0,l.useState)(10),[u,m]=(0,l.useState)(1),[p,A]=(0,l.useState)(0),[g,S]=(0,l.useState)(!1),[I,O]=(0,l.useState)(null),[E,$]=(0,l.useState)(null),[_,B]=(0,l.useState)(null),[N,z]=(0,l.useState)(!1),[F,R]=(0,l.useState)(0),{languages:V}=(0,b.d4)((e=>e.formLang),b.bN),[q,M]=(0,l.useState)(""),[L,P]=(0,l.useState)(""),[T,U]=(0,l.useState)([{title:e("name"),is_show:!0,dataIndex:"key",sorter:(e,t,a)=>W(a,"key"),width:250,fixed:"left"},{title:e("group"),is_show:!0,dataIndex:"group",sorter:(e,t,a)=>W(a,"group"),width:150,fixed:"left"},...V.filter((e=>!q||e.locale===q)).map((e=>({title:e.title,is_show:!0,dataIndex:`value[${e.locale}]`,editable:!0,width:300})))]);function W(e,t){let a;switch(e){case"ascend":a="asc";break;case"descend":a="desc"}$(a),B(t)}function D(){S(!0);const e={perPage:s,skip:F,group:I,sort:E,column:_,search:L,lang:q,locale:q};h.getAll(e).then((e=>{let{data:t}=e;const l=Object.entries(t.translations).map((e=>({key:e[0],group:e[1][0].group,...Object.assign({},...V.map((t=>{var a;return{[`value[${t.locale}]`]:null===(a=e[1].find((e=>e.locale===t.locale)))||void 0===a?void 0:a.value}})))})));a(l),A(t.total)})).finally((()=>S(!1)))}console.log("DEFAULTCOLUMN",T),(0,l.useEffect)((()=>{D()}),[s,I,E,_,F,L,q]);const K=e=>{const{dataIndex:l,key:s}=e,n=[...t],r=n.findIndex((t=>e.key===t.key)),i=n[r];if(i[l]===e[l])return;n.splice(r,1,{...i,...e}),a(n);const o={...e,value:void 0,dataIndex:void 0,key:void 0};var d,c;d=s,c=o,h.update(d,c).then((e=>x.oR.success(e.message)))};const G={body:{row:k,cell:C}},H=T.map((e=>e.editable?{...e,onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,fixed:e.fixed,handleSave:K})}:e));return(0,v.jsxs)(r.A,{title:e("translations"),extra:(0,v.jsxs)(i.A,{children:[(0,v.jsx)(y.A,{placeholder:e("search"),handleChange:e=>P(e)}),(0,v.jsxs)(o.A,{style:{minWidth:150},value:q,onChange:e=>M(e),placeholder:e("select.language"),children:[(0,v.jsx)(o.A.Option,{value:"",children:e("all")}),V.map((e=>(0,v.jsx)(o.A.Option,{value:e.locale,children:e.title},e.locale)))]}),(0,v.jsxs)(o.A,{style:{minWidth:150},value:I,onChange:e=>O(e),placeholder:e("select.group"),children:[(0,v.jsx)(o.A.Option,{value:"",children:e("all")}),(0,v.jsx)(o.A.Option,{value:"web",children:e("web")}),(0,v.jsx)(o.A.Option,{value:"mobile",children:e("mobile")}),(0,v.jsx)(o.A.Option,{value:"errors",children:e("errors")})]}),(0,v.jsx)(d.A,{type:"primary",onClick:()=>z(!0),children:e("add.translation")}),(0,v.jsx)(w.A,{setColumns:U,columns:T})]}),children:[(0,v.jsx)(c.A,{components:G,columns:null===H||void 0===H?void 0:H.filter((e=>e.is_show)),dataSource:t,pagination:{pageSize:s,page:u,total:p},rowKey:e=>e.id,onChange:e=>{const{pageSize:t,current:a}=e,l=(a-1)*t;n(t),m(a),R(l)},loading:g,scroll:{x:1500}}),N&&(0,v.jsx)(j,{visible:N,setVisible:z,languages:V,refetch:D})]})}},72906:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),s=a(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var r=a(16233),i=function(e,t){return s.createElement(r.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:n}))};i.displayName="MoreOutlined";const o=s.forwardRef(i)},90582:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),s=a(9950),n=a(42701),r=a(16233),i=function(e,t){return s.createElement(r.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:n.A}))};i.displayName="EditOutlined";const o=s.forwardRef(i)}}]);
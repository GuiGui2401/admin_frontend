"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7053],{8168:(e,a,n)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(a,{A:()=>l})},28645:(e,a,n)=>{n.d(a,{A:()=>m});var l=n(9950),t=n(30377),s=n(69216),i=n(80737),o=n(25933),d=n(57811),r=n(72906),c=n(70030),u=n(44414);const{Text:h}=t.A,m=e=>{let{columns:a=[],setColumns:n}=e;const{t:t}=(0,c.B)(),[m,p]=(0,l.useState)(!1),A=(0,u.jsx)(s.A,{children:null===a||void 0===a?void 0:a.map(((e,l)=>(0,u.jsx)(s.A.Item,{children:(0,u.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(o.A,{defaultChecked:!0,onClick:()=>{!function(e){const l=null===a||void 0===a?void 0:a.map((a=>(a.dataIndex===e.dataIndex&&(a.is_show=!(null!==a&&void 0!==a&&a.is_show)),a)));n(l)}(e)}})]})},l)))});return(0,u.jsx)(d.A,{overlay:A,trigger:["click"],onVisibleChange:e=>{p(e)},visible:m,children:(0,u.jsx)(r.A,{style:{fontSize:"26px"}})})}},37053:(e,a,n)=>{n.r(a),n.d(a,{default:()=>M});var l=n(9950),t=n(54021),s=n(92555),i=n(80737),o=n(48538),d=n(20567),r=n(3754),c=n(91854),u=n(39539),h=n(8168),m=n(74623),p=n(88986),A=n(27741),x=n(87094),v=n(41988),f=n(91524),j=n(34517),g=n(66209),b=n(70030),I=n(81446),w=n(53774),y=n(7974),C=n(44414);function _(e){var a,n,t;let{uuid:s,handleCancel:i}=e;const[d,r]=(0,l.useState)({}),[u,h]=(0,l.useState)(!1),{t:m}=(0,b.B)(),{defaultCurrency:p}=(0,c.d4)((e=>e.currency),c.bN);return(0,l.useEffect)((()=>{!function(e){h(!0),g.A.getById(e).then((e=>r(e.data))).finally((()=>h(!1)))}(s)}),[s]),(0,C.jsx)(A.A,{visible:!!s,title:m("user"),onCancel:i,footer:[(0,C.jsx)(o.A,{type:"default",onClick:i,children:m("cancel")})],className:d.shop?"large-modal":"",children:u?(0,C.jsx)(I.A,{}):(0,C.jsxs)(x.A,{gutter:24,children:[(0,C.jsx)(v.A,{span:d.shop?12:24,children:(0,C.jsxs)(f.A,{bordered:!0,children:[(0,C.jsx)(f.A.Item,{span:3,label:m("avatar"),children:(0,C.jsx)(j.A,{src:(0,y.A)(d.img),alt:d.firstname,width:80,className:"rounded"})}),(0,C.jsx)(f.A.Item,{span:3,label:m("user.id"),children:d.id}),(0,C.jsxs)(f.A.Item,{span:3,label:m("name"),children:[d.firstname," ",d.lastname]}),(0,C.jsx)(f.A.Item,{span:3,label:m("gender"),children:d.gender}),(0,C.jsx)(f.A.Item,{span:3,label:m("birthday"),children:d.birthday}),(0,C.jsx)(f.A.Item,{span:3,label:m("email"),children:d.email}),(0,C.jsx)(f.A.Item,{span:3,label:m("phone"),children:d.phone}),(0,C.jsx)(f.A.Item,{span:3,label:m("role"),children:d.role}),(0,C.jsx)(f.A.Item,{span:3,label:m("wallet"),children:(0,w.A)(null===(a=d.wallet)||void 0===a?void 0:a.price,p.symbol)})]})}),d.shop?(0,C.jsx)(v.A,{span:12,children:(0,C.jsxs)(f.A,{bordered:!0,children:[(0,C.jsx)(f.A.Item,{span:3,label:m("shop.id"),children:d.shop.id}),(0,C.jsx)(f.A.Item,{span:3,label:m("shop.name"),children:null===(n=d.shop.translation)||void 0===n?void 0:n.title}),(0,C.jsx)(f.A.Item,{span:3,label:m("shop.logo"),children:(0,C.jsx)("img",{src:(0,y.A)(d.shop.logo_img),alt:null===(t=d.shop.translation)||void 0===t?void 0:t.title,width:100,className:"rounded"})}),(0,C.jsx)(f.A.Item,{span:3,label:m("shop.phone"),children:d.shop.phone}),(0,C.jsxs)(f.A.Item,{span:3,label:m("shop.open_close.time"),children:[d.shop.open_time," - ",d.shop.close_time]}),(0,C.jsx)(f.A.Item,{span:3,label:m("delivery.range"),children:d.shop.delivery_range})]})}):""]})})}var k=n(28645);const{TabPane:N}=s.A,S=["moderator","deliveryman"];function M(){var e;const{t:a}=(0,b.B)(),n=(0,c.wA)(),{activeMenu:A}=(0,c.d4)((e=>e.menu),c.bN),{users:x,loading:v,meta:f,params:j}=(0,c.d4)((e=>e.user),c.bN),[g,I]=(0,l.useState)(null),[w,y]=(0,l.useState)([{title:a("id"),is_show:!0,dataIndex:"id",sorter:!0},{title:a("firstname"),is_show:!0,dataIndex:"firstname"},{title:a("lastname"),is_show:!0,dataIndex:"lastname"},{title:a("email"),is_show:!0,dataIndex:"email"},{title:a("role"),is_show:!0,dataIndex:"role"},{title:a("options"),is_show:!0,dataIndex:"options",render:(e,a)=>(0,C.jsx)(i.A,{children:(0,C.jsx)(o.A,{icon:(0,C.jsx)(t.A,{}),onClick:()=>I(a.uuid)})})}]);(0,l.useEffect)((()=>{if(A.refetch){const e=A.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator"};n((0,u.MT)(a)),n((0,m.km)(A))}}),[A.refetch]),(0,p.A)((()=>{const e=A.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,u.MT)(a))}),[A.data]);return(0,C.jsxs)(d.A,{title:a("shop.users"),extra:(0,C.jsx)(k.A,{setColumns:y,columns:w}),children:[(0,C.jsx)(s.A,{activeKey:(null===(e=A.data)||void 0===e?void 0:e.role)||"moderator",onChange:e=>{n((0,m.Ok)({activeMenu:A,data:{...A.data,role:e}}))},type:"card",children:S.map((e=>(0,C.jsx)(N,{tab:a(e)},e)))}),(0,C.jsx)(r.A,{columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:x,loading:v,pagination:{pageSize:j.perPage,page:j.page,total:f.total,defaultCurrent:j.page},rowKey:e=>e.id,onChange:function(e,a,l){const{pageSize:t,current:s}=e,{field:i,order:o}=l,d=(0,h.A)(o);n((0,m.Ok)({activeMenu:A,data:{...A.data,perPage:t,page:s,column:i,sort:d}}))}}),g&&(0,C.jsx)(_,{uuid:g,handleCancel:()=>I(null)})]})}},53774:(e,a,n)=>{function l(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(a,{A:()=>l})},54021:(e,a,n)=>{n.d(a,{A:()=>d});var l=n(89379),t=n(9950),s=n(2104),i=n(16233),o=function(e,a){return t.createElement(i.A,(0,l.A)((0,l.A)({},e),{},{ref:a,icon:s.A}))};o.displayName="EyeOutlined";const d=t.forwardRef(o)},72906:(e,a,n)=>{n.d(a,{A:()=>d});var l=n(89379),t=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var i=n(16233),o=function(e,a){return t.createElement(i.A,(0,l.A)((0,l.A)({},e),{},{ref:a,icon:s}))};o.displayName="MoreOutlined";const d=t.forwardRef(o)}}]);
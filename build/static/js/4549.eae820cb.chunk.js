"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4549],{8168:(e,t,a)=>{function d(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>d})},8297:(e,t,a)=>{a.d(t,{A:()=>o});var d=a(9950),i=a(93124),s=a(41397),n=a(52786),r=a(44414);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...c}=e;const[l,u]=(0,d.useState)(a),f=(0,d.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,d.useEffect)((()=>{u(a)}),[o]),(0,r.jsx)(i.A,{value:l,onChange:e=>{const{value:t}=e.target;u(t.replace(/\s/g,"")),f(t.replace(/\s/g,""))},prefix:(0,r.jsx)(n.A,{}),...c})}},35116:(e,t,a)=>{a.d(t,{A:()=>c});a(9950);var d=a(48538),i=a(78433),s=a(49348),n=a(70030),r=a(13311),o=a(44414);function c(e){let{onClick:t,type:a="default",...c}=e;const{t:l}=(0,n.B)(),{isDemo:u}=(0,r.A)();return(0,o.jsx)(d.A,{icon:(0,o.jsx)(i.A,{}),onClick:()=>{console.log(u),u?s.oR.warning(l("cannot.work.demo")):t()},type:a,...c})}},78433:(e,t,a)=>{a.d(t,{A:()=>o});var d=a(89379),i=a(9950),s=a(18042),n=a(16233),r=function(e,t){return i.createElement(n.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:s.A}))};r.displayName="DeleteOutlined";const o=i.forwardRef(r)},84549:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var d=a(34517),i=a(80737),s=a(48538),n=a(20567),r=a(87094),o=a(41988),c=a(3754),l=a(70030),u=a(8297),f=a(9950),g=a(74623),h=a(91854),p=a(10312),A=a(63620),v=a(90582),x=a(78433),m=a(35116),j=a(55386),w=a(88986),b=a(8168),y=a(76083),C=a(47933),k=a(49348),S=a(28429),E=a(44414);const _=function(){var e,t;const{t:a}=(0,l.B)(),_=(0,h.wA)(),{activeMenu:R}=(0,h.d4)((e=>e.menu),h.bN),{giftCards:N,meta:I,loading:M,params:O}=(0,h.d4)((e=>e.giftCard),h.bN),{setIsModalVisible:P}=(0,f.useContext)(j.o),z=(0,S.Zp)(),[B,D]=(0,f.useState)(!1),[K,V]=(0,f.useState)(!1),[X,$]=(0,f.useState)([]),[Z,q]=(0,f.useState)(!1),[F,G]=(0,f.useState)([{title:a("id"),is_show:!0,dataIndex:"id",sorter:(e,t)=>e.id-t.id},{title:a("image"),dataIndex:"img",is_show:!0,render:e=>(0,E.jsx)(d.A,{width:100,src:A.sE+e,placeholder:!0,style:{borderRadius:4}})},{title:a("name"),dataIndex:"name",is_show:!0},{title:a("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,E.jsxs)(i.A,{children:[(0,E.jsx)(s.A,{type:"primary",icon:(0,E.jsx)(v.A,{}),onClick:()=>H(t.uuid,!!t.gift)}),(0,E.jsx)(m.A,{icon:(0,E.jsx)(x.A,{}),onClick:()=>{P(!0),D(t.uuid),V(!0)}})]})}]),H=e=>{_((0,g.X4)({id:"gift-card-edit",url:`gift-card/${e}`,name:a("edit.gift.card")})),z(`/gift-card/${e}`)},J={selectedRowKeys:X,onChange:e=>{$(e)}};return(0,f.useEffect)((()=>{const e=R.data,t={search:null===e||void 0===e?void 0:e.search};R.refetch&&(_((0,p.Eb)(t)),_((0,g.km)(R)))}),[R.refetch]),(0,w.A)((()=>{var e;const t=R.data,a={search:null===t||void 0===t?void 0:t.search,shop_id:null===t||void 0===t||null===(e=t.shop)||void 0===e?void 0:e.value,sort:null===t||void 0===t?void 0:t.sort,column:null===t||void 0===t?void 0:t.column,perPage:null===t||void 0===t?void 0:t.perPage,page:null===t||void 0===t?void 0:t.page};_((0,p.Eb)(a))}),[R.data]),(0,E.jsxs)(n.A,{title:a("gift.cards"),children:[(0,E.jsxs)(r.A,{gutter:24,className:"mb-2",children:[(0,E.jsx)(o.A,{span:12,children:(0,E.jsx)(i.A,{children:(0,E.jsx)(u.A,{placeholder:a("search"),handleChange:e=>{return t=e,a="search",void _((0,g.Ok)({activeMenu:R,data:{...R.data,[a]:t}}));var t,a}})})}),(0,E.jsx)(o.A,{span:12,className:"d-flex justify-content-end",children:(0,E.jsx)(i.A,{children:(0,E.jsx)(s.A,{type:"primary",onClick:()=>{_((0,g.X4)({id:"gift-card-add",url:"gift-card/add",name:a("add.gift.card")})),z("/gift-card/add")},children:a("add.gift.card")})})})]}),(0,E.jsx)(c.A,{rowSelection:J,loading:M,columns:null===F||void 0===F?void 0:F.filter((e=>e.is_show)),dataSource:N,pagination:{pageSize:O.perPage,page:(null===(e=R.data)||void 0===e?void 0:e.page)||1,total:I.total,defaultCurrent:null===(t=R.data)||void 0===t?void 0:t.page},onChange:(e,t)=>{const{pageSize:a,current:d}=e,{field:i,order:s}=t,n=(0,b.A)(s);_((0,g.Ok)({activeMenu:R,data:{...R.data,perPage:a,page:d,column:i,sort:n}}))},rowKey:e=>e.id}),(0,E.jsx)(y.A,{click:K?()=>{q(!0),C.A.delete(B).then((()=>{P(!1),k.oR.success(a("successfully.deleted")),_((0,p.Eb)(O))})).finally((()=>q(!1)))}:()=>{q(!0),C.A.setActive(B).then((()=>{P(!1),_((0,p.Eb)(O)),k.oR.success(a("successfully.updated"))})).finally((()=>q(!1)))},text:a(K?"delete.product":"set.active.product"),loading:Z})]})}},90582:(e,t,a)=>{a.d(t,{A:()=>o});var d=a(89379),i=a(9950),s=a(42701),n=a(16233),r=function(e,t){return i.createElement(n.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:s.A}))};r.displayName="EditOutlined";const o=i.forwardRef(r)}}]);
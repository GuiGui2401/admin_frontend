"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6533],{76533:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var o=t(9950),n=t(20567),l=t(48538),d=t(91854),s=t(70030),i=t(72540),u=t(9313),c=t(88349),p=t(82371);const r={upload:e=>p.A.post("dashboard/admin/project-upload",e),update:e=>p.A.post("dashboard/admin/project-update",e)};var h=t(74623),f=t(49348),m=t(44414);function g(){const[e,a]=(0,o.useState)(!1),t=(0,d.wA)(),{t:p}=(0,s.B)(),{activeMenu:g}=(0,d.d4)((e=>e.menu),d.bN);const b=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,m.jsx)(n.A,{title:p("update"),extra:(0,m.jsx)(l.A,{type:"primary",icon:(0,m.jsx)(u.A,{}),loading:e,onClick:()=>{a(!0),r.update().then((()=>f.oR.success(p("successfully.updated")))).finally((()=>a(!1)))},children:p("update.database")}),children:(0,m.jsxs)(i.A,{name:"file",multiple:!1,maxCount:1,onChange:function(){console.log("upload")},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)},customRequest:e=>{let{file:a,onSuccess:o}=e;const n=new FormData;n.append("file",a),r.upload(n).then((e=>{let{data:a}=e;t((0,h.Ok)({activeMenu:g,data:b(a)})),o("ok")}))},defaultFileList:null!==g&&void 0!==g&&g.data?[null===g||void 0===g?void 0:g.data]:null,beforeUpload:e=>{const a="image/png"===e.type,t="image/jpg"===e.type,o="image/jpeg"===e.type;if(a||o||t)return f.oR.error(`${e.name} is not valid file`),!1},children:[(0,m.jsx)("p",{className:"ant-upload-drag-icon",children:(0,m.jsx)(c.A,{})}),(0,m.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,m.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}}}]);
(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9978],{4587:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var i=r(9950),s=r(20567),n=r(39452),l=r(94116),a=r(53439),o=r(44414);const d={position:"absolute",zIndex:"1"},c={position:"absolute",zIndex:"1",right:"0",top:"-2px"},p=e=>{let{title:t,series:r,width:p,height:h,xAxis:u,customOptions:x,card:g,type:v,extra:f,direction:A,bodyClass:y}=e,m=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return a.V3;case"bar":return a.ck;case"area":return a.cZ}})(v)));const j=window.innerWidth<768,b=(0,i.useRef)(null),_=(0,i.useRef)(),w=()=>{if(_.current){var e;const t=_.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight=`${j?0:null===(e=b.current)||void 0===e?void 0:e.offsetWidth}px`,"rtl"===A&&(t.style.right="auto",t.style.left="0"),j&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,i.useEffect)((()=>{w()}),[]),m.xaxis.categories=u,x&&(m={...m,...x});const z=()=>(0,o.jsx)(l.Ay,{onResize:void setTimeout((()=>{w()}),600),children:(0,o.jsx)("div",{style:"rtl"===A?{direction:"ltr"}:{},className:"chartRef",ref:_,children:(0,o.jsx)(n.A,{options:m,type:v,series:r,width:p,height:h})})});return(0,o.jsx)(o.Fragment,{children:g?(0,o.jsx)(s.A,{children:(0,o.jsxs)("div",{className:`position-relative ${y}`,children:[(0,o.jsx)("div",{style:j?{}:d,children:t})&&(0,o.jsx)("h4",{className:"font-weight-bold",style:j?{}:d,children:t}),f&&(0,o.jsx)("div",{ref:b,style:j?{}:c,children:f}),z()]})}):z()})};p.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const h=p},27109:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var i=r(89379),s=r(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"};var l=r(25085),a=function(e,t){return s.createElement(l.A,(0,i.A)((0,i.A)({},e),{},{ref:t,icon:n}))};const o=s.forwardRef(a)},42634:()=>{},53439:(e,t,r)=>{"use strict";r.d(t,{V3:()=>s,cZ:()=>n,ck:()=>l,lm:()=>i});const i=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],s={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...i],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},n={...s},l={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...i],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>`${e}`}}}},53774:(e,t,r)=>{"use strict";function i(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}r.d(t,{A:()=>i})},98673:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var i=r(66362),s=r(33022),n=r(90650),l=r(87094),a=r(41988),o=r(80737),d=r(40895),c=r(20567),p=r(99674),h=r(73092),u=r(9950),x=r(4587),g=r(27109),v=r(31598),f=r(91854),A=r(28429),y=r(42074),m=r(21215),j=r.n(m),b=r(71795),_=r(50122),w=r(74623),z=r(88986),C=r(59051),S=r.n(C),k=r(53774),N=r(70030),q=r(44414);const{Text:I,Title:O}=i.A,{RangePicker:R}=s.A,T=()=>{var e,t,r,i;const{t:s}=(0,N.B)(),m=(0,A.zy)(),C=j().parse(m.search,[])["?category_id"],T=j().parse(m.search,[])["?product_id"],{date_from:P,date_to:L,by_time:M,chart:V,handleDateRange:$,options:F,handleByTime:B,chart_type:D,setChartType:E}=(0,u.useContext)(b.M),{loading:H,carts:W,products:J,categories:Y}=(0,f.d4)((e=>e.overviewReport),f.bN),{defaultCurrency:Z}=(0,f.d4)((e=>e.currency),f.bN),{activeMenu:G}=(0,f.d4)((e=>e.menu),f.bN),K=(0,f.wA)(),Q=[{title:s("title"),dataIndex:"title",key:"title"},{title:s("item.sold"),dataIndex:"count",key:"count"},{title:s("net.sales"),dataIndex:"total_price",key:"total_price",render:(e,t)=>(0,q.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,k.A)(e,Z.symbol)})}],U=[{title:"Total sales",qty:"delivered_sum",percent:"5",price:!0},{title:"Orders",qty:"count",percent:"5",price:!1},{title:"Canceled orders price",qty:"canceled_sum",percent:"5",price:!0},{title:"Total tax",qty:"tax",percent:"5",price:!0},{title:"Delivered avg",qty:"delivered_avg",percent:"5",price:!0},{title:"Delivery fee",qty:"delivery_fee",percent:"5",price:!0}],X=(e,t)=>{const r={date_from:P,date_to:L,type:M,page:e,perPage:t};K((0,_.u1)(r))},ee=(e,t)=>{const r={date_from:P,date_to:L,type:M,page:e,perPage:t};K((0,_.Aw)(r))},te=(e,t)=>{const r={date_from:P,date_to:L,type:M,page:e,perPage:t};C&&(r.categories=[C]),T&&(r.products=[T]),K((0,_.mc)(r))};return(0,u.useEffect)((()=>{G.refetch&&(te(),X(),ee(),K((0,w.km)(G)))}),[G.refetch]),(0,z.A)((()=>{te()}),[L,M,V,C,T,P]),(0,z.A)((()=>{X()}),[L,M,P]),(0,z.A)((()=>{ee()}),[L,M,P]),(0,q.jsxs)(n.A,{size:"large",spinning:H,children:[(0,q.jsx)(l.A,{gutter:24,className:"mb-4",children:(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(o.A,{size:"large",children:(0,q.jsx)(R,{defaultValue:[S()(P),S()(L)],onChange:$})})})}),(0,q.jsx)(d.A,{orientation:"left",children:"Performance"}),(0,q.jsx)(l.A,{gutter:24,children:null===U||void 0===U?void 0:U.map((e=>(0,q.jsx)(a.A,{span:8,children:(0,q.jsx)(y.N_,{to:"/report/revenue",children:(0,q.jsxs)(c.A,{children:[(0,q.jsx)(l.A,{className:"mb-5",children:(0,q.jsx)(a.A,{children:(0,q.jsx)(I,{children:e.title})})}),(0,q.jsx)(l.A,{gutter:24,children:(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(O,{level:2,style:{whiteSpace:"nowrap"},children:e.price?(0,k.A)(W[e.qty],Z.symbol):W[e.qty]})})})]})},e.title)},e.id)))}),(0,q.jsxs)(l.A,{gutter:24,className:"mb-2",children:[(0,q.jsx)(a.A,{span:20,children:(0,q.jsx)(d.A,{orientation:"left",children:"Charts"})}),(0,q.jsx)(a.A,{span:4,children:(0,q.jsxs)("div",{className:"d-flex",children:[(0,q.jsx)(p.A,{style:{width:100},onChange:B,options:F,defaultValue:M}),(0,q.jsx)(d.A,{type:"vertical",style:{height:"100%"}}),(0,q.jsxs)(o.A,{children:[(0,q.jsx)(g.A,{style:{fontSize:"22px",cursor:"pointer",color:"line"===D?"green":""},onClick:()=>E("line")}),(0,q.jsx)(v.A,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===D?"green":""},onClick:()=>E("bar")})]})]})})]}),(0,q.jsxs)(l.A,{gutter:24,children:[(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(c.A,{title:"Net Sales",children:(0,q.jsx)(x.A,{type:D,series:[{name:"Orders",data:null===W||void 0===W||null===(e=W.chart_price)||void 0===e?void 0:e.map((e=>e.delivered_sum))}],xAxis:null===W||void 0===W||null===(t=W.chart_price)||void 0===t?void 0:t.map((e=>e.time))})})}),(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(c.A,{title:"Orders",children:(0,q.jsx)(x.A,{type:D,series:[{name:"Orders",data:null===W||void 0===W||null===(r=W.chart_count)||void 0===r?void 0:r.map((e=>e.count))}],xAxis:null===W||void 0===W||null===(i=W.chart_price)||void 0===i?void 0:i.map((e=>e.time))})})})]}),(0,q.jsx)(d.A,{orientation:"left",children:"Leaderboards"}),(0,q.jsxs)(l.A,{gutter:24,children:[(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(c.A,{title:"Top categories",children:(0,q.jsx)(h.A,{scroll:{x:1024},onChange:e=>{const{pageSize:t,current:r}=e;X(r,t)},pagination:{pageSize:null===Y||void 0===Y?void 0:Y.per_page,page:(null===Y||void 0===Y?void 0:Y.current_page)||1,total:null===Y||void 0===Y?void 0:Y.total,defaultCurrent:1},columns:Q,dataSource:null===Y||void 0===Y?void 0:Y.data})})}),(0,q.jsx)(a.A,{span:12,children:(0,q.jsx)(c.A,{title:"Top products",children:(0,q.jsx)(h.A,{scroll:{x:1024},onChange:e=>{const{pageSize:t,current:r}=e;X(r,t)},pagination:{pageSize:null===J||void 0===J?void 0:J.per_page,page:(null===J||void 0===J?void 0:J.current_page)||1,total:null===J||void 0===J?void 0:J.total,defaultCurrent:1},columns:Q,dataSource:null===J||void 0===J?void 0:J.data})})})]})]})}}}]);
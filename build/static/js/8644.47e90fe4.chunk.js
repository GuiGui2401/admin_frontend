"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8644],{8168:(e,t,a)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>l})},8297:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(9950),n=a(55902),d=a(41397),r=a(60767),s=a(44414);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...i}=e;const[c,u]=(0,l.useState)(a),p=(0,l.useMemo)((()=>(0,d.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(a)}),[o]),(0,s.jsx)(n.A,{value:c,onChange:e=>{const{value:t}=e.target;u(t.replace(/\s/g,"")),p(t.replace(/\s/g,""))},prefix:(0,s.jsx)(r.A,{}),...i})}},13435:()=>{},23222:(e,t,a)=>{a.d(t,{A:()=>v});var l=a(9950),n=a(87827),d=a(27741),r=a(48538),s=a(70030),o=a(47992),i=a(28429),c=a(67231),u=a(74623),p=a(91854),h=a(49348),g=a(44414);function v(e){let{isModalOpen:t,handleCancel:a,isGiftCard:v}=e;const{t:A}=(0,s.B)(),[m]=n.A.useForm(),f=(0,i.Zp)(),x=(0,p.wA)(),[y,j]=(0,l.useState)(!1),b=e=>{v?(x((0,u.X4)({url:`/seller/gift-card/add/${e}`,id:"seller-gift-card-add",name:A("seller.gift.card.add")})),f(`/seller/gift-card/add/${e}`)):(x((0,u.X4)({url:`/seller/product/add/${e}`,id:"seller-product-add",name:A("seller.product.add")})),f(`/seller/product/add/${e}`))};return(0,g.jsx)(d.A,{visible:t,title:A(v?"add.gift.card":"add.product"),onCancel:a,footer:[v?(0,g.jsx)(r.A,{type:"primary",onClick:()=>(()=>{const e="/seller/gift-card/add";x((0,u.X4)({url:e,id:"seller-new-gift-card-add",name:A("add.new.gift.card")})),f(e)})(),children:A("add.new.gift.card")},"newSaveBtn"):(0,g.jsx)(r.A,{type:"primary",onClick:()=>(()=>{const e="seller/product/add";x((0,u.X4)({url:`/${e}`,id:"seller-new-product-add",name:A("add.new.product")})),f(`/${e}`)})(),children:A("add.new.product")},"newSaveBtn"),(0,g.jsx)(r.A,{type:"primary",onClick:()=>m.submit(),children:A("create")},"saveBtn"),(0,g.jsx)(r.A,{type:"default",onClick:a,children:A("cancel")},"cancelBtn")],children:(0,g.jsxs)(n.A,{layout:"vertical",name:"add-product",form:m,onFinish:e=>{if(e.title)b(e.title.value);else{if(!e.qr_code)return h.oR.error(A("please.select.one.option"));b(e.qr_code.value)}a()},children:[(0,g.jsx)(n.A.Item,{name:"title",label:A(v?"search.gift.card.title":"search.product.title"),children:(0,g.jsx)(o.G,{fetchOptions:async function(e){j(!0);const t={search:e,perPage:10,gift:v?1:void 0};return c.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.uuid}}))})).catch((e=>console.error(e))).finally((()=>j(!1)))},style:{minWidth:150},loading:y})}),(0,g.jsx)(n.A.Item,{name:"qr_code",label:A(v?"search.gift.card.qr_code":"search.product.qr_code"),children:(0,g.jsx)(o.G,{fetchOptions:async function(e){const t={qr_code:e,perPage:10,gift:v?1:void 0};return c.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.qr_code,value:null===e||void 0===e?void 0:e.uuid})))})).catch((e=>console.error(e))).finally((()=>j(!1)))},style:{minWidth:150},loading:y})})]})})}},28645:(e,t,a)=>{a.d(t,{A:()=>h});var l=a(9950),n=a(66362),d=a(69216),r=a(80737),s=a(25933),o=a(57811),i=a(72906),c=a(70030),u=a(44414);const{Text:p}=n.A,h=e=>{let{columns:t=[],setColumns:a}=e;const{t:n}=(0,c.B)(),[h,g]=(0,l.useState)(!1),v=(0,u.jsx)(d.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,u.jsx)(d.A.Item,{children:(0,u.jsxs)(r.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(p,{children:e.title}),(0,u.jsx)(s.A,{defaultChecked:!0,onClick:()=>{!function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(l)}(e)}})]})},l)))});return(0,u.jsx)(o.A,{overlay:v,trigger:["click"],onVisibleChange:e=>{g(e)},visible:h,children:(0,u.jsx)(i.A,{style:{fontSize:"26px"}})})}},35116:(e,t,a)=>{a.d(t,{A:()=>i});a(9950);var l=a(48538),n=a(44070),d=a(49348),r=a(70030),s=a(13311),o=a(44414);function i(e){let{onClick:t,type:a="default",...i}=e;const{t:c}=(0,r.B)(),{isDemo:u}=(0,s.A)();return(0,o.jsx)(l.A,{icon:(0,o.jsx)(n.A,{}),onClick:()=>{console.log(u),u?d.oR.warning(c("cannot.work.demo")):t()},type:a,...i})}},47992:(e,t,a)=>{a.d(t,{G:()=>i});var l=a(9950),n=a(95491),d=a.n(n),r=a(99674),s=a(90650),o=a(44414);const i=e=>{let{fetchOptions:t,debounceTimeout:a=400,...n}=e;const[i,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)([]),h=(0,l.useMemo)((()=>d()((e=>{p([]),c(!0),t(e).then((e=>{p(e),c(!1)}))}),a)),[t,a]);return(0,o.jsx)(r.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,notFoundContent:i?(0,o.jsx)(s.A,{size:"small"}):"no results",...n,options:u,onFocus:()=>{u.length||h("")}})}},68644:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var l=a(9950),n=(a(13435),a(24513)),d=a(44070),r=a(52911),s=a(25933),o=a(80737),i=a(48538),c=a(20567),u=a(73092),p=a(28429),h=a(49348),g=a(63620),v=a(55386),A=a(76083),m=a(91854),f=a(74623),x=a(67231),y=a(32801),j=a(70030),b=a(8168),C=a(88986),w=a(8297),k=a(47992),S=a(74827),_=a(78457),I=a(23222),B=a(35116),O=a(28645),$=a(44414);const E=()=>{var e,t,a,E;const{t:M}=(0,j.B)(),N=(0,m.wA)(),P=(0,p.Zp)(),[R,q]=(0,l.useState)(!1),{setIsModalVisible:z}=(0,l.useContext)(v.o),[G,X]=(0,l.useState)(!1),[F,V]=(0,l.useState)(!1),[W,K]=(0,l.useState)(!1),{activeMenu:T}=(0,m.d4)((e=>e.menu),m.bN),[Z,D]=(0,l.useState)([]),[H,J]=(0,l.useState)(!1),{products:L,meta:Q,loading:U,params:Y}=(0,m.d4)((e=>e.product),m.bN),[ee,te]=(0,l.useState)([{title:M("id"),is_show:!0,dataIndex:"id",sorter:!0},{title:M("image"),is_show:!0,dataIndex:"img",render:e=>(0,$.jsx)(r.A,{width:100,src:g.sE+e,placeholder:!0,style:{borderRadius:4}})},{title:M("name"),is_show:!0,dataIndex:"name"},{title:M("category"),is_show:!0,dataIndex:"category_name"},{title:M("active"),is_show:!0,dataIndex:"active",render:(e,t)=>(0,$.jsx)(s.A,{onChange:()=>{z(!0),q(t.uuid),V(!1)},checked:e})},{title:M("options"),is_show:!0,dataIndex:"options",render:(e,t)=>(0,$.jsxs)(o.A,{children:[(0,$.jsx)(i.A,{type:"primary",icon:(0,$.jsx)(n.A,{}),onClick:()=>(e=>{N((0,f.X4)({id:"product-edit",url:`seller/product/edit/${e}`,name:M("edit.product")})),P(`/seller/product/edit/${e}`)})(t.id)}),(0,$.jsx)(B.A,{icon:(0,$.jsx)(d.A,{}),onClick:()=>{z(!0),q(t.id),V(!0)}})]})}]);(0,C.A)((()=>{var e,t;const a=T.data,l={search:null===a||void 0===a?void 0:a.search,brand_id:null===a||void 0===a||null===(e=a.brand)||void 0===e?void 0:e.value,category_id:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.value,sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};N((0,y.EN)(l))}),[T.data]),(0,l.useEffect)((()=>{if(T.refetch){const e=T.data,t={perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};N((0,y.EN)(t)),N((0,f.km)(T))}}),[T.refetch]);const ae=(e,t)=>{N((0,f.Ok)({activeMenu:T,data:{...T.data,[t]:e}}))},le={selectedRowKeys:Z,onChange:e=>{D(e)}};return(0,$.jsxs)(c.A,{title:M("products"),extra:(0,$.jsxs)(o.A,{children:[(0,$.jsx)(w.A,{placeholder:M("search"),handleChange:e=>ae(e,"search")}),(0,$.jsx)(k.G,{placeholder:M("select.category"),fetchOptions:async function(e){const t={search:e};return _.A.getChild(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>ae(e,"category"),value:null===(e=T.data)||void 0===e?void 0:e.category}),(0,$.jsx)(k.G,{placeholder:M("select.brand"),fetchOptions:async function(e){const t={search:e};return S.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.brand.title,value:e.brand.id})))}))},style:{minWidth:150},onChange:e=>ae(e,"brand"),value:null===(t=T.data)||void 0===t?void 0:t.brand}),(0,$.jsx)(i.A,{type:"primary",onClick:()=>X(!0),children:M("add.product")}),(0,$.jsx)(i.A,{className:"",type:"danger",onClick:()=>{K(!0),x.A.deleteAll({ids:Z}).then((()=>{z(!1),h.oR.success(M("successfully.deleted")),N((0,y.EN)(Y))})).finally((()=>K(!1)))},disabled:Boolean(!(null!==Z&&void 0!==Z&&Z.length)),children:M("delete.all")}),(0,$.jsx)(i.A,{onClick:()=>{J(!0),x.A.export().then((e=>{const t=g.bb+e.data.file_name;window.location.href=t})).finally((()=>J(!1)))},loading:H,children:M("export")}),(0,$.jsx)(i.A,{onClick:()=>{N((0,f.X4)({id:"seller-product-import",url:"seller/product/import",name:M("product.import")})),P("/seller/product/import")},children:M("import")}),(0,$.jsx)(O.A,{setColumns:te,columns:ee})]}),children:[(0,$.jsx)(u.A,{rowSelection:le,loading:U,columns:null===ee||void 0===ee?void 0:ee.filter((e=>e.is_show)),dataSource:L,pagination:{pageSize:Y.perPage,page:(null===(a=T.data)||void 0===a?void 0:a.page)||1,total:Q.total,defaultCurrent:null===(E=T.data)||void 0===E?void 0:E.page},onChange:function(e,t){const{pageSize:a,current:l}=e,{field:n,order:d}=t,r=(0,b.A)(d);N((0,f.Ok)({activeMenu:T,data:{...T.data,perPage:a,page:l,column:n,sort:r}}))},rowKey:e=>e.id}),(0,$.jsx)(A.A,{click:F?()=>{K(!0),x.A.delete({ids:[R]}).then((()=>{z(!1),h.oR.success(M("successfully.deleted")),N((0,y.EN)(Y))})).finally((()=>K(!1)))}:()=>{K(!0),x.A.setActive(R).then((()=>{z(!1),N((0,y.EN)(Y)),h.oR.success(M("successfully.updated"))})).finally((()=>K(!1)))},text:M(F?"delete.product":"set.active.product"),loading:W}),(0,$.jsx)(I.A,{isModalOpen:G,handleCancel:()=>X(!1)})]})}},72906:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),n=a(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var r=a(25085),s=function(e,t){return n.createElement(r.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:d}))};const o=n.forwardRef(s)},74827:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(82371);const n={getAll:e=>l.A.get("rest/brands/paginate",{params:e}),getById:(e,t)=>l.A.get(`rest/brands/${e}`,{params:t}),search:e=>l.A.get("rest/brands/paginate",{params:e})}},78457:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(82371);const n={getChild:e=>l.A.get("dashboard/seller/categories/paginate/children",{params:e}),getAll:e=>l.A.get("rest/categories/paginate",{params:e}),getById:(e,t)=>l.A.get(`rest/categories/${e}`,{params:t}),search:e=>l.A.get("rest/categories/parent",{params:e})}}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8891],{8168:(e,a,s)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}s.d(a,{A:()=>n})},28645:(e,a,s)=>{s.d(a,{A:()=>h});var n=s(9950),t=s(30377),l=s(69216),i=s(80737),r=s(25933),d=s(57811),c=s(72906),o=s(70030),u=s(44414);const{Text:m}=t.A,h=e=>{let{columns:a=[],setColumns:s}=e;const{t:t}=(0,o.B)(),[h,A]=(0,n.useState)(!1),p=(0,u.jsx)(l.A,{children:null===a||void 0===a?void 0:a.map(((e,n)=>(0,u.jsx)(l.A.Item,{children:(0,u.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(m,{children:e.title}),(0,u.jsx)(r.A,{defaultChecked:!0,onClick:()=>{!function(e){const n=null===a||void 0===a?void 0:a.map((a=>(a.dataIndex===e.dataIndex&&(a.is_show=!(null!==a&&void 0!==a&&a.is_show)),a)));s(n)}(e)}})]})},n)))});return(0,u.jsx)(d.A,{overlay:p,trigger:["click"],onVisibleChange:e=>{A(e)},visible:h,children:(0,u.jsx)(c.A,{style:{fontSize:"26px"}})})}},53387:(e,a,s)=>{s.d(a,{A:()=>d});var n=s(89379),t=s(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=s(16233),r=function(e,a){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:l}))};r.displayName="PlusCircleOutlined";const d=t.forwardRef(r)},72906:(e,a,s)=>{s.d(a,{A:()=>d});var n=s(89379),t=s(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var i=s(16233),r=function(e,a){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:l}))};r.displayName="MoreOutlined";const d=t.forwardRef(r)},88891:(e,a,s)=>{s.r(a),s.d(a,{default:()=>R});var n=s(9950),t=s(90582),l=s(53387),i=s(25933),r=s(80737),d=s(48538),c=s(20567),o=s(3754),u=s(49348),m=s(76083),h=s(55386),A=s(91854),p=s(28429),v=s(74623),x=s(29514),f=s(88986),j=s(8168),g=s(53271),y=s(70030),b=s(25887),w=s(27741),k=s(87094),C=s(41988),S=s(93124),I=s(99674),_=s(4119),N=s(693),z=s(95524),q=s(5689),M=s(44414);function O(e){let{visibility:a,handleCancel:s}=e;const{t:t}=(0,y.B)(),[l,i]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[o,m]=(0,n.useState)(null),[h]=b.A.useForm(),p=(0,A.wA)();return(0,M.jsx)(w.A,{visible:a,title:t("add.deliveryman"),onCancel:s,footer:[(0,M.jsx)(d.A,{type:"primary",onClick:()=>h.submit(),loading:l,children:t("save")}),(0,M.jsx)(d.A,{type:"default",onClick:s,children:t("cancel")})],className:"large-modal",children:(0,M.jsx)(b.A,{form:h,layout:"vertical",initialValues:{gender:"male"},onFinish:e=>{const a={...e,role:"deliveryman",birthday:o};i(!0),g.A.create(a).then((()=>{s(),u.oR.success(t("successfully.created")),p((0,x.GX)())})).catch((e=>c(e.response.data.params))).finally((()=>i(!1)))},children:(0,M.jsxs)(k.A,{gutter:12,children:[(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("firstname"),name:"firstname",help:null!==r&&void 0!==r&&r.firstname?r.firstname[0]:null,validateStatus:null!==r&&void 0!==r&&r.firstname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("lastname"),name:"lastname",help:null!==r&&void 0!==r&&r.lastname?r.lastname[0]:null,validateStatus:null!==r&&void 0!==r&&r.lastname?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(_.A,{label:t("phone"),name:"phone",error:r})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(q.A,{label:t("birthday"),name:"birthday",valuePropName:"data",onChange:(e,a)=>m(a)})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("gender"),name:"gender",rules:[{required:!0,message:t("required")}],children:(0,M.jsxs)(I.A,{picker:"dayTime",className:"w-100",children:[(0,M.jsx)(I.A.Option,{value:"male",children:t("male")}),(0,M.jsx)(I.A.Option,{value:"female",children:t("female")})]})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(b.A.Item,{label:t("email"),name:"user_email",help:null!==r&&void 0!==r&&r.email?r.email[0]:null,validateStatus:null!==r&&void 0!==r&&r.email?"error":"success",rules:[{required:!0,message:t("required")}],children:(0,M.jsx)(S.A,{type:"email",className:"w-100"})})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(N.A,{label:t("password"),name:"password",error:r})}),(0,M.jsx)(C.A,{span:12,children:(0,M.jsx)(z.A,{label:t("password.confirmation"),name:"password_confirmation",dependencies:["password"],error:r})})]})})})}var P=s(28645);function R(){const e=(0,A.wA)(),a=(0,p.Zp)(),{t:s}=(0,y.B)(),[b,w]=(0,n.useState)([{title:s("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:s("name"),is_show:!0,dataIndex:"firstname",key:"firstname",render:(e,a)=>(0,M.jsxs)("div",{children:[e," ",a.lastname]})},{title:s("phone"),is_show:!0,dataIndex:"phone",key:"phone"},{title:s("active"),is_show:!0,dataIndex:"active",key:"active",render:(e,a)=>(0,M.jsx)(i.A,{checked:e,onChange:()=>{S(a.uuid),_(!1),k(!0)}})},{title:s("options"),is_show:!0,key:"options",dataIndex:"options",render:(n,l)=>(0,M.jsx)(r.A,{children:(0,M.jsx)(d.A,{type:"primary",icon:(0,M.jsx)(t.A,{}),onClick:()=>(n=>{e((0,v.X4)({url:`user/${n.uuid}`,id:"user_edit",name:s("edit.user")})),a(`/user/${n.uuid}`)})(l)})})}]),{setIsModalVisible:k}=(0,n.useContext)(h.o),[C,S]=(0,n.useState)(null),[I,_]=(0,n.useState)(!1),[N,z]=(0,n.useState)(!1),[q,R]=(0,n.useState)(!1),{activeMenu:X}=(0,A.d4)((e=>e.menu),A.bN),{deliverymans:B,meta:E,loading:G,params:V}=(0,A.d4)((e=>e.deliveryman),A.bN);return(0,n.useEffect)((()=>{X.refetch&&(e((0,x.GX)()),e((0,v.km)(X)))}),[X.refetch]),(0,f.A)((()=>{const a=X.data,s={sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};e((0,x.GX)(s))}),[X.data]),(0,M.jsxs)(c.A,{title:s("deliverymans"),extra:(0,M.jsxs)(r.A,{children:[(0,M.jsx)(d.A,{icon:(0,M.jsx)(l.A,{}),type:"primary",onClick:()=>R(!0),children:s("add.deliveryman")}),(0,M.jsx)(P.A,{setColumns:w,columns:b})]}),children:[(0,M.jsx)(o.A,{columns:null===b||void 0===b?void 0:b.filter((e=>e.is_show)),dataSource:B,pagination:{pageSize:V.perPage,page:V.page,total:E.total,defaultCurrent:V.page},rowKey:e=>e.id,onChange:function(a,s,n){const{pageSize:t,current:l}=a,{field:i,order:r}=n,d=(0,j.A)(r);e((0,v.Ok)({activeMenu:X,data:{perPage:t,page:l,column:i,sort:d}}))},loading:G}),(0,M.jsx)(O,{visibility:q,handleCancel:()=>R(!1)}),(0,M.jsx)(m.A,{click:I?()=>{z(!0),g.A.delete(C).then((()=>{u.oR.success(s("successfully.deleted")),e((0,x.GX)()),k(!1)})).finally((()=>z(!1)))}:()=>{z(!0),g.A.setActive(C).then((()=>{u.oR.success(s("successfully.updated")),e((0,x.GX)()),k(!1)})).finally((()=>z(!1)))},text:s(I?"delete.user":"set.active.user"),loading:N})]})}},90582:(e,a,s)=>{s.d(a,{A:()=>d});var n=s(89379),t=s(9950),l=s(42701),i=s(16233),r=function(e,a){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:l.A}))};r.displayName="EditOutlined";const d=t.forwardRef(r)}}]);
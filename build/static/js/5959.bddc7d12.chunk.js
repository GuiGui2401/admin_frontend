"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5959],{8168:(e,t,d)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}d.d(t,{A:()=>a})},8297:(e,t,d)=>{d.d(t,{A:()=>l});var a=d(9950),n=d(55902),r=d(41397),i=d(60767),o=d(44414);function l(e){let{handleChange:t,defaultValue:d,resetSearch:l,...s}=e;const[u,c]=(0,a.useState)(d),v=(0,a.useMemo)((()=>(0,r.debounce)((e=>{t(e)}),800)),[]);return(0,a.useEffect)((()=>{c(d)}),[l]),(0,o.jsx)(n.A,{value:u,onChange:e=>{const{value:t}=e.target;c(t.replace(/\s/g,"")),v(t.replace(/\s/g,""))},prefix:(0,o.jsx)(i.A,{}),...s})}},15959:(e,t,d)=>{d.r(t),d.d(t,{default:()=>b});var a=d(9950),n=d(62863),r=d(80737),i=d(48538),o=d(20567),l=d(73092),s=d(28429),u=d(12678),c=d(91854),v=d(74623),p=d(70030),h=d(88986),g=d(53177),m=d(8168),x=d(8297),f=d(53774),y=d(44414);const{TabPane:A}=n.A,k=["new","accepted","ready","on_a_way","delivered"];function b(){const e=(0,c.wA)(),t=(0,s.Zp)(),{t:d}=(0,p.B)(),{defaultCurrency:b}=(0,c.d4)((e=>e.currency),c.bN),j=[{title:d("id"),dataIndex:"id",key:"id",sorter:!0},{title:d("client"),dataIndex:"user",key:"user",render:e=>(0,y.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})},{title:d("number.of.products"),dataIndex:"details",key:"rate",render:e=>(0,y.jsxs)("div",{className:"text-lowercase",children:[null===e||void 0===e?void 0:e.reduce(((e,t)=>{var d;return e+(null===(d=t.order_stocks)||void 0===d?void 0:d.length)}),0)," ",d("products")]})},{title:d("amount"),dataIndex:"details",key:"price",render:(e,t)=>{const d=null===e||void 0===e?void 0:e[0];return(0,f.A)(null===d||void 0===d?void 0:d.total_price,b.symbol)}},{title:d("payment.type"),dataIndex:"transaction",key:"transaction",render:e=>{var t;return d(null===e||void 0===e||null===(t=e.payment_system.payment)||void 0===t?void 0:t.tag)||"-"}},{title:d("created.at"),dataIndex:"created_at",key:"created_at"},{title:d("options"),key:"options",width:"30%",render:(a,n)=>(0,y.jsx)(r.A,{children:(0,y.jsx)(i.A,{icon:(0,y.jsx)(u.A,{}),onClick:()=>(a=>{e((0,v.X4)({url:`deliveryman/order/details/${a.id}`,id:"order_details",name:d("order.details")})),t(`/deliveryman/order/details/${a.id}`)})(n)})})}],{activeMenu:_}=(0,c.d4)((e=>e.menu),c.bN),{orders:w,meta:C,loading:I}=(0,c.d4)((e=>e.orders),c.bN),P=null===_||void 0===_?void 0:_.data;(0,h.A)((()=>{const t={search:null===P||void 0===P?void 0:P.search,sort:null===P||void 0===P?void 0:P.sort,column:null===P||void 0===P?void 0:P.column,perPage:null===P||void 0===P?void 0:P.perPage,page:null===P||void 0===P?void 0:P.page,user_id:null===P||void 0===P?void 0:P.userId,status:null===P||void 0===P?void 0:P.status};e((0,g.oP)(t))}),[null===_||void 0===_?void 0:_.data]),(0,a.useEffect)((()=>{if(null!==_&&void 0!==_&&_.refetch){const t={status:(null===P||void 0===P?void 0:P.status)||"new",perPage:10,page:1};e((0,g.oP)(t)),e((0,v.km)(_))}}),[null===_||void 0===_?void 0:_.refetch]);return(0,y.jsxs)(o.A,{title:d("orders"),extra:(0,y.jsx)(r.A,{children:(0,y.jsx)(x.A,{placeholder:d("search"),handleChange:t=>{return d=t,a="search",void e((0,v.Ok)({activeMenu:_,data:{...P,[a]:d}}));var d,a}})}),children:[(0,y.jsx)(n.A,{onChange:t=>{e((0,v.Ok)({activeMenu:_,data:{status:t}}))},type:"card",activeKey:null===P||void 0===P?void 0:P.status,children:k.map((e=>(0,y.jsx)(A,{tab:d(e)},e)))}),(0,y.jsx)(l.A,{columns:j,dataSource:w,loading:I,pagination:{pageSize:C.per_page,page:C.current_page,total:C.total},rowKey:e=>e.id,onChange:function(t,d){const{pageSize:a,current:n}=t,{field:r,order:i}=d,o=(0,m.A)(i);e((0,v.Ok)({activeMenu:_,data:{...P,perPage:a,page:n,column:r,sort:o}}))}})]})}},53774:(e,t,d)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}d.d(t,{A:()=>a})}}]);
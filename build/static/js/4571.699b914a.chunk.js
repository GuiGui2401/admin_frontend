"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4571],{17456:(e,s,a)=>{a.d(s,{A:()=>l});a(9950);const l=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},24571:(e,s,a)=>{a.r(s),a.d(s,{default:()=>_});var l=a(9950),t=a(28429),n=a(49348),i=a(25887),d=a(20567),r=a(87094),c=a(41988),u=a(99674),m=a(90650),o=a(93124),h=a(25933),p=a(48538),x=a(91854),j=a(74623),y=a(70030),b=a(76214),A=a(53496),g=a(17456),f=a(54826),v=a(70283),k=a(5436),N=a(44414);const _=()=>{const{t:e}=(0,y.B)(),{activeMenu:s}=(0,x.d4)((e=>e.menu),x.bN),a=(0,x.wA)(),[_]=i.A.useForm(),q=(0,t.Zp)(),{id:F}=(0,t.g)(),[w,C]=(0,l.useState)(!1),[S,z]=(0,l.useState)(!1),[I,P]=(0,l.useState)([]),[V,E]=(0,l.useState)(null),{settings:{payment_type:B}}=(0,x.d4)((e=>e.globalSettings),x.bN);(0,l.useEffect)((()=>()=>{const e=_.getFieldsValue(!0);a((0,j.Ok)({activeMenu:s,data:e}))}),[]);(0,l.useEffect)((()=>{s.refetch&&((e=>{z(!0),b.A.getById(e).then((e=>{let{data:s}=e;console.log("payment => ",s),E({label:s.payment.translation.title,value:s.payment.id}),_.setFieldsValue({...s,payment_id:s.payment.translation.title})})).finally((()=>a((0,j.km)(s))))})(F),async function(){z(!0),b.A.allPayment().then((e=>{let{data:s}=e;const a=s.map((e=>({label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id})));P(a)})).finally((()=>z(!1)))}())}),[s.refetch]);return console.log(V),(0,N.jsx)(d.A,{title:e("edit.payment"),className:"h-100",children:S?(0,N.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,N.jsx)(m.A,{size:"large",className:"py-5"})}):(0,N.jsxs)(i.A,{name:"edit.payment",layout:"vertical",onFinish:l=>{C(!0);const t={...l,payment_id:V.value};b.A.update(F,t).then((()=>{const l="seller/payments";n.oR.success(e("successfully.updated")),a((0,j.EK)({...s,nextUrl:l})),q(`/${l}`),a((0,A.Np)())})).finally((()=>C(!1)))},form:_,initialValues:{status:!0,...s.data},className:"d-flex flex-column h-100",children:[(0,N.jsxs)(r.A,{gutter:12,children:[(0,N.jsx)(c.A,{span:"Cash"===(null===V||void 0===V?void 0:V.label)||"Wallet"===(null===V||void 0===V?void 0:V.label)?12:24,children:(0,N.jsx)(i.A.Item,{label:e("payment"),name:"payment_id",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(u.A,{notFoundContent:S?(0,N.jsx)(m.A,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"Cash"===(null===V||void 0===V?void 0:V.label)||"Wallet"===(null===V||void 0===V?void 0:V.label)||"admin"===B?"":(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.A,{span:24,offset:10,children:(0,N.jsx)(N.Fragment,{children:(e=>{switch(e){case"Paypal":return(0,N.jsx)(f.SnG,{size:80});case"Stripe":return(0,N.jsx)(v.kDV,{size:80});case"Razorpay":return(0,N.jsx)(v.NVb,{size:80});case"Paystack":return(0,N.jsx)("img",{src:g.A,alt:"img",width:"80",height:"80"})}})(null===V||void 0===V?void 0:V.label)})}),(0,N.jsx)(c.A,{span:12,children:(0,N.jsx)(i.A.Item,{label:e("client.id"),name:"client_id",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(o.A,{})})}),(0,N.jsx)(c.A,{span:12,children:(0,N.jsx)(i.A.Item,{label:e("secret.id"),name:"secret_id",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(o.A,{})})}),"Paystack"===(null===V||void 0===V?void 0:V.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.A,{span:12,children:(0,N.jsx)(i.A.Item,{label:e("payment.id"),name:"payment_key",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(o.A,{})})}),(0,N.jsx)(c.A,{span:12,children:(0,N.jsx)(k.A,{label:e("merchant.email"),name:"merchant_email"})})]}):""]}),(0,N.jsx)(c.A,{span:12,children:(0,N.jsx)(i.A.Item,{label:e("status"),name:"status",valuePropName:"checked",children:(0,N.jsx)(h.A,{})})})]}),(0,N.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,N.jsx)("div",{className:"pb-5",children:(0,N.jsx)(p.A,{type:"primary",htmlType:"submit",loading:w,disabled:w,children:e("submit")})})})]})})}}}]);
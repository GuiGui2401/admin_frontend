"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4549],{8168:(e,a,t)=>{function d(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(a,{A:()=>d})},8297:(e,a,t)=>{t.d(a,{A:()=>r});var d=t(9950),s=t(55902),i=t(41397),n=t(60767),o=t(44414);function r(e){let{handleChange:a,defaultValue:t,resetSearch:r,...c}=e;const[l,u]=(0,d.useState)(t),g=(0,d.useMemo)((()=>(0,i.debounce)((e=>{a(e)}),800)),[]);return(0,d.useEffect)((()=>{u(t)}),[r]),(0,o.jsx)(s.A,{value:l,onChange:e=>{const{value:a}=e.target;u(a.replace(/\s/g,"")),g(a.replace(/\s/g,""))},prefix:(0,o.jsx)(n.A,{}),...c})}},35116:(e,a,t)=>{t.d(a,{A:()=>c});t(9950);var d=t(48538),s=t(44070),i=t(49348),n=t(70030),o=t(13311),r=t(44414);function c(e){let{onClick:a,type:t="default",...c}=e;const{t:l}=(0,n.B)(),{isDemo:u}=(0,o.A)();return(0,r.jsx)(d.A,{icon:(0,r.jsx)(s.A,{}),onClick:()=>{console.log(u),u?i.oR.warning(l("cannot.work.demo")):a()},type:t,...c})}},84549:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var d=t(52911),s=t(80737),i=t(48538),n=t(20567),o=t(87094),r=t(41988),c=t(73092),l=t(70030),u=t(8297),g=t(9950),h=t(74623),f=t(91854),p=t(10312),v=t(63620),A=t(24513),x=t(44070),m=t(35116),j=t(55386),b=t(88986),C=t(8168),w=t(76083),k=t(47933),y=t(49348),S=t(28429),_=t(44414);const E=function(){var e,a;const{t:t}=(0,l.B)(),E=(0,f.wA)(),{activeMenu:I}=(0,f.d4)((e=>e.menu),f.bN),{giftCards:M,meta:R,loading:N,params:P}=(0,f.d4)((e=>e.giftCard),f.bN),{setIsModalVisible:z}=(0,g.useContext)(j.o),B=(0,S.Zp)(),[K,O]=(0,g.useState)(!1),[V,X]=(0,g.useState)(!1),[$,D]=(0,g.useState)([]),[Z,q]=(0,g.useState)(!1),[F,G]=(0,g.useState)([{title:t("id"),is_show:!0,dataIndex:"id",sorter:(e,a)=>e.id-a.id},{title:t("image"),dataIndex:"img",is_show:!0,render:e=>(0,_.jsx)(d.A,{width:100,src:v.sE+e,placeholder:!0,style:{borderRadius:4}})},{title:t("name"),dataIndex:"name",is_show:!0},{title:t("options"),dataIndex:"options",is_show:!0,render:(e,a)=>(0,_.jsxs)(s.A,{children:[(0,_.jsx)(i.A,{type:"primary",icon:(0,_.jsx)(A.A,{}),onClick:()=>H(a.uuid,!!a.gift)}),(0,_.jsx)(m.A,{icon:(0,_.jsx)(x.A,{}),onClick:()=>{z(!0),O(a.uuid),X(!0)}})]})}]),H=e=>{E((0,h.X4)({id:"gift-card-edit",url:`gift-card/${e}`,name:t("edit.gift.card")})),B(`/gift-card/${e}`)},J={selectedRowKeys:$,onChange:e=>{D(e)}};return(0,g.useEffect)((()=>{const e=I.data,a={search:null===e||void 0===e?void 0:e.search};I.refetch&&(E((0,p.Eb)(a)),E((0,h.km)(I)))}),[I.refetch]),(0,b.A)((()=>{var e;const a=I.data,t={search:null===a||void 0===a?void 0:a.search,shop_id:null===a||void 0===a||null===(e=a.shop)||void 0===e?void 0:e.value,sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};E((0,p.Eb)(t))}),[I.data]),(0,_.jsxs)(n.A,{title:t("gift.cards"),children:[(0,_.jsxs)(o.A,{gutter:24,className:"mb-2",children:[(0,_.jsx)(r.A,{span:12,children:(0,_.jsx)(s.A,{children:(0,_.jsx)(u.A,{placeholder:t("search"),handleChange:e=>{return a=e,t="search",void E((0,h.Ok)({activeMenu:I,data:{...I.data,[t]:a}}));var a,t}})})}),(0,_.jsx)(r.A,{span:12,className:"d-flex justify-content-end",children:(0,_.jsx)(s.A,{children:(0,_.jsx)(i.A,{type:"primary",onClick:()=>{E((0,h.X4)({id:"gift-card-add",url:"gift-card/add",name:t("add.gift.card")})),B("/gift-card/add")},children:t("add.gift.card")})})})]}),(0,_.jsx)(c.A,{rowSelection:J,loading:N,columns:null===F||void 0===F?void 0:F.filter((e=>e.is_show)),dataSource:M,pagination:{pageSize:P.perPage,page:(null===(e=I.data)||void 0===e?void 0:e.page)||1,total:R.total,defaultCurrent:null===(a=I.data)||void 0===a?void 0:a.page},onChange:(e,a)=>{const{pageSize:t,current:d}=e,{field:s,order:i}=a,n=(0,C.A)(i);E((0,h.Ok)({activeMenu:I,data:{...I.data,perPage:t,page:d,column:s,sort:n}}))},rowKey:e=>e.id}),(0,_.jsx)(w.A,{click:V?()=>{q(!0),k.A.delete(K).then((()=>{z(!1),y.oR.success(t("successfully.deleted")),E((0,p.Eb)(P))})).finally((()=>q(!1)))}:()=>{q(!0),k.A.setActive(K).then((()=>{z(!1),E((0,p.Eb)(P)),y.oR.success(t("successfully.updated"))})).finally((()=>q(!1)))},text:t(V?"delete.product":"set.active.product"),loading:Z})]})}}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2396],{8168:(e,l,a)=>{function t(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(l,{A:()=>t})},28645:(e,l,a)=>{a.d(l,{A:()=>h});var t=a(9950),n=a(66362),s=a(69216),i=a(80737),r=a(25933),d=a(57811),o=a(72906),u=a(70030),c=a(44414);const{Text:v}=n.A,h=e=>{let{columns:l=[],setColumns:a}=e;const{t:n}=(0,u.B)(),[h,m]=(0,t.useState)(!1),p=(0,c.jsx)(s.A,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,c.jsx)(s.A.Item,{children:(0,c.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,c.jsx)(v,{children:e.title}),(0,c.jsx)(r.A,{defaultChecked:!0,onClick:()=>{!function(e){const t=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));a(t)}(e)}})]})},t)))});return(0,c.jsx)(d.A,{overlay:p,trigger:["click"],onVisibleChange:e=>{m(e)},visible:h,children:(0,c.jsx)(o.A,{style:{fontSize:"26px"}})})}},53774:(e,l,a)=>{function t(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}a.d(l,{A:()=>t})},72906:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(89379),n=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var i=a(25085),r=function(e,l){return n.createElement(i.A,(0,t.A)((0,t.A)({},e),{},{ref:l,icon:s}))};const d=n.forwardRef(r)},85023:(e,l,a)=>{a.d(l,{D:()=>r});var t=a(9950),n=a(99674),s=a(90650),i=a(44414);const r=e=>{let{fetchOptions:l,refetch:a=!1,...r}=e;const[d,o]=(0,t.useState)(!1),[u,c]=(0,t.useState)([]);return(0,i.jsx)(n.A,{filterOption:!1,labelInValue:!0,notFoundContent:d?(0,i.jsx)(s.A,{size:"small"}):"no results",...r,options:d?[]:u,onFocus:()=>{u.length&&!a||(o(!0),l().then((e=>{c(e),o(!1)})))}})}},92396:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var t=a(9950),n=a(62863),s=a(12916),i=a(80737),r=a(48538),d=a(81541),o=a(20567),u=a(73092),c=a(91854),v=a(74623),h=a(88986),m=a(8168),p=a(70030),x=a(53774),y=a(24513),A=a(66276),j=a(27741),g=a(87827),f=a(87094),b=a(41988),w=a(56952),_=a(55902),k=a(85023),C=a(53271),I=a(13567),q=a(34996),S=a(38342),N=a(44414);function $(e){var l,a,n,s,i,d,o,u;let{data:h,handleCancel:m}=e;const{t:x}=(0,p.B)(),{activeMenu:y}=(0,c.d4)((e=>e.menu),c.bN),[A,$]=(0,t.useState)(!1),B=(0,c.wA)();return(0,N.jsx)(j.A,{visible:!!h,title:x("pay.to.seller"),onCancel:m,footer:[(0,N.jsx)(r.A,{type:"primary",form:"form",htmlType:"submit",loading:A,children:null!==h&&void 0!==h&&h.id?x("edit"):x("create")},"pay-btn")],children:(0,N.jsx)(g.A,{initialValues:{cause:null===h||void 0===h?void 0:h.cause,price:null===h||void 0===h?void 0:h.price,answer:null===h||void 0===h?void 0:h.answer,currency_id:(null===h||void 0===h?void 0:h.currency)&&{value:null===h||void 0===h||null===(l=h.currency)||void 0===l?void 0:l.id,label:`${null===h||void 0===h||null===(a=h.currency)||void 0===a?void 0:a.title} (${null===h||void 0===h||null===(n=h.currency)||void 0===n?void 0:n.symbol})`},payment_id:(null===h||void 0===h?void 0:h.payment)&&{value:null===h||void 0===h||null===(s=h.payment)||void 0===s?void 0:s.id,label:null===h||void 0===h||null===(i=h.payment)||void 0===i?void 0:i.tag},created_by:(null===h||void 0===h?void 0:h.createdBy)&&{value:null===h||void 0===h||null===(d=h.createdBy)||void 0===d?void 0:d.id,label:`${null===h||void 0===h||null===(o=h.createdBy)||void 0===o?void 0:o.firstname} ${(null===h||void 0===h||null===(u=h.createdBy)||void 0===u?void 0:u.lastname)||""}`}},onFinish:e=>{var l,a,t;const n={cause:e.cause,price:e.price,created_by:null===e||void 0===e||null===(l=e.created_by)||void 0===l?void 0:l.value,payment_id:null===e||void 0===e||null===(a=e.payment_id)||void 0===a?void 0:a.value,currency_id:null===e||void 0===e||null===(t=e.currency_id)||void 0===t?void 0:t.value,answer:e.answer};$(!0),null!==h&&void 0!==h&&h.id?S.s.update(h.id,n).then((()=>{m(),B((0,v.Ms)(y))})).finally((()=>$(!1))):S.s.create(n).then((()=>{m(),B((0,v.Ms)(y))})).finally((()=>$(!1)))},id:"form",layout:"vertical",children:(0,N.jsxs)(f.A,{gutter:24,children:[(0,N.jsxs)(b.A,{span:12,children:[(0,N.jsx)(g.A.Item,{name:"created_by",rules:[{required:!0,message:x("required")}],label:x("seller"),children:(0,N.jsx)(k.D,{className:"w-100",placeholder:x("select.seller"),fetchOptions:()=>C.A.getAll({role:"seller"}).then((e=>{let{data:l}=e;return l.map((e=>({value:e.id,label:`${e.firstname} ${e.lastname||""}`,key:e.id})))}))})}),(0,N.jsx)(g.A.Item,{name:"payment_id",rules:[{required:!0,message:x("required")}],label:x("payment"),children:(0,N.jsx)(k.D,{className:"w-100",placeholder:x("select.payment.type"),fetchOptions:()=>q.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active&&"wallet"===e.tag)).map((e=>({value:e.id,label:e.tag,key:e.id})))}))})})]}),(0,N.jsxs)(b.A,{span:12,children:[(0,N.jsx)(g.A.Item,{name:"currency_id",rules:[{required:!0,message:x("required")}],label:x("currency"),children:(0,N.jsx)(k.D,{className:"w-100",placeholder:x("select.currency"),fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title} (${e.symbol||""})`,key:e.id})))}))})}),(0,N.jsx)(g.A.Item,{name:"price",rules:[{required:!0,message:x("required")}],label:x("price"),children:(0,N.jsx)(w.A,{min:0,className:"w-100",placeholder:x("amount")})})]}),(0,N.jsxs)(b.A,{span:24,children:[(0,N.jsx)(g.A.Item,{name:"cause",rules:[{required:!0,message:x("required")}],label:x("cause"),children:(0,N.jsx)(_.A.TextArea,{showCount:!0,maxLength:100,placeholder:x("cause")})}),(0,N.jsx)(g.A.Item,{name:"answer",label:x("answer"),rules:[{required:!0,message:x("required")}],children:(0,N.jsx)(_.A.TextArea,{showCount:!0,maxLength:100,placeholder:x("answer")})})]})]})})})}var B=a(28645),M=a(28429),z=a(37694),O=a(99674);function P(e){let{data:l,handleCancel:a,statuses:n}=e;const{t:s}=(0,p.B)(),{activeMenu:i}=(0,c.d4)((e=>e.menu),c.bN),[d,o]=(0,t.useState)(!1),u=(0,c.wA)();console.log(l);return(0,N.jsx)(j.A,{visible:!!l,title:s("change.status"),onCancel:a,footer:[(0,N.jsx)(r.A,{onClick:a,children:s("cancel")}),(0,N.jsx)(r.A,{loading:d,type:"primary",form:"status",htmlType:"submit",children:s("change")},"pay-btn")],children:(0,N.jsx)(g.A,{initialValues:{status:null===l||void 0===l?void 0:l.status},onFinish:e=>{o(!0),S.s.changeStatus(null===l||void 0===l?void 0:l.id,e).then((()=>{a(),u((0,v.Ms)(i))})).finally((()=>o(!1)))},id:"status",layout:"vertical",children:(0,N.jsx)(g.A.Item,{label:s("status"),name:"status",children:(0,N.jsx)(O.A,{options:n.slice(1).map((e=>({label:s(e),value:e})))})})})})}const{TabPane:T}=n.A,F=["all","accepted","pending","canceled"];function D(){var e;const{t:l}=(0,p.B)(),a=(0,c.wA)(),j=(0,M.Zp)(),{activeMenu:g}=(0,c.d4)((e=>e.menu),c.bN),[f,b]=(0,t.useState)(),w=(null===(e=g.data)||void 0===e?void 0:e.role)||f,_=g.data,k={sort:null===_||void 0===_?void 0:_.sort,column:null===_||void 0===_?void 0:_.column,perPage:null===_||void 0===_?void 0:_.perPage,page:null===_||void 0===_?void 0:_.page,status:"all"===f?void 0:w},{payoutRequests:C,meta:I,loading:q,params:S}=(0,c.d4)((e=>e.adminPayouts),c.bN),[O,D]=(0,t.useState)(null),[V,X]=(0,t.useState)(null),[E,K]=(0,t.useState)([{title:l("user"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,N.jsx)("div",{className:"text-hover",onClick:()=>(e=>{a((0,v.X4)({url:`/users/user/${e.uuid}`,id:"user_info",name:l("user.info")})),j(`/users/user/${e.uuid}`,{state:{user_id:e.id}})})(e),children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)})},{title:l("price"),dataIndex:"price",key:"price",is_show:!0,render:(e,l)=>(0,x.A)(e,l.currency.symbol)},{title:l("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,N.jsx)("div",{children:"pending"===e?(0,N.jsx)(s.A,{color:"blue",children:l(e)}):"canceled"===e?(0,N.jsx)(s.A,{color:"error",children:l(e)}):(0,N.jsx)(s.A,{color:"cyan",children:l(e)})})},{title:l("cause"),dataIndex:"cause",key:"cause",is_show:!0},{title:l("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0},{title:l("answer"),dataIndex:"answer",key:"answer",is_show:!0},{title:l("options"),dataIndex:"uuid",key:"uuid",is_show:!0,render:(e,a)=>(0,N.jsxs)(i.A,{children:[(0,N.jsx)(r.A,{type:"primary",icon:(0,N.jsx)(y.A,{}),onClick:()=>D(a)}),"accepted"!==a.status&&(0,N.jsx)(d.A,{title:l("change.status"),children:(0,N.jsx)(r.A,{onClick:()=>X(a),icon:(0,N.jsx)(A.A,{})})})]})}]);(0,t.useEffect)((()=>{g.refetch&&(a((0,z.X)(k)),a((0,v.km)(g)))}),[g.refetch]),(0,h.A)((()=>{a((0,z.X)(k))}),[g.data]);return console.log(C),(0,N.jsxs)(o.A,{title:l("payout.requests"),extra:(0,N.jsxs)(i.A,{children:[(0,N.jsx)(r.A,{onClick:()=>D(!0),type:"primary",children:l("create.payout")}),(0,N.jsx)(B.A,{columns:E,setColumns:K})]}),children:[(0,N.jsx)(n.A,{className:"mt-3",activeKey:w,onChange:e=>{(e=>{const l=g.data;a((0,v.Ok)({activeMenu:g,data:{...l,...e}}))})({role:e,page:1}),b(e)},type:"card",children:F.map((e=>(0,N.jsx)(T,{tab:l(e)},e)))}),(0,N.jsx)(u.A,{scroll:{x:1024},columns:null===E||void 0===E?void 0:E.filter((e=>e.is_show)),dataSource:C,pagination:{pageSize:S.perPage,page:S.page,total:I.total,defaultCurrent:S.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:s}=e,{field:i,order:r}=t,d=(0,m.A)(r);a((0,v.Ok)({activeMenu:g,data:{perPage:n,page:s,column:i,sort:d}}))},loading:q}),O&&(0,N.jsx)($,{data:O,handleCancel:()=>D(null)}),V&&(0,N.jsx)(P,{data:V,statuses:F,handleCancel:()=>X(null)})]})}}}]);
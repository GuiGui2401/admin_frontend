"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7053],{8168:(e,a,l)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(a,{A:()=>n})},28645:(e,a,l)=>{l.d(a,{A:()=>m});var n=l(9950),t=l(66362),s=l(69216),i=l(80737),o=l(25933),d=l(57811),r=l(72906),c=l(70030),u=l(44414);const{Text:h}=t.A,m=e=>{let{columns:a=[],setColumns:l}=e;const{t:t}=(0,c.B)(),[m,p]=(0,n.useState)(!1),x=(0,u.jsx)(s.A,{children:null===a||void 0===a?void 0:a.map(((e,n)=>(0,u.jsx)(s.A.Item,{children:(0,u.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(h,{children:e.title}),(0,u.jsx)(o.A,{defaultChecked:!0,onClick:()=>{!function(e){const n=null===a||void 0===a?void 0:a.map((a=>(a.dataIndex===e.dataIndex&&(a.is_show=!(null!==a&&void 0!==a&&a.is_show)),a)));l(n)}(e)}})]})},n)))});return(0,u.jsx)(d.A,{overlay:x,trigger:["click"],onVisibleChange:e=>{p(e)},visible:m,children:(0,u.jsx)(r.A,{style:{fontSize:"26px"}})})}},37053:(e,a,l)=>{l.r(a),l.d(a,{default:()=>z});var n=l(9950),t=l(12678),s=l(62863),i=l(80737),o=l(48538),d=l(20567),r=l(73092),c=l(91854),u=l(39539),h=l(8168),m=l(74623),p=l(88986),x=l(27741),A=l(87094),v=l(41988),j=l(91524),f=l(52911),g=l(66209),b=l(70030),I=l(81446),w=l(53774),y=l(7974),C=l(44414);function _(e){var a,l,t;let{uuid:s,handleCancel:i}=e;const[d,r]=(0,n.useState)({}),[u,h]=(0,n.useState)(!1),{t:m}=(0,b.B)(),{defaultCurrency:p}=(0,c.d4)((e=>e.currency),c.bN);return(0,n.useEffect)((()=>{!function(e){h(!0),g.A.getById(e).then((e=>r(e.data))).finally((()=>h(!1)))}(s)}),[s]),(0,C.jsx)(x.A,{visible:!!s,title:m("user"),onCancel:i,footer:[(0,C.jsx)(o.A,{type:"default",onClick:i,children:m("cancel")})],className:d.shop?"large-modal":"",children:u?(0,C.jsx)(I.A,{}):(0,C.jsxs)(A.A,{gutter:24,children:[(0,C.jsx)(v.A,{span:d.shop?12:24,children:(0,C.jsxs)(j.A,{bordered:!0,children:[(0,C.jsx)(j.A.Item,{span:3,label:m("avatar"),children:(0,C.jsx)(f.A,{src:(0,y.A)(d.img),alt:d.firstname,width:80,className:"rounded"})}),(0,C.jsx)(j.A.Item,{span:3,label:m("user.id"),children:d.id}),(0,C.jsxs)(j.A.Item,{span:3,label:m("name"),children:[d.firstname," ",d.lastname]}),(0,C.jsx)(j.A.Item,{span:3,label:m("gender"),children:d.gender}),(0,C.jsx)(j.A.Item,{span:3,label:m("birthday"),children:d.birthday}),(0,C.jsx)(j.A.Item,{span:3,label:m("email"),children:d.email}),(0,C.jsx)(j.A.Item,{span:3,label:m("phone"),children:d.phone}),(0,C.jsx)(j.A.Item,{span:3,label:m("role"),children:d.role}),(0,C.jsx)(j.A.Item,{span:3,label:m("wallet"),children:(0,w.A)(null===(a=d.wallet)||void 0===a?void 0:a.price,p.symbol)})]})}),d.shop?(0,C.jsx)(v.A,{span:12,children:(0,C.jsxs)(j.A,{bordered:!0,children:[(0,C.jsx)(j.A.Item,{span:3,label:m("shop.id"),children:d.shop.id}),(0,C.jsx)(j.A.Item,{span:3,label:m("shop.name"),children:null===(l=d.shop.translation)||void 0===l?void 0:l.title}),(0,C.jsx)(j.A.Item,{span:3,label:m("shop.logo"),children:(0,C.jsx)("img",{src:(0,y.A)(d.shop.logo_img),alt:null===(t=d.shop.translation)||void 0===t?void 0:t.title,width:100,className:"rounded"})}),(0,C.jsx)(j.A.Item,{span:3,label:m("shop.phone"),children:d.shop.phone}),(0,C.jsxs)(j.A.Item,{span:3,label:m("shop.open_close.time"),children:[d.shop.open_time," - ",d.shop.close_time]}),(0,C.jsx)(j.A.Item,{span:3,label:m("delivery.range"),children:d.shop.delivery_range})]})}):""]})})}var k=l(28645);const{TabPane:S}=s.A,N=["moderator","deliveryman"];function z(){var e;const{t:a}=(0,b.B)(),l=(0,c.wA)(),{activeMenu:x}=(0,c.d4)((e=>e.menu),c.bN),{users:A,loading:v,meta:j,params:f}=(0,c.d4)((e=>e.user),c.bN),[g,I]=(0,n.useState)(null),[w,y]=(0,n.useState)([{title:a("id"),is_show:!0,dataIndex:"id",sorter:!0},{title:a("firstname"),is_show:!0,dataIndex:"firstname"},{title:a("lastname"),is_show:!0,dataIndex:"lastname"},{title:a("email"),is_show:!0,dataIndex:"email"},{title:a("role"),is_show:!0,dataIndex:"role"},{title:a("options"),is_show:!0,dataIndex:"options",render:(e,a)=>(0,C.jsx)(i.A,{children:(0,C.jsx)(o.A,{icon:(0,C.jsx)(t.A,{}),onClick:()=>I(a.uuid)})})}]);(0,n.useEffect)((()=>{if(x.refetch){const e=x.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator"};l((0,u.MT)(a)),l((0,m.km)(x))}}),[x.refetch]),(0,p.A)((()=>{const e=x.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,u.MT)(a))}),[x.data]);return(0,C.jsxs)(d.A,{title:a("shop.users"),extra:(0,C.jsx)(k.A,{setColumns:y,columns:w}),children:[(0,C.jsx)(s.A,{activeKey:(null===(e=x.data)||void 0===e?void 0:e.role)||"moderator",onChange:e=>{l((0,m.Ok)({activeMenu:x,data:{...x.data,role:e}}))},type:"card",children:N.map((e=>(0,C.jsx)(S,{tab:a(e)},e)))}),(0,C.jsx)(r.A,{columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:A,loading:v,pagination:{pageSize:f.perPage,page:f.page,total:j.total,defaultCurrent:f.page},rowKey:e=>e.id,onChange:function(e,a,n){const{pageSize:t,current:s}=e,{field:i,order:o}=n,d=(0,h.A)(o);l((0,m.Ok)({activeMenu:x,data:{...x.data,perPage:t,page:s,column:i,sort:d}}))}}),g&&(0,C.jsx)(_,{uuid:g,handleCancel:()=>I(null)})]})}},53774:(e,a,l)=>{function n(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(a,{A:()=>n})},72906:(e,a,l)=>{l.d(a,{A:()=>d});var n=l(89379),t=l(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var i=l(25085),o=function(e,a){return t.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:s}))};const d=t.forwardRef(o)}}]);
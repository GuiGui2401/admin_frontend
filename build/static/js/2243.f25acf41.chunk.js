"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2243],{32243:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(87827),n=t(20567),r=t(87094),l=t(41988),i=t(56952),o=t(99674),u=t(48538),c=t(70030),d=t(47992),h=t(9950),m=t(67231),p=t(66209),A=t(98591),x=t(43991),j=t(49348),b=t(74623),y=t(91854),f=t(28429),g=t(925),q=t(44414);const w=[{label:"income",value:"income"},{label:"outcome",value:"outcome"}];const v=function(){const[e]=a.A.useForm(),{t:s}=(0,c.B)(),t=(0,y.wA)(),{activeMenu:v}=(0,y.d4)((e=>e.menu)),_=(0,f.Zp)(),[I,S]=(0,h.useState)(!1),[k,C]=(0,h.useState)(!1);return(0,q.jsx)(n.A,{title:s("create.warehouse"),children:(0,q.jsxs)(a.A,{onFinish:e=>{C(!0);const a={shop_product_id:e.shop_product_id.value,user_id:e.user_id.value,note:e.note,quantity:e.quantity,type:e.type};x.A.create(a).then((e=>{const a="seller/warehouse";j.oR.success(s("successfully.create.warehouse.action")),t((0,b.EK)({activeMenu:v,nextUrl:a})),_(`/${a}`),t((0,g.u)())})).finally((()=>C(!1)))},layout:"vertical",form:e,children:[(0,q.jsxs)(r.A,{gutter:12,children:[(0,q.jsx)(l.A,{span:12,children:(0,q.jsx)(a.A.Item,{name:"shop_product_id",label:s("product"),rules:[{required:!0,message:s("required")}],children:(0,q.jsx)(d.G,{fetchOptions:async e=>{try{S(!0);const s={search:e,perPage:10},{data:t}=await m.A.search(s);return t.map((e=>({label:e.translation.title,value:e.id})))}catch(s){console.error(s)}finally{S(!1)}},loading:I})})}),(0,q.jsx)(l.A,{span:12,children:(0,q.jsx)(a.A.Item,{name:"user_id",label:s("user"),rules:[{required:!0,message:s("required")}],children:(0,q.jsx)(d.G,{loading:I,fetchOptions:async e=>{try{S(!0);const s={search:e,perPage:10},{data:t}=await p.A.search(s);return console.log(t),t.map((e=>({label:e.firstname,value:e.id})))}catch(s){console.error(s)}finally{S(!1)}}})})}),(0,q.jsx)(l.A,{span:12,children:(0,q.jsx)(a.A.Item,{name:"quantity",label:s("quantity"),rules:[{required:!0,message:s("required")}],children:(0,q.jsx)(i.A,{min:0,className:"w-100"})})}),(0,q.jsx)(l.A,{span:12,children:(0,q.jsx)(a.A.Item,{name:"type",label:s("type"),rules:[{required:!0,message:s("required")}],children:(0,q.jsx)(o.A,{options:w})})}),(0,q.jsx)(l.A,{span:24,children:(0,q.jsx)(a.A.Item,{name:"note",label:s("note"),children:(0,q.jsx)(A.A,{rows:3})})})]}),(0,q.jsx)(u.A,{type:"primary",htmlType:"submit",loading:k,disabled:k,children:s("submit")})]})})}},47992:(e,s,t)=>{t.d(s,{G:()=>u});var a=t(9950),n=t(95491),r=t.n(n),l=t(99674),i=t(90650),o=t(44414);const u=e=>{let{fetchOptions:s,debounceTimeout:t=400,...n}=e;const[u,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)([]),m=(0,a.useMemo)((()=>r()((e=>{h([]),c(!0),s(e).then((e=>{h(e),c(!1)}))}),t)),[s,t]);return(0,o.jsx)(l.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:u?(0,o.jsx)(i.A,{size:"small"}):"no results",...n,options:d,onFocus:()=>{d.length||m("")}})}}}]);
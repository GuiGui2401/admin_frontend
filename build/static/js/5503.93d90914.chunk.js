"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5503],{2777:(A,e,l)=>{l.d(e,{A:()=>N});var t=l(9950),n=l(34517),a=l(27741),i=l(92555),s=l(23164),d=l(20567),o=l(87094),r=l(41988),c=l(43093),u=l(47017),m=l(70030),v=l(86377),g=l(15836),x=l(64924),p=l(69554),h=l(81446),j=l(49348),y=l(63620),b=l(44414);const f=A=>{let{type:e,setCurrentType:l,setImageList:a,imageList:i,setIsModalOpen:c,form:u,name:f}=A;const{t:w}=(0,m.B)(),[C,E]=(0,t.useState)([]),[k,N]=(0,t.useState)(!1),[S,B]=(0,t.useState)(10),[M,I]=(0,t.useState)(1),[z,F]=(0,t.useState)(0),[Y,D]=(0,t.useState)(0);(0,t.useEffect)((()=>{(()=>{const A={type:e,length:S,skip:Y};N(!0),x.A.getAll(A).then((A=>{E(A.data),F(A.meta.total)})).finally((()=>N(!1)))})()}),[M,S,Y]);const T=A=>({uid:A,name:A,status:"done",url:y.sE+A,created:!0});return(0,b.jsx)("div",{className:"gallery-item ",children:(0,b.jsx)(d.A,{title:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("span",{className:"mr-3",onClick:()=>l(null),children:(0,b.jsx)(g.A,{})}),(0,b.jsx)(s.NVk,{style:{fontSize:"25px"}}),(0,b.jsx)("span",{className:"ml-2",children:w("gallery")})]}),children:k?(0,b.jsx)(h.A,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.A,{gutter:[24,24],children:null===C||void 0===C?void 0:C.map(((A,e)=>(0,b.jsx)(r.A,{children:(0,b.jsx)(d.A,{className:`mb-0 ${A.isset?"card-noActive":"card-active"} card-image`,children:(0,b.jsx)(n.A,{preview:!1,src:(0,p.A)(A.file),className:"images",alt:"images",onClick:()=>{return e=A.file,void(i.includes(e)?j.oR.warn("This image is already uploaded"):(c(!1),a((A=>[...A,T(e)])),Boolean(f)?u.setFieldsValue({[f]:T(e)}):u.setFieldsValue({images:[...i,T(e)]})));var e}})})},e)))}),(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(v.A,{total:z,pageSize:S,current:M,onChange:A=>{const{pageSize:e,current:l}=A,t=(l-1)*e;B(e),I(l),D(t)}})})]})})})},w=A=>{let{setImageList:e,imageList:l,setIsModalOpen:n,form:a,name:i}=A;const{t:v}=(0,m.B)(),[g,x]=(0,t.useState)(null);return(0,b.jsx)(b.Fragment,{children:g?(0,b.jsx)(f,{type:g,setCurrentType:x,setImageList:e,imageList:l,setIsModalOpen:n,form:a,name:i}):(0,b.jsx)(d.A,{className:"media-upload-gallery-container",children:(0,b.jsx)(o.A,{gutter:[24,24],children:["languages","categories","shops","brands","products","users"].map((A=>(0,b.jsx)(r.A,{...u.g,children:(0,b.jsx)(d.A,{cover:(0,b.jsx)(s.WNP,{className:"icon-folder"}),title:v(A),className:"folder",onClick:()=>x(A),children:(0,b.jsx)(c.A,{})})})))})})})};var C=l(78433),E=l(59334),k=l(44864);const N=A=>{let{imageList:e,setImageList:l,form:s,type:d,multiple:o=!0,name:r,disabled:c=!1}=A;const[u,m]=(0,t.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"media-upload-wrapper",children:[null===e||void 0===e?void 0:e.map((A=>(0,b.jsxs)("div",{className:"image-wrapper",onClick:()=>{c||(A=>{const t=e.filter((e=>e!==A));s.setFieldsValue({images:t}),l(t)})(A)},children:[(0,b.jsx)(n.A,{preview:!1,src:(0,p.A)(null===A||void 0===A?void 0:A.name),className:"images",alt:"images"}),!c&&(0,b.jsx)(C.A,{})]},A))),(o||!e.length)&&!c&&(0,b.jsxs)("div",{className:"media-upload",onClick:()=>{m(!0)},children:[(0,b.jsx)(E.A,{})," ",(0,b.jsx)("span",{children:"Upload"})]})]}),(0,b.jsx)(a.A,{onCancel:()=>{m(!1)},maskClosable:!0,visible:u,footer:!1,width:"80%",children:(0,b.jsxs)(i.A,{children:[(0,b.jsx)(i.A.TabPane,{tab:"Media files",children:(0,b.jsx)(w,{form:s,setImageList:l,imageList:e,setIsModalOpen:m,name:r})},"item-1"),(0,b.jsx)(i.A.TabPane,{tab:"Upload media",className:"upload-media",children:(0,b.jsx)(k.A,{type:d,disabled:!1,form:s,setFileList:l,fileList:e,setIsModalOpen:m})},"item-2")]})})]})}},8168:(A,e,l)=>{function t(A){switch(A){case"ascend":return"asc";case"descend":return"desc"}}l.d(e,{A:()=>t})},8297:(A,e,l)=>{l.d(e,{A:()=>d});var t=l(9950),n=l(93124),a=l(41397),i=l(52786),s=l(44414);function d(A){let{handleChange:e,defaultValue:l,resetSearch:d,...o}=A;const[r,c]=(0,t.useState)(l),u=(0,t.useMemo)((()=>(0,a.debounce)((A=>{e(A)}),800)),[]);return(0,t.useEffect)((()=>{c(l)}),[d]),(0,s.jsx)(n.A,{value:r,onChange:A=>{const{value:e}=A.target;c(e.replace(/\s/g,"")),u(e.replace(/\s/g,""))},prefix:(0,s.jsx)(i.A,{}),...o})}},28645:(A,e,l)=>{l.d(e,{A:()=>m});var t=l(9950),n=l(30377),a=l(69216),i=l(80737),s=l(25933),d=l(57811),o=l(72906),r=l(70030),c=l(44414);const{Text:u}=n.A,m=A=>{let{columns:e=[],setColumns:l}=A;const{t:n}=(0,r.B)(),[m,v]=(0,t.useState)(!1),g=(0,c.jsx)(a.A,{children:null===e||void 0===e?void 0:e.map(((A,t)=>(0,c.jsx)(a.A.Item,{children:(0,c.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,c.jsx)(u,{children:A.title}),(0,c.jsx)(s.A,{defaultChecked:!0,onClick:()=>{!function(A){const t=null===e||void 0===e?void 0:e.map((e=>(e.dataIndex===A.dataIndex&&(e.is_show=!(null!==e&&void 0!==e&&e.is_show)),e)));l(t)}(A)}})]})},t)))});return(0,c.jsx)(d.A,{overlay:g,trigger:["click"],onVisibleChange:A=>{v(A)},visible:m,children:(0,c.jsx)(o.A,{style:{fontSize:"26px"}})})}},29597:(A,e,l)=>{function t(A){if(null===A||void 0===A||!A.location)return{lat:47.4143302506288,lng:8.532059477976883};const e=A.location.split(", ");return{lat:Number(e[0]),lng:Number(e[1])}}l.d(e,{A:()=>t})},35116:(A,e,l)=>{l.d(e,{A:()=>o});l(9950);var t=l(48538),n=l(78433),a=l(49348),i=l(70030),s=l(13311),d=l(44414);function o(A){let{onClick:e,type:l="default",...o}=A;const{t:r}=(0,i.B)(),{isDemo:c}=(0,s.A)();return(0,d.jsx)(t.A,{icon:(0,d.jsx)(n.A,{}),onClick:()=>{console.log(c),c?a.oR.warning(r("cannot.work.demo")):e()},type:l,...o})}},41478:(A,e,l)=>{A.exports=l.p+"static/media/user.fbe7078c52acde79652d.jpg"},43093:(A,e,l)=>{l.d(e,{A:()=>a});l(9950);var t=l(48538),n=l(44414);const a=()=>(0,n.jsx)("span",{className:"icon-center",children:(0,n.jsx)(t.A,{type:"primary",danger:!0,shape:"circle",size:"small"})})},44864:(A,e,l)=>{l.d(e,{A:()=>m});var t=l(9950),n=l(90650),a=l(92759),i=l(2327),s=l(27741),d=l(59334),o=l(64924),r=l(63620),c=l(70030),u=l(44414);const m=A=>{let{fileList:e,setFileList:l,type:m,form:v}=A;const{t:g}=(0,c.B)(),[x,p]=(0,t.useState)(!1),[h,j]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[f,w]=(0,t.useState)(!1),C=A=>({uid:A.title,name:A.title,status:"done",url:r.sE+A.title,created:!0}),E=f?(0,u.jsx)("div",{children:(0,u.jsx)(n.A,{})}):(0,u.jsxs)("div",{children:[(0,u.jsx)(d.A,{}),(0,u.jsx)("div",{style:{marginTop:8},children:g("upload")})]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{listType:"picture-card",fileList:e,onPreview:async A=>{A.url||A.preview||(A.preview=await(A=>new Promise(((e,l)=>{const t=new FileReader;t.readAsDataURL(A),t.onload=()=>e(t.result),t.onerror=A=>l(A)})))(A.originFileObj)),j(A.url||A.preview),p(!0),b(A.name||A.url.substring(A.url.lastIndexOf("/")+1))},onChange:A=>{let{fileList:e}=A},customRequest:A=>{let{file:t,onSuccess:n}=A;w(!0);const a=new FormData;a.append("image",t),a.append("type",m),o.A.upload(a).then((A=>{let{data:t}=A;l((A=>[...A,C(t)])),v.setFieldsValue({images:[...e,C(t)]}),n("ok")})).finally((()=>w(!1)))},onRemove:A=>{l((e=>e.filter((e=>e.uid!==A.uid))))},beforeUpload:A=>{const e="image/jpeg"===A.type||"image/png"===A.type||"image/jpg"===A.type||"image/svg+xml"===A.type||"image/webp"===A.type;e||a.Ay.error("You can only upload JPG/PNG/SVG/WEBP file!");const l=A.size/1024/1024<2;return l||a.Ay.error("Image must smaller than 2MB!"),e&&l},accept:"image/*",children:e.length>=24?null:E}),(0,u.jsx)(s.A,{visible:x,title:y,footer:null,onCancel:()=>p(!1),children:(0,u.jsx)("img",{alt:"example",style:{width:"100%"},src:h})})]})}},47017:(A,e,l)=>{l.d(e,{g:()=>t});const t={xs:12,sm:12,md:8,lg:8,xxl:4,xl:6}},53774:(A,e,l)=>{function t(A){if(!A)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(A).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(e,{A:()=>t})},69554:(A,e,l)=>{l.d(e,{A:()=>n});l(63620);const t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/7gAOQWRvYmUAZMAAAAAB/9sAQwAQCwsLDAsQDAwQFw8NDxcbFBAQFBsfFxcXFxcfHhcaGhoaFx4eIyUnJSMeLy8zMy8vQEBAQEBAQEBAQEBAQEBA/9sAQwERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgB8QOEAwEiAAIRAQMRAf/EABkAAQEBAQEBAAAAAAAAAAAAAAAEAwIBBv/EACsQAQABAgQEBgMBAQEAAAAAAAABAgMREzFRBDJhcRIUIUFSgSIzkUKhsf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD7oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHk1UxrMQD0cTetx74uZ4in2iZBqJ54ir2iIczduT7/wFQjmZnWcVcTjETuD0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAczXRGtUOZv0RvINBjPEbU/1zN+udMIBQ8mYjX0SzcrnWqXgKZu24/05m/R7RMpwG08RPtDmb1yffBm9B7NdU6zLl1FuudKZdxYrnXCAZDeOH3q/jqLFEdQTPVUUURpEOL8fhjtIJ1VqcbcJVHDz+MxtINQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZTfiPSIcTfq9oiHNyMK6o6uAdzduT7/wAczMzrOJETOkYuotXJ9v6Dgaxw9XvMQ6jh6feZkGAqizbj2x7uoppjSIgEsU1TpEy6izcn2w7qQGEcPPvLqLFHvMy1AcRatx/l1ERGno9AAAAAHNyMaKo6OifWMARNuHn1mGU+k4O7M4XI6+gKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAT34wrx3hk34iOWfpgCymcaYneHrizONuOno7AeYxu9SXOeruCrxU7weKneEYCzxU7weKneEYCzxU7weKneEYCzxU7weKneEYCzxU7weKneEYCzxU7weKneEYCzxU7weKneEYDq56Vz3KZwqidpcgLPFTvB4qd4RgLPFTvB4qd4RgLImJ0eseH0nu2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABnfjG32TK64xomOiQG/Dz+MxtLZPYn8pjeFACS5z1d1aS5z1dweRGM4bu8i50c080d4VgmyLnQyLnRvmUfJ5m2/lAMci50Mi50bZtv5QZtv5QDHIudDIudG2bb+UGbb+UAxyLnQyLnRtm2/lBm2/lAMci50Mi50bZtv5QZtv5QDHIudDIudG2bb+UGbb+UAxyLnQyLnRtm2/lBm2/lAMci50Mi50bZtv5Q6pqpq0nEE1VqqmMZ0cKb/6/tMDfh9J7tmPD6T3bAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI5jCZjZYluxhckC1OFyP4qRxOExOywBJc56u6tJc56u4FPNHeFaSnmjvCsEc6vHs6vAHXhq1wnDs3tW4piJnmn/jQEQpu24qiao5o/wCpgAAAAAAAAG3D61MW3D61A7v/AK/tMpv/AK/tMDfh9J7tmPD6T3bAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ+Ij8oneFDLiI/GJ2kE6uicaInokU2Jxo7SDRJc56u6tJc56u4FPNHeFaSnmjvCsEc6hOrwFoxtXYiPDV9S18VOuMA9Rtrt2Jjw0/csAAAAegREzOEatfLzhr6+8O7VvwxjPN/40BHMTE4TrDxTdt+OMY5oTg8bcPrUxbcPrUDu/8Ar+0ym/8Ar+0wN+H0nu2Y8PpPdsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4vRjbnp6u3lUY0zG8Ajb8PPNH2waWJwrw3gFKS5z1d1aS5z1dwKeaO8K0lPNHeFYI51ePZ1eAAAAAAAKLVrD8qtfaHNm1/qr6huAAAyvW8fyp194agIm3D61F63h+VOnvBw+tQO7/6/tMpv/r+0wN+H0nu2Y8PpPdsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSqMKpjqW5wrpnq6vRhcnq4BYkuc9XdVE4xE7pbnPV3Ap5o7wrSU80d4VgjnV49nV4ANKLVVfrpG7em3TTGER3BINq7HvR/GUxMekg8a2rXi/KrT2jd5at+KcZ5Y/6pAAAAAAAcUW/BVMxpLsBnf/AF/aZTf/AF/aYG/D6T3bMeH0nu2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABhxEesSxUX4/CJ2lOCq1ONuE9znq7trE/hMbSxuc9XcCnmjvCtJTzR3hWCPCZnCPWW9FmI9avWdndNNNOkOgAAHNVFNesfboB5EREYRo9AAAAAAAAAGd/9f2mU3/1/aYG/D6T3bMeH0nu2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxdjG3UlWTGMTG6QCJmNJweOooqnSJeTExOE6g9p5o7wrRxOExOzbzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDYY+YjaTzEbSDq/wDr+0zW5diunDDBkDfh9J7tmPD6T3bAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPIiI0jB6AJLnPV3VuJtUTOMx6yCUU5NvYybewJhTk29jJt7AmFOTb2Mm3sCYU5NvYybewJhTk29jJt7AmFOTb2Mm3sCYU5NvYybewJhTk29jJt7AmFOTb2Mm3sCYU5NvYybewOeH0nu2c00U08vu6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==";function n(A){return A||t}},73631:(A,e,l)=>{A.exports=l.p+"static/media/shop.46d7a94ca800c711764a.png"},78498:(A,e,l)=>{l.d(e,{A:()=>v});var t=l(9950),n=l(97239),a=l(63620);const i=l.p+"static/media/pin.0e41858db80c699cd8a2.png";var s=l(96011),d=l.n(s),o=l(46125);const{formLang:{defaultLang:r}}=o.M.getState();async function c(A){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AIzaSyDZQUsmwnkCmD3HMNFCABo8YSE54FCTFYo",l={language:r||"en",latlng:`${null===A||void 0===A?void 0:A.lat},${null===A||void 0===A?void 0:A.lng}`,key:e};return d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((A=>{var e;let{data:l}=A;return null===(e=l.results[0])||void 0===e?void 0:e.formatted_address})).catch((A=>(console.log(A),"not found")))}var u=l(39174),m=l(44414);const v=(0,n.GoogleApiWrapper)({apiKey:a.CJ})((function(A){const[e,l]=(0,t.useState)(),s=async()=>{await navigator.geolocation.getCurrentPosition((function(A){const e={lat:A.coords.latitude,lng:A.coords.longitude};l(e)}))};(0,t.useEffect)((()=>{s()}),[]);const d=[{lat:Number(A.location.lat)||0,lng:Number(A.location.lng)||0}];for(var o=new A.google.maps.LatLngBounds,r=0;r<d.length;r++)o.extend(d[r]);return(0,m.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,m.jsx)("button",{className:"map-button",type:"button",onClick:()=>{s(),(async e=>{const l={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng};A.setLocation(l);const t=await c(l,a.CJ);A.setAddress(t)})(e)},children:(0,m.jsx)(u.uFi,{})}),(0,m.jsx)(n.Map,{cursor:"pointer",onClick:async(e,l,t)=>{const{latLng:n}=t,i={lat:n.lat(),lng:n.lng()};A.setLocation(i);const s=await c(i,a.CJ);A.setAddress(s)},google:A.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:A.location,center:A.location,children:(0,m.jsx)(n.Marker,{position:A.location,icon:{url:i,scaledSize:new A.google.maps.Size(32,32)},className:"marker"})})]})}))},86540:(A,e,l)=>{l.r(e),l.d(e,{default:()=>K});var t=l(53387),n=l(90582),a=l(47965),i=l(78433),s=l(21848),d=l(48538),o=l(80737),r=l(92759),c=l(20567),u=l(99674),m=l(3754),v=l(9950),g=l(70030),x=l(91854),p=l(28429),h=l(49348),j=l(35116),y=l(28645),b=l(55386),f=l(76372),w=l(74623),C=l(64272),E=l(76083),k=l(53774),N=l(39174),S=l(69286),B=l(27741),M=l(63620),I=l(41478),z=(l(73631),l(29597)),F=l(44414);const Y=()=>(0,F.jsx)("img",{src:I,width:"50",alt:"Pin"}),D=A=>{var e,l,t,n;let{id:a,handleCancel:i}=A;const{t:s}=(0,g.B)(),{settings:o}=(0,x.d4)((A=>A.globalSettings),x.bN),r=(0,z.A)(o),c={lat:null===a||void 0===a||null===(e=a.delivery_man_setting)||void 0===e||null===(l=e.location)||void 0===l?void 0:l.latitude,lng:null===a||void 0===a||null===(t=a.delivery_man_setting)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.longitude},{google_map_key:u}=(0,x.d4)((A=>A.globalSettings.settings),x.bN);return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(B.A,{visible:!!a,title:s("show.locations"),closable:!1,style:{minWidth:"80vw"},footer:[(0,F.jsx)(d.A,{type:"default",onClick:i,children:s("cancel")},"cancelBtn")],children:(0,F.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,F.jsx)(S.Ay,{bootstrapURLKeys:{key:void 0===u?M.CJ:u},defaultZoom:10,center:r,options:{fullscreenControl:!1},children:null!==(null===a||void 0===a?void 0:a.delivery_man_setting)?(0,F.jsx)(Y,{lat:null===c||void 0===c?void 0:c.lat,lng:null===c||void 0===c?void 0:c.lng}):null})})})})};var T=l(25887),Q=l(87094),_=l(41988),U=l(93124),L=l(81446),O=l(2777),q=l(78498);const R=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],P=A=>{let{data:e,handleCancel:l}=A;const{t:t}=(0,g.B)(),[n]=T.A.useForm(),a=(0,x.wA)(),[i,s]=(0,v.useState)(!1),[r,c]=(0,v.useState)(!1),[m,p]=(0,v.useState)([]),{settings:h}=(0,x.d4)((A=>A.globalSettings),x.bN),[j,y]=(0,v.useState)((0,z.A)(h)),b=A=>A.map((A=>({uid:A.id,name:A.path,url:A.path})));return(0,v.useEffect)((()=>{var A;e.settingsId&&(A=e.settingsId,c(!0),C.A.getById(A).then((A=>{var e,l,t,a,i,s,d,o;const r={...A.data,user_id:{label:A.data.deliveryMan.firstname+" "+A.data.deliveryMan.firstname,value:A.data.deliveryMan.id,images:b(A.data.galleries),location:{lat:null===(e=A.data)||void 0===e||null===(l=e.location)||void 0===l?void 0:l.latitude,lng:null===(t=A.data)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.longitude}}};y({lat:null===(i=A.data)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.latitude,lng:null===(d=A.data)||void 0===d||null===(o=d.location)||void 0===o?void 0:o.longitude}),p(b(A.data.galleries)),n.setFieldsValue(r)})).finally((()=>c(!1))))}),[]),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(B.A,{visible:!!e,title:e.id?t("edit.delivery.setting"):t("add.delivery.setting"),closable:!1,style:{minWidth:"80vw"},footer:[(0,F.jsxs)(o.A,{children:[(0,F.jsx)(d.A,{type:"primary",htmlType:"submit",onClick:()=>n.submit(),loading:i,children:t("submit")},"submit"),(0,F.jsx)(d.A,{type:"default",onClick:l,children:t("cancel")},"cancelBtn")]})],children:(0,F.jsx)(T.A,{name:"basic",layout:"vertical",onFinish:A=>{s(!0);const t={...A,user_id:e.id,images:m.map((A=>A.name)),location:{latitude:j.lat,longitude:j.lng}};e.settingsId?C.A.update(e.settingsId,t).then((()=>{l(),a((0,f.N)())})).finally((()=>s(!0))):C.A.create(t).then((()=>{l(),a((0,f.N)())})).finally((()=>s(!0)))},form:n,children:r?(0,F.jsx)(L.A,{}):(0,F.jsxs)(Q.A,{gutter:12,children:[(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("brand"),name:"brand",rules:[{required:!0,message:t("required")}],children:(0,F.jsx)(U.A,{})})}),(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("model"),name:"model",rules:[{required:!0,message:t("required")}],children:(0,F.jsx)(U.A,{})})}),(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:t("required")}],children:(0,F.jsx)(u.A,{options:R})})}),(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("car.number"),name:"number",rules:[{required:!0,message:t("required")}],children:(0,F.jsx)(U.A,{})})}),(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("car.color"),name:"color",rules:[{required:!0,message:t("required")}],children:(0,F.jsx)(U.A,{})})}),(0,F.jsx)(_.A,{span:12,children:(0,F.jsx)(T.A.Item,{label:t("image"),name:"images",children:(0,F.jsx)(O.A,{type:"deliveryman/setting",imageList:m,setImageList:p,form:n,length:"1",multiple:!0})})}),(0,F.jsx)(_.A,{span:24,children:(0,F.jsx)(T.A.Item,{label:t("map"),name:"location",children:(0,F.jsx)(q.A,{location:j,setLocation:y})})})]})})})})};var J=l(8297),V=l(88986),G=l(8168);const H=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"}],K=()=>{var A,e,l;const{t:S}=(0,g.B)(),B=(0,x.wA)(),M=(0,p.Zp)(),{setIsModalVisible:I}=(0,v.useContext)(b.o),[z,Y]=(0,v.useState)(null),[T,Q]=(0,v.useState)(!1),[_,U]=(0,v.useState)(null),[L,O]=(0,v.useState)(null),[q,R]=(0,v.useState)(null),{activeMenu:K}=(0,x.d4)((A=>A.menu),x.bN),Z=null===K||void 0===K?void 0:K.data,W={search:null!==Z&&void 0!==Z&&Z.search?Z.search:void 0,type_of_technique:null===Z||void 0===Z?void 0:Z.type,sort:null===Z||void 0===Z?void 0:Z.sort,column:null===Z||void 0===Z?void 0:Z.column,pageSize:null===Z||void 0===Z?void 0:Z.per_page,page:(null===Z||void 0===Z?void 0:Z.page)||1},{delivery:X,loading:$,meta:AA}=(0,x.d4)((A=>A.deliveries),x.bN),{defaultCurrency:eA}=(0,x.d4)((A=>A.currency),x.bN),lA=()=>{O(null),R(null)},[tA,nA]=(0,v.useState)([{title:S("id"),dataIndex:"id",key:"id",is_show:!0},{title:S("name"),dataIndex:"name",key:"name",is_show:!0,render:(A,e)=>(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)},{title:S("orders"),dataIndex:"count",key:"count",is_show:!0,sorter:!0,render:(A,e)=>{var l;return null===e||void 0===e||null===(l=e.deliveryman_orders)||void 0===l?void 0:l.length}},{title:S("rate"),dataIndex:"rating",key:"rating",is_show:!0,sorter:!0,render:(A,e)=>(0,F.jsx)(s.A,{className:"mt-3 ml-3",disabled:!0,allowHalf:!0,value:void 0!==(null===e||void 0===e?void 0:e.assign_reviews_avg_rating)?null===e||void 0===e?void 0:e.assign_reviews_avg_rating:0})},{title:S("wallet"),dataIndex:"wallet_sum",key:"wallet_sum",is_show:!0,sorter:!0,render:(A,e)=>{var l;return(0,k.A)(null===e||void 0===e||null===(l=e.wallet)||void 0===l?void 0:l.price,eA.symbol)}},{title:S("delivery.man.setting"),dataIndex:"setting",key:"setting",is_show:!0,render:(A,e)=>{var l,a,i,s;return null===(null===e||void 0===e?void 0:e.delivery_man_setting)?(0,F.jsx)(d.A,{icon:(0,F.jsx)(t.A,{}),onClick:()=>R({id:null===e||void 0===e?void 0:e.id}),children:S("add.settings")}):(0,F.jsxs)(o.A,{children:[(0,F.jsxs)("span",{children:[S("brand"),": ",null===e||void 0===e||null===(l=e.delivery_man_setting)||void 0===l?void 0:l.brand,(0,F.jsx)("br",{}),S("model"),": ",null===e||void 0===e||null===(a=e.delivery_man_setting)||void 0===a?void 0:a.model,(0,F.jsx)("br",{}),S("number"),": ",null===e||void 0===e||null===(i=e.delivery_man_setting)||void 0===i?void 0:i.number,(0,F.jsx)("br",{}),S("color"),": ",null===e||void 0===e||null===(s=e.delivery_man_setting)||void 0===s?void 0:s.color]}),null!==(null===e||void 0===e?void 0:e.delivery_man_setting)?(0,F.jsx)(n.A,{onClick:()=>{var A;return R({settingsId:null===e||void 0===e||null===(A=e.delivery_man_setting)||void 0===A?void 0:A.id,id:null===e||void 0===e?void 0:e.id})}}):""]})}},{title:S("options"),key:"options",dataIndex:"options",is_show:!0,render:(A,e)=>(0,F.jsxs)(o.A,{children:[(0,F.jsx)(d.A,{icon:(0,F.jsx)(N.kMs,{}),onClick:()=>O(e)}),(0,F.jsx)(d.A,{icon:(0,F.jsx)(a.A,{}),onClick:()=>(A=>{B((0,w.X4)({name:"delivery.orders",id:"delivery_orders",url:`delivery/orders/${A.id}`})),M(`/delivery/orders/${A.id}`)})(e)}),(0,F.jsx)(d.A,{type:"primary",icon:(0,F.jsx)(n.A,{}),onClick:()=>(A=>{B((0,w.X4)({url:`user/delivery/${A.uuid}`,id:"delivery_edit",name:S("delivery.edit")})),M(`/user/delivery/${A.uuid}`)})(e)}),(0,F.jsx)(j.A,{icon:(0,F.jsx)(i.A,{}),onClick:()=>{Y([e.id]),I(!0),U(!0)}})]})}]);(0,v.useEffect)((()=>{K.refetch&&(B((0,f.N)(W)),B((0,w.km)(K)))}),[K.refetch]),(0,V.A)((()=>{B((0,f.N)(W))}),[K.data]);const aA=(A,e)=>{B((0,w.Ok)({activeMenu:K,data:{...K.data,[e]:A}}))};return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(c.A,{title:S("delivery"),extra:(0,F.jsxs)(o.A,{children:[(0,F.jsx)(u.A,{placeholder:S("type.of.technique"),style:{width:"150px"},options:H,onChange:A=>aA(A,"type"),allowClear:!0}),(0,F.jsx)(d.A,{type:"primary",icon:(0,F.jsx)(t.A,{}),onClick:()=>{B((0,w.X4)({id:"user-add-role",url:"add/user/delivery/deliveryman",name:S("add.deliveryman")})),M("/add/user/delivery/deliveryman")},children:S("add.delivery")}),(0,F.jsx)(y.A,{columns:tA,setColumns:nA})]}),children:[(0,F.jsx)(J.A,{placeholder:S("search"),className:"w-25",handleChange:A=>aA(A,"search"),resetSearch:!(null!==(A=K.data)&&void 0!==A&&A.search),defaultValue:null===(e=K.data)||void 0===e?void 0:e.search}),(0,F.jsx)(m.A,{scroll:{x:1024},columns:null===tA||void 0===tA?void 0:tA.filter((A=>A.is_show)),dataSource:X,pagination:{pageSize:AA.per_page,page:(null===Z||void 0===Z?void 0:Z.page)||1,total:AA.total,defaultCurrent:null===Z||void 0===Z?void 0:Z.page,current:null===(l=K.data)||void 0===l?void 0:l.page},rowKey:A=>A.id,onChange:function(A,e,l){const{pageSize:t,current:n}=A,{field:a,order:i}=l,s=(0,G.A)(i);B((0,w.Ok)({activeMenu:K,data:{...Z,perPage:t,page:n,column:a,sort:s}}))},loading:$}),(0,F.jsx)(E.A,{click:()=>{Q(!0),C.A.delete(z[0]).then((()=>{h.oR.success(S("successfully.deleted")),B((0,f.N)(W)),I(!1),U(null)})).catch((A=>{var e,l;r.Ay.error(null===(e=A.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)})).finally((()=>Q(!1)))},text:S(_?"delete":"all.delete"),setText:Y,loading:T}),L&&(0,F.jsx)(D,{id:L,handleCancel:lA}),q&&(0,F.jsx)(P,{data:q,handleCancel:lA})]})})}}}]);
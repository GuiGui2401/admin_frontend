"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3266],{23266:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var s=l(9950),t=l(25887),i=l(20567),n=l(87094),r=l(41988),d=l(93124),u=l(25933),c=l(48538),m=l(49348),h=l(28429),o=l(12437),A=l(91854),g=l(74623),x=l(70030),j=l(62466),b=l(54218),p=l(81446),f=l(88745),v=l(44414);function y(){var e;const{t:a}=(0,x.B)(),l=(0,h.Zp)(),{id:y}=(0,h.g)(),k=(0,A.wA)(),[I]=t.A.useForm(),{activeMenu:N}=(0,A.d4)((e=>e.menu),A.bN),[q,w]=(0,s.useState)(!1),[E,F]=(0,s.useState)(!1),[P,R]=(0,s.useState)((null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.image)||null);return(0,s.useEffect)((()=>{y&&(e=>{w(!0),o.A.getById(e).then((e=>{let a=e.data;R((0,j.A)(a.img)),I.setFieldsValue({...a,image:(0,j.A)(a.img)})})).finally((()=>w(!1)))})(y)}),[y]),(0,v.jsx)(i.A,{title:a(y?"edit.language":"add.language"),children:q?(0,v.jsx)(p.A,{}):(0,v.jsxs)(t.A,{form:I,name:"form",layout:"vertical",onFinish:e=>{F(!0);const s={title:e.title,locale:e.locale,images:[null===P||void 0===P?void 0:P.name],active:Number(e.active),backward:Number(e.backward),default:Number(e.default)};console.log("payload => ",s);const t="settings/languages";y?o.A.update(y,s).then((()=>{k((0,f.l)()),m.oR.success(a("successfully.updated")),k((0,g.EK)({...N,nextUrl:t})),l(`/${t}`)})).finally((()=>F(!1))):o.A.create(s).then((()=>{k((0,f.l)()),m.oR.success(a("successfully.created")),k((0,g.EK)({...N,nextUrl:t})),l(`/${t}`)})).finally((()=>F(!1)))},children:[(0,v.jsxs)(n.A,{gutter:12,children:[(0,v.jsx)(r.A,{span:12,children:(0,v.jsx)(t.A.Item,{label:a("title"),name:"title",rules:[{required:!0,message:a("required")}],children:(0,v.jsx)(d.A,{})})}),(0,v.jsx)(r.A,{span:12,children:(0,v.jsx)(t.A.Item,{label:a("short.code"),name:"locale",rules:[{required:!0,message:a("required")}],children:(0,v.jsx)(d.A,{})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)(t.A.Item,{label:a("image"),name:"image",rules:[{required:!0,message:a("required")}],children:(0,v.jsx)(b.A,{type:"languages",image:P,setImage:R,form:I})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)(t.A.Item,{label:a("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(u.A,{})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)(t.A.Item,{label:"RTL",name:"backward",valuePropName:"checked",children:(0,v.jsx)(u.A,{})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)(t.A.Item,{label:a("default"),name:"default",valuePropName:"checked",children:(0,v.jsx)(u.A,{})})})]}),(0,v.jsx)(c.A,{type:"primary",htmlType:"submit",loading:E,children:a("save")})]})})}}}]);
"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5789],{8168:(e,t,o)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}o.d(t,{A:()=>a})},8297:(e,t,o)=>{o.d(t,{A:()=>s});var a=o(9950),n=o(55902),l=o(41397),d=o(60767),i=o(44414);function s(e){let{handleChange:t,defaultValue:o,resetSearch:s,...r}=e;const[c,u]=(0,a.useState)(o),v=(0,a.useMemo)((()=>(0,l.debounce)((e=>{t(e)}),800)),[]);return(0,a.useEffect)((()=>{u(o)}),[s]),(0,i.jsx)(n.A,{value:c,onChange:e=>{const{value:t}=e.target;u(t.replace(/\s/g,"")),v(t.replace(/\s/g,""))},prefix:(0,i.jsx)(d.A,{}),...r})}},13435:()=>{},15789:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var a=o(9950),n=(o(13435),o(24513)),l=o(67376),d=o(44070),i=o(52911),s=o(80737),r=o(48538),c=o(20567),u=o(87094),v=o(41988),h=o(73092),p=o(28429),g=o(49348),m=o(63620),x=o(55386),A=o(76083),f=o(91854),j=o(74623),y=o(47933),b=o(32801),C=o(88986),w=o(47992),k=o(37963),_=o(62572),S=o(8297),I=o(8168),z=o(70030),M=o(35116),O=o(28645),R=o(55660),N=o(44414);const P=()=>{var e,t,o,P,$;const{t:B}=(0,z.B)(),X=(0,f.wA)(),E=(0,p.Zp)(),[G,V]=(0,a.useState)([{title:B("id"),is_show:!0,dataIndex:"id",sorter:(e,t)=>e.id-t.id},{title:B("image"),dataIndex:"img",is_show:!0,render:e=>(0,N.jsx)(i.A,{width:100,src:m.sE+e,placeholder:!0,style:{borderRadius:4}})},{title:B("name"),dataIndex:"name",is_show:!0},{title:B("category"),dataIndex:"category_name",is_show:!0},{title:B("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,N.jsxs)(s.A,{children:[(0,N.jsx)(r.A,{type:"primary",icon:(0,N.jsx)(n.A,{}),onClick:()=>W(t.uuid,!!t.gift)}),(0,N.jsx)(r.A,{type:"success",icon:(0,N.jsx)(l.A,{}),onClick:()=>F(t.uuid)}),(0,N.jsx)(M.A,{icon:(0,N.jsx)(d.A,{}),onClick:()=>{D(!0),T(t.uuid),q(!0)}})]})}]),W=(e,t)=>{t?(X((0,j.X4)({id:"gift-card-edit",url:`gift-card/${e}`,name:B("edit.gift.card")})),E(`/gift-card/${e}`)):(X((0,j.X4)({id:"product-edit",url:`product/${e}`,name:B("edit.product")})),E(`/product/${e}`))},F=e=>{X((0,j.X4)({id:"product-clone",url:`product-clone/${e}`,name:B("clone.product")})),E(`/product-clone/${e}`)},[K,T]=(0,a.useState)(!1),{setIsModalVisible:D}=(0,a.useContext)(x.o),[Z,q]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[L,Q]=(0,a.useState)(!1),{activeMenu:U}=(0,f.d4)((e=>e.menu),f.bN),[Y,ee]=(0,a.useState)([]),{products:te,meta:oe,loading:ae,params:ne}=(0,f.d4)((e=>e.product),f.bN);(0,C.A)((()=>{var e,t,o;const a=U.data,n={search:null===a||void 0===a?void 0:a.search,brand_id:null===a||void 0===a||null===(e=a.brand)||void 0===e?void 0:e.value,category_id:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.value,shop_id:null===a||void 0===a||null===(o=a.shop)||void 0===o?void 0:o.value,sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};X((0,b.j0)(n))}),[U.data]),(0,a.useEffect)((()=>{var e,t,o;const a=U.data,n={search:null===a||void 0===a?void 0:a.search,brand_id:null===a||void 0===a||null===(e=a.brand)||void 0===e?void 0:e.value,category_id:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.value,shop_id:null===a||void 0===a||null===(o=a.shop)||void 0===o?void 0:o.value,sort:null===a||void 0===a?void 0:a.sort,column:null===a||void 0===a?void 0:a.column,perPage:null===a||void 0===a?void 0:a.perPage,page:null===a||void 0===a?void 0:a.page};U.refetch&&(X((0,b.j0)(n)),X((0,j.km)(U)))}),[U.refetch]);const le=(e,t)=>{X((0,j.Ok)({activeMenu:U,data:{...U.data,[t]:e}}))};const de={selectedRowKeys:Y,onChange:e=>{ee(e)}};return(0,N.jsxs)(c.A,{title:B("products"),extra:(0,N.jsxs)(s.A,{children:[(0,N.jsx)(w.G,{placeholder:B("select.shop"),fetchOptions:async function(e){const t={search:e};return R.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>le(e,"shop"),value:null===(e=U.data)||void 0===e?void 0:e.shop}),(0,N.jsx)(r.A,{onClick:()=>{var e,t;Q(!0),y.A.export({shop_id:(null===(e=U.data)||void 0===e||null===(t=e.shop)||void 0===t?void 0:t.value)||null}).then((e=>{const t=m.bb+e.data.file_name;window.location.href=t})).finally((()=>Q(!1)))},loading:L,children:B("export")}),(0,N.jsx)(r.A,{onClick:()=>{X((0,j.X4)({id:"product-import",url:"catalog/product/import",name:B("product.import")})),E("/catalog/product/import")},children:B("import")}),(0,N.jsx)(O.A,{columns:G,setColumns:V})]}),children:[(0,N.jsxs)(u.A,{gutter:24,className:"mb-2",children:[(0,N.jsx)(v.A,{span:12,children:(0,N.jsxs)(s.A,{children:[(0,N.jsx)(S.A,{placeholder:B("search"),handleChange:e=>le(e,"search")}),(0,N.jsx)(w.G,{placeholder:B("select.category"),fetchOptions:async function(e){const t={search:e};return _.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>le(e,"category"),value:null===(t=U.data)||void 0===t?void 0:t.category}),(0,N.jsx)(w.G,{placeholder:B("select.brand"),fetchOptions:async function(e){return k.A.search(e).then((e=>{let{data:t}=e;return t.map((e=>({label:e.title,value:e.id})))}))},style:{minWidth:150},onChange:e=>le(e,"brand"),value:null===(o=U.data)||void 0===o?void 0:o.brand})]})}),(0,N.jsx)(v.A,{span:12,className:"d-flex justify-content-end",children:(0,N.jsxs)(s.A,{children:[(0,N.jsx)(r.A,{type:"primary",onClick:()=>{X((0,j.X4)({id:"product-add",url:"product/add",name:B("add.product")})),E("/product/add")},children:B("add.product")}),(0,N.jsx)(r.A,{className:"",type:"danger",onClick:()=>{J(!0),y.A.deleteAll({productIds:Y}).then((()=>{D(!1),g.oR.success(B("successfully.deleted")),X((0,b.j0)(ne))})).finally((()=>J(!1)))},disabled:Boolean(!(null!==Y&&void 0!==Y&&Y.length)),children:B("delete.all")})]})})]}),(0,N.jsx)(h.A,{rowSelection:de,loading:ae,columns:null===G||void 0===G?void 0:G.filter((e=>e.is_show)),dataSource:te,pagination:{pageSize:ne.perPage,page:(null===(P=U.data)||void 0===P?void 0:P.page)||1,total:oe.total,defaultCurrent:null===($=U.data)||void 0===$?void 0:$.page},onChange:function(e,t){const{pageSize:o,current:a}=e,{field:n,order:l}=t,d=(0,I.A)(l);X((0,j.Ok)({activeMenu:U,data:{...U.data,perPage:o,page:a,column:n,sort:d}}))},rowKey:e=>e.id}),(0,N.jsx)(A.A,{click:Z?()=>{J(!0),y.A.delete(K).then((()=>{D(!1),g.oR.success(B("successfully.deleted")),X((0,b.j0)(ne))})).finally((()=>J(!1)))}:()=>{J(!0),y.A.setActive(K).then((()=>{D(!1),X((0,b.j0)(ne)),g.oR.success(B("successfully.updated"))})).finally((()=>J(!1)))},text:B(Z?"delete.product":"set.active.product"),loading:H})]})}},28645:(e,t,o)=>{o.d(t,{A:()=>h});var a=o(9950),n=o(66362),l=o(69216),d=o(80737),i=o(25933),s=o(57811),r=o(72906),c=o(70030),u=o(44414);const{Text:v}=n.A,h=e=>{let{columns:t=[],setColumns:o}=e;const{t:n}=(0,c.B)(),[h,p]=(0,a.useState)(!1),g=(0,u.jsx)(l.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,u.jsx)(l.A.Item,{children:(0,u.jsxs)(d.A,{className:"d-flex justify-content-between",children:[(0,u.jsx)(v,{children:e.title}),(0,u.jsx)(i.A,{defaultChecked:!0,onClick:()=>{!function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));o(a)}(e)}})]})},a)))});return(0,u.jsx)(s.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{p(e)},visible:h,children:(0,u.jsx)(r.A,{style:{fontSize:"26px"}})})}},35116:(e,t,o)=>{o.d(t,{A:()=>r});o(9950);var a=o(48538),n=o(44070),l=o(49348),d=o(70030),i=o(13311),s=o(44414);function r(e){let{onClick:t,type:o="default",...r}=e;const{t:c}=(0,d.B)(),{isDemo:u}=(0,i.A)();return(0,s.jsx)(a.A,{icon:(0,s.jsx)(n.A,{}),onClick:()=>{console.log(u),u?l.oR.warning(c("cannot.work.demo")):t()},type:o,...r})}},47992:(e,t,o)=>{o.d(t,{G:()=>r});var a=o(9950),n=o(95491),l=o.n(n),d=o(99674),i=o(90650),s=o(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:o=400,...n}=e;const[r,c]=(0,a.useState)(!1),[u,v]=(0,a.useState)([]),h=(0,a.useMemo)((()=>l()((e=>{v([]),c(!0),t(e).then((e=>{v(e),c(!1)}))}),o)),[t,o]);return(0,s.jsx)(d.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,notFoundContent:r?(0,s.jsx)(i.A,{size:"small"}):"no results",...n,options:u,onFocus:()=>{u.length||h("")}})}},72906:(e,t,o)=>{o.d(t,{A:()=>s});var a=o(89379),n=o(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};var d=o(25085),i=function(e,t){return n.createElement(d.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:l}))};const s=n.forwardRef(i)}}]);
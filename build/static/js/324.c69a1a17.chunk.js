"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[324],{20324:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(9950),n=t(28429),u=t(49348),r=t(87827),l=t(20567),d=t(87094),i=t(41988),o=t(56952),c=t(33022),h=t(25933),p=t(48538),m=t(91854),x=t(74623),b=t(67231),j=t(47992),A=t(70030),_=t(59051),f=t.n(_),q=t(96591),y=t(39095),g=t(44414);const v=()=>{const{t:e}=(0,A.B)(),{activeMenu:s}=(0,m.d4)((e=>e.menu),m.bN),t=(0,m.wA)(),[_]=r.A.useForm(),v=(0,n.Zp)(),[w,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const e=_.getFieldsValue(!0);t((0,x.Ok)({activeMenu:s,data:e}))}),[]);function I(e){const s={search:e,perPage:10};return b.A.getAll(s).then((e=>e.data.map((e=>{var s;return{label:null===(s=e.product.translation)||void 0===s?void 0:s.title,value:e.id}}))))}return(0,g.jsx)(l.A,{title:e("add.bonus"),className:"h-100",children:(0,g.jsxs)(r.A,{name:"bonus-add",layout:"vertical",onFinish:a=>{const n={expired_at:f()(a.expired_at).format("YYYY-MM-DD"),status:a.status,shop_product_id:a.shop_product_id.value,bonus_product_id:a.bonus_product_id.value,bonus_quantity:a.bonus_quantity,shop_product_quantity:a.shop_product_quantity};N(!0);const r="seller/bonus/product";y.A.create(n).then((()=>{u.oR.success(e("successfully.created")),t((0,x.EK)({...s,nextUrl:r})),v(`/${r}`),t((0,q.q)())})).finally((()=>N(!1))),console.log("body",n)},form:_,initialValues:{status:!0,...s.data},className:"d-flex flex-column h-100",children:[(0,g.jsxs)(d.A,{gutter:12,children:[(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{label:e("products"),name:"shop_product_id",rules:[{required:!0,message:e("required")}],children:(0,g.jsx)(j.G,{fetchOptions:I,debounceTimeout:200})})}),(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{label:e("product.quantity"),name:"shop_product_quantity",rules:[{required:!0,message:e("required")}],children:(0,g.jsx)(o.A,{className:"w-100",min:0})})}),(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{label:e("bonus.product"),name:"bonus_product_id",rules:[{required:!0,message:e("required")}],children:(0,g.jsx)(j.G,{fetchOptions:I,debounceTimeout:200})})}),(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{label:e("bonus.product.quantity"),name:"bonus_quantity",rules:[{required:!0,message:e("required")}],children:(0,g.jsx)(o.A,{className:"w-100",min:0})})}),(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{name:"expired_at",label:e("expired.at"),rules:[{required:!0,message:e("required")}],children:(0,g.jsx)(c.A,{className:"w-100",placeholder:"",disabledDate:e=>f()().add(-1,"days")>=e})})}),(0,g.jsx)(i.A,{span:12,children:(0,g.jsx)(r.A.Item,{label:e("active"),name:"status",valuePropName:"checked",children:(0,g.jsx)(h.A,{})})})]}),(0,g.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,g.jsx)("div",{className:"pb-5",children:(0,g.jsx)(p.A,{type:"primary",htmlType:"submit",loading:w,children:e("submit")})})})]})})}},47992:(e,s,t)=>{t.d(s,{G:()=>i});var a=t(9950),n=t(95491),u=t.n(n),r=t(99674),l=t(90650),d=t(44414);const i=e=>{let{fetchOptions:s,debounceTimeout:t=400,...n}=e;const[i,o]=(0,a.useState)(!1),[c,h]=(0,a.useState)([]),p=(0,a.useMemo)((()=>u()((e=>{h([]),o(!0),s(e).then((e=>{h(e),o(!1)}))}),t)),[s,t]);return(0,d.jsx)(r.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,notFoundContent:i?(0,d.jsx)(l.A,{size:"small"}):"no results",...n,options:c,onFocus:()=>{c.length||p("")}})}}}]);